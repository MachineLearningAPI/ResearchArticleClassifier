Advances in Mathematics 225 (2010) 3327–3424
www.elsevier.com/locate/aim

A categorification of quantum sl(2)
Aaron D. Lauda
Department of Mathematics, Columbia University, New York, NY 10027, USA
Received 21 October 2008; accepted 7 June 2010
Available online 19 June 2010
Communicated by Roman Bezrukavnikov

Abstract
˙ — a version of the quantized enveloping algebra Uq (sl2 ). Using a graphical
We categorify Lusztig’s U
˙ The
calculus a 2-category U˙ is constructed whose split Grothendieck ring is isomorphic to the algebra U.
indecomposable morphisms of this 2-category lift Lusztig’s canonical basis, and the Homs between 1˙ Graded lifts of various homomorphisms
morphisms are graded lifts of a semilinear form defined on U.
˙ arise naturally in the context of our graphical calculus. For each positive
and antihomomorphisms of U
integer N a representation of U˙ is constructed using iterated flag varieties that categorifies the irreducible
˙
(N + 1)-dimensional representation of U.
© 2010 Elsevier Inc. All rights reserved.
Keywords: Lusztig canonical basis; Categorification; Partial flag varieties; 2-representation; Diagrammatic algebra

Contents
1.

2.

3.

Introduction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
1.1. What to expect from categorification? . . . . . . . . . . . .
1.2. What this paper does . . . . . . . . . . . . . . . . . . . . . . . .
Uq (sl2 ) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
2.1. Conventional Uq (sl2 ) . . . . . . . . . . . . . . . . . . . . . . .
2.2. Lusztig’s quantum sl2 . . . . . . . . . . . . . . . . . . . . . . .
˙ ....................
2.3. The semilinear form on U
Review of nilHecke ring and Schubert polynomials . . . . . . . .
3.1. The nilHecke ring N Ha . . . . . . . . . . . . . . . . . . . . .
3.2. Divided difference operators and Schubert polynomials

E-mail address: lauda@math.columbia.edu.
0001-8708/$ – see front matter © 2010 Elsevier Inc. All rights reserved.
doi:10.1016/j.aim.2010.06.003

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.

3328
3329
3330
3334
3334
3336
3338
3341
3341
3342

3328

4.

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

Graphical calculus . . . . . . . . . . . . . . . . .
4.1. String diagrams for 2-categories . . .
4.2. Graphical calculus for biadjoints . . .
4.3. Mateship under adjunction . . . . . . .
4.4. Duals for 2-morphisms . . . . . . . . .
5. The 2-category U . . . . . . . . . . . . . . . . . .
5.1. Some categorical preliminaries . . . .
5.2. The 2-category U ∗ . . . . . . . . . . . .
5.3. Summary . . . . . . . . . . . . . . . . . .
5.4. Helpful relations in U ∗ . . . . . . . . .
5.5. The 2-category U . . . . . . . . . . . . .
5.6. Symmetries of U . . . . . . . . . . . . .
5.7. Lifting the relations of E and F . . .
6. Graphical calculus for iterated flag varieties
6.1. Iterated flag varieties . . . . . . . . . . .
6.2. Diagrammatics . . . . . . . . . . . . . . .
6.3. Bimodule maps . . . . . . . . . . . . . .
7. Representing U ∗ on the flag 2-category . . .
7.1. Defining the 2-functor ΓN . . . . . . .
7.2. Proving that ΓN is a 2-functor . . . .
8. Size of 2-category U ∗ . . . . . . . . . . . . . . .
˙ .........
9. Categorification of Lusztig’s U
9.1. Karoubi envelope . . . . . . . . . . . . .
9.2. The 2-category U˙ . . . . . . . . . . . . .
˙ ......
9.3. U˙ as a categorification of U
10. Proof of Proposition 2.8 . . . . . . . . . . . . .
Acknowledgments . . . . . . . . . . . . . . . . . . . . . .
References . . . . . . . . . . . . . . . . . . . . . . . . . . .

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.
.

3346
3346
3348
3350
3351
3353
3353
3355
3363
3364
3368
3370
3373
3376
3376
3381
3385
3385
3385
3390
3401
3407
3407
3408
3413
3419
3423
3423

1. Introduction
It is quite natural to expect that a categorification of quantum groups should exist. The
strongest evidence in support of this conjecture is Lusztig’s important discovery of canonical
bases which have surprising positivity and integrality properties [34]. The existence of these
bases suggests that the representation theory of quantized enveloping algebras, and even the algebras themselves, can be realized as Grothendieck rings of some higher categorical structure
where every object decomposes into a direct sum of objects lifting Lusztig’s canonical basis.
Here we use a diagrammatic calculus to give an entirely algebraic categorification in the context of sl2 , identifying the structures present in such a categorification, and providing concrete
algebraic tools for studying this categorification.
The idea of obtaining an algebraic categorification of Uq (sl2 ) using its canonical basis is by
no means new. It originated in the work of Crane and Frenkel [14] where the term ‘categorification’ first appeared. There the authors had in mind a categorification of the Hopf algebra
Uq (sl2 ) at a root of unity. They argue that such a categorification could lead to combinatorial
4-dimensional topological quantum field theories. In this paper we take a step towards achiev-

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3329

ing this goal by following an insightful conjecture of Igor Frenkel [16] to categorify the algebra
Uq (sl2 ) at generic q using its canonical basis.
Prior to our work, most progress towards an algebraic categorification of Uq (sl2 ) has been
achieved by categorifying its representations. A program for categorifying the representation
category of Uq (sl2 ) has been formulated by Bernstein, Frenkel, and Khovanov (BFK) [7], and
various steps in this program have already been implemented. The symmetric powers V1⊗n of
the fundamental representation V1 of U(sl2 ) were categorified by BFK [7] and extended to
the graded case of Uq (sl2 ) by Stroppel [42]. Other tensor product representations of Uq (sl2 )
were then categorified by Frenkel, Khovanov and Stroppel [17]. These algebraic categorifications were strongly motivated by the geometric categorifications of representations constructed
using perverse sheaves [4,21]. Progress continues to be made in the area of geometric categorification. Recently, Zheng has constructed geometric categorifications of tensor products of simple
Uq (sl2 )-modules using perverse sheaves [44].
In this paper we take a different approach and categorify the algebra Uq (sl2 ) directly, rather
than its representations. More precisely, we construct a 2-category U˙ whose split Grothendieck
˙ The algebra U
˙ is a version of
ring K0 (U˙ ) is isomorphic to the integral form of Lusztig’s U.
Uq (sl2 ) best suited for studying representations that admit a decomposition into weight spaces.
It was first introduced by Beilinson, Lusztig, and MacPherson [4], and was later generalized by
Lusztig [34]. Lusztig’s canonical basis B˙ for this algebra is such that all the structure constants are
˙
in N[q, q −1 ]. We show that all elements of Lusztig’s B˙ can be realized as generators [b] ∈ K0 (U)
corresponding to indecomposable 1-morphisms of U˙ .
˙ is given by a 2-category, rather
It may be surprising that a categorification of the algebra U
than a category. The reason for this is that Lusztig’s version of Uq (sl2 ) is naturally a category. The
˙ is obtained from the integral version of Uq (sl2 ) by adjoining a collection of orthogonal
algebra U
idempotents 1n , for n ∈ Z, indexed by the weight lattice of Uq (sl2 ). This decomposes the algebra
˙
˙ into a direct sum ⊕n,m∈Z 1m U1
˙ n . The collection of n ∈ Z form the objects of the category U,
U
˙ n ; composition is given by multiplication, the
and the hom sets from n to m are given by 1m U1
identity morphisms are the idempotents 1n . Thus, it is natural to expect that a categorification of
˙ would have the structure of a 2-category.
U
Beilinson, Lusztig and MacPherson [4] and Grojnowski and Lusztig [21] gave a geometric
interpretation of Schur quotients of quantum sln using perverse sheaves on partial flag varieties. This can be viewed as a geometric categorification of these quotients where the higher
categorical structure can be realized in terms of the Ext-algebras between these sheaves. The
2-category U˙ should be related to a limiting or stable case of these quotients by a version
of the parabolic Soergel functor. Such a relationship would supply a diagrammatic generators
and relations description of the Ext-algebras between sheaves arising in the Beilinson-LusztigMacPherson construction.
Our approach to categorification most closely mirrors the work of Chuang and Rouquier [12].
They study categorifications of locally finite sl2 -representations using an approach that can be
viewed as a direct categorification of the algebra sl2 . Many features of their approach have
analogs in our work, such as biadjointness and Hecke algebra actions on 2-morphisms. This
will be explained in greater detail below.
1.1. What to expect from categorification?
˙ An outline of what to expect
What makes a good candidate for a categorification U˙ of U?
appears in the survey article [29]. At the very least there should be a 1-morphism b in U˙ for each

3330

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

˙ There should also be 1-morphisms b{s} in U˙ for each
element [b] in Lusztig’s canonical basis B.
˙ That is, [b{s}] = q s [b], so that multiplication
s ∈ Z lifting the Z[q, q −1 ]-module structure of U.
by q lifts to the invertible functor {1} of shifting by 1. We identify b with b{0} and say that
˙ composition
b = b{0} has no shift. For the Grothendieck ring to be isomorphic to the algebra U
˙ that is, [xy] = [x][y]. Furthermore,
of 1-morphisms in U˙ must correspond to multiplication in U,
in order to lift Lusztig’s canonical basis every morphism in U˙ must have decomposition into a
direct sum of indecomposables; the isomorphism classes of these indecomposables with no shift
˙
{s} should bijectively correspond to the elements of B.
˙ to have rich new features on the level of 2We would also expect a categorification of U
˙ (that do not use minus signs) should have lifts to 2morphisms, and that various maps on U
functors on U˙ . The grading shift operation on 1-morphisms suggests that the 2-morphisms of
U˙ should have a grading as well. One might suspect that the homs U˙ (x, y) should form graded
˙
abelian groups, but this requirement is too strong. In particular, if U(x,
y) is a graded abelian
group for all 1-morphisms x, y ∈ U˙ , then the objects x and x{s} would become isomorphic
by the shifted identity map. However, this would imply that in the Grothendieck ring [x] =
˙
y) in 2-category U˙ should consist of 2-morphisms
q s [x]. Instead, we expect that the homs U(x,
that preserve the degree of the source and target. The presence of the grading suggests that U˙
should also have an ‘enriched’ hom functor that associates a graded abelian group U˙ ∗ (x, y) :=
˙
y) to x and y.
⊕s∈Z U(x{s},
The enriched hom U˙ ∗ (,) is a rigidly defined structure. This is because any choice of U˙ ∗ (,)
˙ given by taking the graded rank rkq of U˙ ∗ (x, y). That
will descend to a pairing [x], [y] on U
is,
[x], [y] := rkq U˙ ∗ (x, y) =

q s rk U˙ x{s}, y ,
s∈Z

˙
˙
where rk U(x{s},
y) is the usual rank of the abelian group U(x{s},
y) of degree zero 2-morphisms.
Notice the behaviour of this pairing with respect to the shift functor in each variable. If a map
f : x → y has degree α, then the degree of the corresponding map f : x{r} → y will be α − r.
Similarly, the map f : x → y{r } will have degree α + r . Hence,
q r [x], [y] = rkq U˙ ∗ x{r}, y = q −r rkq U˙ ∗ (x, y) = q −r [x], [y] ,
˙∗

[x], q [y] = rkq U x, y r
r

˙∗

= q rkq U (x, y) = q [x], [y]
r

r

(1.1)
(1.2)

˙ must be semilinear, i.e. Z[q, q −1 ]-antilinear in the first slot, and
so that the pairing induced on U
−1
Z[q, q ]-linear in the second. Hence, the enriched hom on the 2-category U˙ must categorify a
˙
semilinear form on U.
1.2. What this paper does
In this paper we construct a 2-category that has all of these desirable properties mentioned
above. A quick summary of our results is given below:
˙
• We construct a 2-category U˙ such that the split Grothendieck ring K0 (U˙ ) is isomorphic to U
˙
and show that the indecomposable 1-morphisms b of U with no shift correspond to elements
˙
in Lusztig canonical basis B.

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3331

• We provide a graphical calculus that makes calculations inside U˙ easy to visualize. By studying the symmetries of our graphical calculus we find 2-functors that categorify many algebra
˙
homomorphisms defined on U.
˙ and construct an enriched hom on the 2-category U˙
• We define a semilinear form , on U
that categorifies the semilinear form , . All the 1-morphisms in U˙ have both left and right
adjoints. This imposes additional requirements on the semilinear form illustrating the rigidity
of our construction.
• Our categorification U˙ naturally admits an action of the nilHecke algebra on the endomor˙
˙ a 1n , E a 1n ), a ∈ N, of the 1-morphisms E a 1n lifting the elements E a 1n in U,
phism ring U(E
˙
providing an example of the richer structure expected from a categorification of U.
• Finally, for each positive integer N we define a representation ΓN of U˙ on a 2-category
Flag∗N . This 2-category is constructed using the cohomology rings of iterated flag varieties.
We show that the representation ΓN categorifies the irreducible (N + 1)-dimensional repre˙
sentation of U.
We now elaborate on these points.
˙
1.2.1. Categorifying U
˙ we introduce a 2-category U ∗ . This 2-category is primarily for the purpose
To categorify U
of defining what we mean by the ‘enriched hom’ of a 2-category. The 2-category U ∗ has one
˙ A morphism from n to m is a formal
object n, for n ∈ Z corresponding to the idempotents in U.
direct sum of elements of the form 1m E α1 F β1 · · · E αk F βk 1n for αi , βi ∈ {0, 1, 2, · · ·}. For each
such morphism x there is also a morphism x{s} so that the shift map {s} lifts the Z[q, q −1 ] action
with q s acting on x by x{s}. For a pair of morphisms x and y of U ∗ the hom sets U ∗ (x, y) are
graded abelian groups, ensuring that every 2-morphism has a grading associated to it. We also
require that the shift map {s} on 1-morphisms extends to 2-morphisms as well (so that the shift
map is an invertible 2-functor on U ∗ ).
As we already mentioned above, the 2-category U ∗ will not have the correct structure on
the Grothendieck group because shifting the identity map will give an isomorphism between
x and x{s}. That is, the degree s map x → x{s} and the degree −s map x{s} → x obtained
from the identity map x → x establish an isomorphism x ∼
= x{s}. However, the 2-subcategory U
obtained from U ∗ by restricting to degree-preserving 2-morphisms will not have the property that
x∼
= x{s} since the shifted identity map is not degree preserving. The advantage of introducing
the 2-category U ∗ is that it allows notions like the degree of a 2-morphism to have meaning in U
and it also provides a way to associate a graded abelian group to any pair of 1-morphisms.
In the 2-category U the homs U(x, y) are no longer graded abelian groups. Rather, the collection of degree zero 2-morphisms is simply an abelian group. Because the 2-category U is
a 2-subcategory of U ∗ , there is a natural association of a graded abelian group to each pair of
1-morphisms — an enriched hom. This graded abelian group is given by the image of U(x, y)
under the inclusion U → U ∗ . That is, the enriched hom is given by the graded abelian group
U ∗ (x, y) :=

U x{s}, y .
s∈Z

To understand the split Grothendieck ring of U we need to be able to decompose an arbitrary
morphism x into a direct sum of indecomposables. This can be achieved by constructing a collection of primitive orthogonal idempotents {ei }ki=1 in A := U(x, x) that decompose the identity

3332

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

2-morphism 1x = e1 + e2 + · · · + ek . If the idempotents split, then we have x = x1 ⊕ x2 ⊕ · · · ⊕ xk
where each xi = Im(ei ) and Hom(ei , ej ) = ei Aej . While we can construct primitive orthogonal
idempotents in U(x, x) that decompose the identity 1x , we are not able to deduce that x decomposes into a sum of indecomposables. This is because we are working inside of an abstract
2-category and there is nothing to guarantee that the idempotents ei split providing a direct sum
decomposition of x.
To resolve the final issue of decomposing a 1-morphism into a direct sum of indecomposables we pass to the Karoubian envelope Kar(U). The Karoubian envelope is an enlargement
˙ is given by
of the 2-category U inside of which all idempotents split. Our categorification of U
˙
U = Kar(U). The Karoubian envelope is given by a universal property which provides a fully
faithful embedding U → U˙ . Using this embedding we can use the results derived for U ∗ and U
inside of a framework where idempotents split. In Corollary 9.12 we show that the isomorphism
classes of indecomposables with no shift are in a bijection with Lusztig’s canonical basis, and in
˙
Theorem 9.13 we show that the split Grothendieck group of U˙ is isomorphic to U.

1.2.2. Graphical calculus
The 2-category U ∗ is defined by generators and relations. The 2-morphisms of U ∗ are specified using a graphical calculus of string diagrams common in the study of 2-categories. This
calculus is explained in Section 4. To get a preview of what is to come, the generators of U ∗ are
given below:

zn

n+2

•

zn

n

n

deg 2

•

n+4

n+2

E

deg n + 1

deg −2

η

εn
n

F

n

n
deg 1 − n

n+4

n

n

εn
E

Un

deg −2

deg 2

ηn
F

Un

F

E

deg n + 1

n
E

F

deg 1 − n

The second set of diagrams depicts the units and counits for the biadjoint structure on the morphisms E and F .

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3333

The relations on the 2-morphisms of U ∗ are also conveniently expressed in this calculus. For
example, one relation in U ∗ is the equation
n

m−n

=
•

•

n
m−n−

−
•

=0

m

n−1+

that is used to reduce complex diagrams into simpler ones. Furthermore, topological intuition
can be applied to these diagrams because the relations imposed on U ∗ ensure that any boundary
preserving planar isotopy of a diagram results in the same 2-morphism.
Another advantage of formulating the definition of U ∗ in terms of these diagrams is that
certain symmetries of the 2-category U ∗ become obvious. By a symmetry we mean certain invertible 2-functors on the category U ∗ . We show in Theorem 9.16 that the invertible 2-functors
constructed using the symmetries of the graphical calculus are graded lifts of well-known algebra
˙ These algebra maps are recalled in Section 2.1 and Section 2.2.
maps on U.
1.2.3. Semilinear form
˙ by twisting a certain bilinear form on U.
˙
In Section 2.3 we define a semilinear form , on U
We derive explicit formulas for the value of this semilinear form on elements in Lusztig’s basis.
We show in Theorem 9.18 that the enriched hom U˙ ∗ (x, y) between any two 1-morphisms x, y ∈
U˙ is a categorification of this semilinear form in the sense that
rkq U˙ ∗ (x, y) = [x], [y] .

(1.3)

1.2.4. NilHecke action
There is an action of the nilHecke ring on the endomorphisms of E a 1n . The biadjoint structure
gives an action of the opposite of the nilHecke ring on the endomorphisms of F a 1n . The nilHecke
algebra denoted N Ha is the algebra with unit generated by ui for 1 i < a, and pairwise
commuting elements χi , for 1 i a. The generators satisfy the relations
u2i = 0 (1

ui ui+1 ui = ui+1 ui ui+1
ui uj = uj ui

ui χj = χj ui

i < a),
(1

if |i − j | > 1,

i < a − 1),

if |i − j | > 1,

ui χi = 1 + χi+1 ui

(1

i < a),

χi ui = 1 + ui χi+1

(1

i < a).

The relations in the left column are similar to the relations for the symmetric group except that
u2i = 0, rather than u2i = 1. Many of the properties of the nilHecke algebra are collected in
Section 3.
The algebra generated by the ui subject to the relations in the left hand column is called the
nilCoxeter algebra. This algebra has already appeared in the context of categorification. Khovanov uses this algebra to categorify the Weyl algebra in [27]. Its appearance again in the context
of categorifying Uq (sl2 ) is perhaps not a coincidence. In our context the nilHecke algebra action is built into the definition of the 2-category U ∗ . One reason for this is that the nilHecke
relations help to show that any diagram constructed from the generating 2-morphisms of U ∗

3334

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

can be reduced to very simple diagrams. The nilpotency of the generators ui in the nilCoxeter
algebra control the size of the collection of 2-morphisms in U˙ , effectively limiting the number
of idempotent 2-morphisms. It is crucial to control idempotent 2-morphisms in order to have
indecomposable 1-morphisms correspond bijectively to Lusztig canonical basis elements.
Another connection worth mentioning is the relationship to Chuang and Rouquier’s sl2 categorifications [12] (see also [39]). Within their framework for categorifying locally finite sl2
representations they require an action of the degenerate affine Hecke algebra on the 2-morphisms
of such a categorification. This action results in a beautiful classification theorem for sl2 categorifications. They also provide many interesting examples which have an action of the
degenerate affine Hecke algebra. Our goal is to extend their construction to the graded case,
categorify Uq (sl2 ) and Lusztig’s canonical bases, all in the graphical framework emphasizing a
new interplay between topology and algebra.
1.2.5. Iterated flag varieties
One drawback in defining the 2-morphisms of U ∗ by generators and relations is the difficulty
in proving that the relations do not force the 2-morphisms to be trivial, or the other extreme, the
relations might be so weak that the number of 2-morphisms becomes huge and unmanageable.
To show that our relations appropriately control the size of the 2-morphisms in U ∗ we construct
representations of U ∗ built from iterated flag varieties (Proposition 8.1). By restricting to the
degree preserving 2-morphisms these representations provide representations of U as well.
˙ is regarded as
What do we mean by a representation of a 2-category? When the algebra U
˙ into some other category, like the
a category, a representation is a functor from the category U
category of vector spaces, or rings. Thus, a representation of the 2-category U ∗ is a 2-functor from
U ∗ to some other 2-category, such as the 2-category Bim whose objects are rings, morphisms are
bimodules, and 2-morphisms are bimodule maps.
For each positive integer N we construct representations ΓN : U ∗ → Flag∗N (Theorem 7.12).
This induces a representation Γ˙N : U˙ → Flag∗N (see Theorem 9.15). The 2-category Flag∗N is a
sub-2-category of Bim whose objects are the cohomology rings of certain Grassmannian varieties. The morphisms in Flag∗N are bimodules constructed using the cohomology rings of iterated
flag varieties, and the 2-morphisms are bimodule maps.
It is known that iterated flag varieties categorify irreducible representations of Uq (sl2 ) [4,12,
17]. Here we extend this work to show that the 2-category Flag∗N , categorifying the (N + 1)dimensional irreducible representation of Uq (sl2 ), carries the additional structure coming from
the representation ΓN . This includes the NilHecke action described above, biadjointness, and the
rest of the relations of U˙ . All of this structure is given explicitly.
Proving that the ΓN preserve the relations of the 2-category U ∗ is a difficult task. To prove this
we develop a different graphical calculus for performing calculations with the cohomology rings
of iterated flag varieties. Using the representations ΓN we are able to show that the 2-morphisms
in U ∗ have the appropriate size. This is then used to show that the split Grothendieck ring of U˙
˙
is isomorphic to the algebra U.
2. Uq (sl2 )
2.1. Conventional Uq (sl2 )
Definition 2.1. The quantum group Uq (sl2 ) is the associative algebra (with unit) over Q(q) with
generators E, F , K, K −1 and relations

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

KK −1 = 1 = K −1 K,

3335

(2.1)

KE = q 2 EK,

(2.2)

KF = q −2 F K,

(2.3)

EF − F E =

K − K −1
.
q − q −1

(2.4)

For simplicity the algebra Uq (sl2 ) is written U.
Define the quantum integer [a] =

q a −q −a
q−q −1

with [0] = 1 by convention. The quantum factorial

a
[a]!
is then [a]! = [a][a − 1] . . . [1], and the quantum binomial coefficient [ ] = [b]![a−b]!
, for 0
b
Ea
Fa
and F (a) = [a]!
. Denote the Z[q, q −1 ]
b a. For a 0 define the divided powers E (a) = [a]!
form of U by A U. This Z[q, q −1 ]-algebra is the Z[q, q −1 ]-subalgebra of U spanned by products
of elements in the set
E (a) , F (a) , K ±1 a ∈ Z+ .
Important algebra automorphisms of U:
Let ¯ be the Q-linear involution of Q(q) which maps q to q −1 .
• The Q(q)-antilinear algebra isomorphism ψ : U → U is given by
ψ(E) = E,

ψ(F ) = F,

ψ(f x) = f¯ψ(x)

ψ(K) = K −1 ,

for f ∈ Q(q) and x ∈ U.

• There is a Q(q)-linear algebra automorphism ω : U → U
ω(K) = K −1 ,

ω(E) = F,

ω(F ) = E,

ω(f x) = f ω(x),

for f ∈ Q(q) and x ∈ U,

ω(xy) = ω(x)ω(y),

for x, y ∈ U,

that is its own inverse.
• There is a Q(q)-linear algebra antiautomorphism σ : U → Uop
σ (K) = K −1 ,

σ (E) = E,

σ (F ) = F,

σ (f x) = f σ (x),

for f ∈ Q(q) and x ∈ U,

σ (xy) = σ (y)σ (x),

for x, y ∈ U.

• The algebra U has a Q(q)-antilinear antiautomorphism τ : U → Uop described by

3336

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

τ (E) = qF K −1 ,

τ (F ) = qEK,

τ (K) = K −1 ,

τ (f x) = f¯τ (x),

for f ∈ Q(q) and x ∈ U,

τ (xy) = τ (y)τ (x),

for x, y ∈ U.

The inverse of τ is given by τ −1 (E) = q −1 F K, τ −1 (F ) = q −1 EK −1 , τ −1 (K) = K −1 .
• The Q(q)-linear algebra antiautomorphism ρ : U → Uop given by
ρ(E) = qKF,

ρ(F ) = qK −1 E,

ρ(f x) = fρ(x),

for f ∈ Q(q) and x ∈ U,

ρ(xy) = ρ(y)ρ(x),

for x, y ∈ U,

ρ(K) = K,

is its own inverse, ρ 2 = 1. It is related to the antialgebra automorphism τ by
ρ = ψτ,

ρ = τ −1 ψ,

τ = ψρ.

(2.5)

2.2. Lusztig’s quantum sl2
˙ 2 ), is spanned by generators
Recall that U0 denotes the toral part of U which, in the case of U(sl
˙ is a modified form of U in which U0 is replaced by a collection
K and K −1 . The Q(q)-algebra U
of orthogonal idempotents 1n for n ∈ Z
1n 1m = δn,m 1n ,

(2.6)

indexed by the weight lattice of sl2 , such that
K1n = 1n K = q n 1n ,

E1n = 1n+2 E,

F 1n = 1n−2 F.

(2.7)

˙ of U
˙ is a modified form of A U where again the toral
Similarly, the Z[q, q −1 ]-subalgebra A U
0
part A U is replaced by a collection of orthogonal idempotents (2.6), such that
K1n = 1n K = q n 1n ,

E (a) 1n = 1n+2a E (a) ,

F (a) 1n = 1n−2a F (a) .

(2.8)

There are direct sum decompositions of algebras
˙ n,
1m U1

˙ =
U
n,m∈Z

˙

˙ n
1m (A U)1

AU =
n,m∈Z

˙ n the Z[q, q −1 ]-subalgebra spanned by 1m E (a) F (b) 1n and 1m F (b) E (a) 1n for
with 1m (A U)1
a, b ∈ Z+ .
˙
˙ does not have a unit since the infinite sum
The algebra U
n∈Z 1n is not an element in U;
however, the system of idempotents {1n | n ∈ Z} in some sense serves as a substitute for a unit.
Algebras with systems of idempotents have a natural interpretation as pre-additive categories. In
˙ is a category with one object n for each n ∈ Z with homs from n to m given
this interpretation, U
˙ m . The idempotents 1n are the identity morphisms for this category
by the abelian group 1n U1
˙ as
˙ A similar interpretation of algebra A U
and composition is given by the algebra structure of U.
a pre-additive category also holds.

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3337

˙ are collected below for later convenience:
Some of the relations in A U
E (a) E (b) 1n =

a+b
E (a+b) 1n ,
a

(2.9)

F (a) F (b) 1n =

a+b
F (a+b) 1n ,
a

(2.10)

min(a,b)

F (a) E (b) 1n =
j =0
min(a,b)

E (a) F (b) 1n =
j =0

a−b−n
E (b−j ) F (a−j ) 1n ,
j

(2.11)

a−b+n
F (b−j ) E (a−j ) 1n .
j

(2.12)

˙ consists of the elements
Lusztig’s canonical basis B˙ of U
(i) E (a) 1−n F (b) for a, b, n ∈ N, n a + b,
(ii) F (b) 1n E (a) for a, b, n ∈ N, n a + b,
where E (a) 1−a−b F (b) = F (b) 1a+b E (a) . The importance of this basis is that the structure constants are in N[q, q −1 ]. In particular, for x, y ∈ B˙
xy =

mzx,y z
x∈B˙

˙ in the form:
with z ∈ B˙ and mzx,y ∈ N[q, q −1 ]. We rewrite Lusztig’s basis B˙ of U
(i) E (a) F (b) 1n
(ii) F (b) E (a) 1n

for a,b ∈ Z+ , n ∈ Z, n
for a,b ∈ Z+ , n ∈ Z, n

b − a,
b − a,

where E (a) F (b) 1b−a = F (b) E (a) 1b−a . Let
˙ n . Then the set B˙ is a union
1m U1

˙n
mB

denote the set of elements in B˙ belonging to

B˙ =

˙ n.
mB
n,m∈Z

The algebra maps ψ, ω, σ , τ and ρ all naturally extend to the integral form of Uq (sl2 ) if we
set
ψ(1n ) = 1n ,

ω(1n ) = 1−n ,

σ (1n ) = 1−n ,

ρ(1n ) = 1n ,

τ (1n ) = 1n .

˙ n allows these maps to be
Taking direct sums of the induced maps on each summand 1m U1
˙
extended to U. For example, the antiautomorphism τ induces for each n and m in Z an isomor˙ n → 1n U1
˙ m . Restricting to the Z[q, q −1 ]-subalgebra A U
˙ and taking direct sums,
phism 1m U1
˙
˙
we obtain an algebra antiautomorphism τ : A U → A U such that τ (1n ) = 1n , τ (1n+2 E1n ) =
q −1−n 1n F 1n+2 , and τ (1n F 1n+2 ) = q 1+n 1n+2 E1n for all n ∈ Z. These Z[q, q −1 ]-(anti)linear
˙
(anti)algebra homomorphisms are recorded below on some elements of A U:

3338

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

ω:

σ:

ψ:

τ:

q s 1m E (a) F (b) 1n → q s 1−m F (a) E (b) 1−n
q s 1m F (b) E (a) 1n → q s 1−m E (b) F (a) 1−n
q s 1n E (a) F (b) 1n → q s 1−n F (b) E (a) 1−m
q s 1m F (b) E (a) 1n → q s 1−n E (a) F (b) 1−m
q s 1m E (a) F (b) 1n → q −s 1m E (a) F (b) 1n
q s 1m F (b) E (a) 1n → q −s 1m F (b) E (a) 1n

,

(2.13)

,

(2.14)

(2.15)

,

q s 1m E (a) F (b) 1n → q −s−(a−b)(a−b+n) 1n E (b) F (a) 1m
q s 1m F (b) E (a) 1n → q −s−(a−b)(a−b+n) 1n E (b) F (a) 1m

.

(2.16)

Notice that for x ∈ B˙ we have ψ(x) = x so that ψ fixes elements in Lusztig’s canonical basis.
˙
2.3. The semilinear form on U
˙ ×U
˙ → Z[q, q −1 ] with
Proposition 2.2. (See Lusztig [34, 26.1.1].) There exists a pairing (,) : U
the properties:
˙
(,) is bilinear, i.e., (f x, y) = f (x, y), (x, fy) = f (x, y), for f ∈ Z[q, q −1 ] and x, y ∈ U,
˙
(1n x1m , 1n y1m ) = 0 for all x, y ∈ U unless n = n and m = m ,
˙
(ux, y) = (x, ρ(u)y) for u ∈ U and x, y ∈ U,
a
(a)
(a)
(a)
(a)
E 1n , E 1n ) = (F 1n , F 1n ) = s=1 (1−q1−2s ) (see [34], Lemma 1.4.4),
˙
(e) we have (x, y) = (y, x) for all x, y ∈ U.

(a)
(b)
(c)
(d)

˙ ×U
˙ → Z[q, q −1 ] by
Definition 2.3. Define a semilinear form , : U
x, y := x, ψ(y)

˙
for all x, y ∈ U.

From the proposition above this semilinear form has the properties given below:
˙ ×U
˙ → Z[q, q −1 ] has the following properties
Proposition 2.4. The map , : U
˙
, is semilinear, i.e., f x, y = f¯ x, y , x, fy = f x, y , for f ∈ Z[q, q −1 ] and x, y ∈ U;
˙
Hom property: 1n x1m , 1n y1m = 0 for all x, y ∈ U unless n = n and m = m ;
˙
Adjoint property: ux, y = x, τ (u)y for u ∈ U and x, y ∈ U;
1
(a)
(a)
(a)
(a)
Grassmannian property: E 1n , E 1n = F 1n , F 1n = aj =1 (1−q
2j ) ;
˙
(v) We have x, y = ψ(y), ψ(x) for all x, y ∈ U.

(i)
(ii)
(iii)
(iv)

Property (iv) is referred to as the Grassmannian property because the graded rank (denoted
rkq ) of the cohomology ring of the Grassmannian Gr(k, ∞) of k-planes in C∞ is given by
rkq H ∗ Gr(k, ∞)

k

=
j =1

1
.
(1 − q 2j )

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

We use the notation g(a) :=

a
1
j =1 (1−q 2j )

3339

in what follows, so that

E (a) 1n , E (a) 1n = F (a) 1n , F (a) 1n = g(a).
Proof. The only nontrivial property to check is (iii). This follows from (2.5) since
ux, y := ux, ψ(y) = x, ρ(u)ψ(y) = x, ψ τ (u) ψ(y)
= x, ψ τ (u)y

=: x, τ (u)y .

✷

(2.17)

The bilinear and semilinear forms restrict to pairings
˙ × AU
˙ → Z q, q −1 ,
(,) : A U

˙ × AU
˙ → Z q, q −1 .
, : AU

(2.18)

Proposition 2.5. We have
ω(x), ω(y) = x, y ,

(2.19)

σ (x), σ (y) = x, y

(2.20)

˙ and A U.
˙
for all x, y in U
Proof. This follows immediately from the corresponding property on the bilinear form , (see
Lusztig [34], Propositions 26.1.4 and 26.1.6). ✷
Consider the two subsets
B˙ + := E (a) F (b) 1n a, b, ∈ Z+ , n ∈ Z, n

b−a ,

B˙ − := F (d) E (c) 1n d, c, ∈ Z+ , n ∈ Z, n

d −c

(2.21)

˙ Note that B˙ + ∩ B˙ − consists of those elements for which n = b − a = d − c.
of elements in B.
Lemma 2.6. For fixed n, m ∈ Z, either m B˙ n ⊂ B˙ + , or m B˙ n ⊂ B˙ − . That is, m B˙ n only contains
elements of same form, either 1m E (a) F (b) 1n , or 1m F (d) E (c) 1n , except when n = b − a = d − c.
Proof. This is obvious. If 1m E (a) F (b) 1n ∈ m B˙ n and 1m F (d) E (c) 1n ∈ m B˙ n , then m = n + 2(a −
b) = n + 2(c − d), so that a − b = c − d. Hence, n b − a = d − c n which implies n =
b − a = d − c. ✷
The lemma implies that to determine the semilinear form on all elements in B˙ we need only
compute the inner product on basis elements of the same form, i.e.
E (a) F (b) 1n , E (c) F (d) 1n

with a − b = c − d and n

b − a,

(2.22)

F (b) E (a) 1n , F (d) E (c) 1n

with a − b = c − d and n

b − a,

(2.23)

since when n = b − a the basis elements E (a) F (b) 1n and F (b) E (a) 1n coincide.

3340

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

We now determine an explicit formula for the semilinear form of Definition 2.3 for elements
˙
in B.
Proposition 2.7. The value of the semilinear form x, y with x, y ∈ B˙ is given by the following
formulas:
E (a) F (b) 1n , E (c) F (d) 1n
min(a,c)

=
j =0

b+d −n
j

b+c−j
b

a+d −j
q (a+c−j )(b+d−j −n) g(b + c − j ),
d

a+d −j
a

b+c−j
q (b+d−j )(a+c−j +n) g(a + d − j )
c

F (b) E (a) 1n , F (d) E (c) 1n
min(b,d)

=
j =0

a+c+n
j

(2.24)
for a − b = c − d to ensure that the values are nonzero.
˙ and the fact that a − b = c − d
Proof. Using the properties in Proposition 2.4, the relations in U,
the inner product is
E (a) F (b) 1n , E (c) F (d) 1n
= F (b) 1n , τ E (a) E (c) F (d) 1n
= q −a(n+2(c−d)+a) F (b) 1n , F (a) E (c) F (d) 1n
= q −a(n+2(c−d)+a)

min(a,c)
j =0

min(a,c)

= q a(2b−a−n)
j =0

=q

(a+c−j )(b+d−j −n)

a − c − (n − 2d)
j

b+d −n
j
min(a,c)
j =0

F (b) 1n , E (c−j ) F (a−j ) F (d) 1n

τ −1 E (c−j ) F (b) 1n , F (a−j ) F (d) 1n

b+d −n
j

F (c−j ) F (b) 1n , F (a−j ) F (d) 1n

and using (2.9) and (2.10) we are done. A similar calculation establishes the other inner product
formula. ✷
The following formulas for the semilinear form are often more convenient.
Proposition 2.8. For all values of a, b, c, d ∈ Z+ with a − b = c − d and n ∈ Z we have

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3341

E (a) F (b) 1n , E (c) F (d) 1n
min(a,b)

=

q 2j

2 +(a−d+n)(a−c−2j )

g(a − j )g(b − j )g(j )g(c − a + j ),

j =max(0,a−c)

F (b) E (a) 1n , F (d) E (c) 1n
min(a,b)

=

q 2j

2 +(b−c−n)(b−d−2j )

g(a − j )g(b − j )g(j )g(c − a + j ).

j =max(0,a−c)

Proof. This tedious proof appears in Section 10.

✷

3. Review of nilHecke ring and Schubert polynomials
In this section we introduce the nilHecke ring and recall some facts about Schubert polynomials.
3.1. The nilHecke ring N Ha
Definition 3.1. The nilCoxeter ring, denoted N C a , is the unital ring generated by ui for 1
subject to the relations:
u2i = 0 (1
ui uj = uj ui

(3.1)

i < a),

ui ui+1 ui = ui+1 ui ui+1

(1

i<a

i < a − 1),

if |i − j | > 1.

(3.2)
(3.3)

In the symmetric group Sa we denote the elementary transposition that interchanges i and
i + 1 by si . For a permutation w ∈ Sa an expression w = si1 si2 · · · sim of minimal possible length
is called a reduced word presentation of w, and the length (w) of w is m. We denote by w0 the
element in Sa of maximal length. If an elementary permutation si is depicted as a crossing of the
ith and (i + 1)st strands
si

···

···

,

with multiplication achieved by stacking such diagrams on top or each other, then a reduced word
for w is represented by a diagram in which each strand never crosses itself and intersects other
strands at most once. The element w0 corresponds to a diagram where each strand crosses every
other strand exactly once.
Given a permutation w = si1 si2 · · · sim in Sa we define the element uw ∈ N C a by uw =
ui1 ui2 · · · uim . Here it is important to choose a reduced word presentation of w because the element in N C a would be zero otherwise by (3.1). Furthermore, it follows from the nilCoxeter
relations that uw does not depend on the particular choice of reduced word presentation.
The nilCoxeter ring N C a is a graded ring with deg ui = −2. The set {uw }w∈Sa forms a basis
of N C a as a free abelian group so that the graded rank of N C a is given by

3342

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

rkq N C a = 1 + q −2 1 + q −2 + q −4 · · · 1 + q −2 + · · · + q −2(a−1)
a

=
s=1

1 − q −2s
=
1 − q −2

a

q 1−s [s] = q −a(a−1)/2 [a]!

(3.4)

s=1

where [a]! denotes the quantum factorial defined in Section 2.2.
Definition 3.2. The nilHecke ring, denoted N Ha , is the ring with unit generated by ui for 1
i < a, and pairwise commuting elements χi , for 1 i a. The generators satisfy (3.1)–(3.3)
and
ui χj = χj ui

if |i − j | > 1,

(3.5)

ui χi = 1 + χi+1 ui

(1

i < a),

(3.6)

χi ui = 1 + ui χi+1

(1

i < a).

(3.7)

We will often regard N Ha as a graded ring with deg ui = −2 and deg χi = 2.
When we work over a field we refer to the nilHecke ring as the nilHecke algebra. The nilHecke
algebra was introduced by Kostant and Kumar [30]; an introduction to this algebra appears in the
thesis of Postnikov ([38], Chapter 2).
The nilCoxeter ring N C a and the polynomial ring Z[χ1 , . . . , χa ] are both subrings of N Ha .
As a graded abelian group N Ha = N C a ⊗Z Z[χ1 , . . . , χa ] so that using (3.4) we have
rkq N Ha = rkq N C a · rkq Z[χ1 , . . . , χa ] = q −a(a−1)/2 [a]!

1
1 − q2

a

.

(3.8)

It is not hard to see that a basis of N Ha is given by the set of elements
fw (χ)uw

w ∈ Sa and fw (χ) monomials in Z[χ1 , . . . , χa ] .

(3.9)

3.2. Divided difference operators and Schubert polynomials
Denote by Pa the graded polynomial ring Z[x1 , . . . , xa ] with deg xi = 2. Define the divided
difference operators1 ∂i : Pa → Pa by
∂i :=

1 − si
.
xi − xi+1

(3.10)

From this definition it is clear that both the image and kernel of the operator ∂i consist of polynomials which are symmetric in xi and xi+1 . From the definition we have
1 A generalization of divided differences has been studied in the context of the cohomology of generalized flag varieties
independently by Bernstein, Gelfand and Gelfand [6] and Demazure [15].

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

∂i2 = 0 (1
∂i ∂j = ∂j ∂i

(3.11)

i < a),

∂i ∂i+1 ∂i = ∂i+1 ∂i ∂i+1

(1

3343

i < a − 1),

if |i − j | > 1,

(3.12)
(3.13)

so that the collection of divided difference operators on Pa provide a representation of N C a
with ui → ∂i . This extends to an action of the nilHecke ring N Ha on Pa with χi acting by
multiplication by xi and uj acting by ∂j . We denote the action of uw by ∂w .
Below we collect some well-known facts about the divided difference operators. For details,
see for example Manivel [36, Chapter 2] and the references therein. It follows immediately from
(3.11)–(3.13) that
∂u ∂v =

∂uv
0

if (uv) = (u) + (v),
otherwise.

(3.14)

Definition 3.3. For w ∈ Sa define the Schubert polynomials of Lascoux and Schützenberger [31]
as
Sw (x) = ∂w−1 w0 x δ

(3.15)

where w0 is the permutation of maximal length and x δ = x1a−1 x2a−2 · · · xa−1 .
The Schubert polynomial Sw (x) is a homogeneous polynomial of degree 2 (w) in Pa . The
free graded abelian group generated by {Sw | w ∈ Sa } has graded rank
a

1 + q 2 1 + q 2 + q 4 · · · 1 + q 2 + · · · + q 2(a−1) =
s=1

1 − q 2s
= q a(a−1)/2 [a]! . (3.16)
1 − q2

This expression is most naturally expressed in terms of the nonsymmetric quantum integers
(j )q 2 :=

1 − q 2j
= 1 + q 2 + · · · + q 2(j −1) ,
1 − q2

which are related to the symmetric quantum integers by (j )q 2 = q j −1 [j ]. The graded rank above
is just the nonsymmetric quantum factorial (a)!q 2 = q a(a−1)/2 [a]!.
The action of divided difference operators on the Schubert polynomials is given by
∂u Sw =

Swu−1
0

if (wu−1 ) = (w) − (u),
otherwise.

(3.17)

In particular, ∂w Sw = Sww−1 = S1 = 1.
Denote by Λa the space of symmetric polynomials in the variables x1 , . . . , xa . The graded
rank of Λa is
rkq Λa =

1
1
1
=
.
(1 − q 2 )(1 − q 4 ) · · · (1 − q 2a−2 ) (a)! 2 (1 − q 2 )a
q

3344

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

Proposition 3.4. (See [36, Propositions 2.5.3 and 2.5.5].) The abelian subgroup Ha of Pa generated by monomials x1α1 x2α2 · · · xaαa , with αi a − i for all 1 i a, has rank a!. The Schubert
polynomials Sw , as w runs through Sa , form an integral base of Ha . The multiplication in Pa
induces a canonical isomorphism of the tensor product Ha ⊗ Λa with Pa as graded Λa -modules.
The proposition together with (3.16) imply that the basis of Schubert polynomials expresses
Pa as a free Λa -module of graded rank (a)!q 2 . In this basis, every endomorphism of Pa can
be expressed by an a! × a! sized matrix whose coefficients are in Λa . The ring of such matrices
inherits a natural grading from the basis of Schubert polynomials. Hence, HomΛa (Pa , Pa ) is isomorphic as a graded ring to the ring Mat((a)!q 2 ; Λa ) of (a)!q 2 × (a)!q 2 -matrices with coefficients

in Λa . In particular, rkq Mat((a)!q 2 ; Λa ) = (a)!q 2 (a)!q −2 rkq Λa . Furthermore, we get a homomorphism ϕ : N Ha → Mat((a)! 2 ; Λa ) given by letting N Ha act on Pa ∼
= ⊕ ! Λa using the action
(a)

q

q2

defined above.
Proposition 3.5. The homomorphism ϕ : N Ha → Mat((a)!q 2 ; Λa ) given by letting N Ha act on
Pa ∼
= ⊕(a)! Λa induces an isomorphism of graded rings.
q2

Proof. Order the basis of Schubert polynomials {Sw | w ∈ Sa } by length. To see that ϕ is injective suppose that for some collection of fw (χ) ∈ Z[χ1 , χ2 , . . . , χa ] we have
fw (χ)uw =

ϕ
w∈Sa

fw (x)∂w = 0

(3.18)

w∈Sa

with fw (x) ∈ Pa . In particular, for all polynomials p ∈ Pa we must have
fw ∂w (p) = 0.

(3.19)

w∈Sa

Choose v0 ∈ Sa of minimal length in the above sum. Then we must have for p = Sv0 ,
fw ∂w (Sv0 ) = 0,

(3.20)

w∈Sa

but by (3.17)
∂w Sv0 = Sv0 w−1
0

if (v0 w −1 ) = (v0 ) − (w),
otherwise.

(3.21)

Hence, the only contribution to (3.20) is from w ∈ Sa with (w) = (v0 ). Then (v0 w −1 ) =
(v0 ) − (w) = 0, but the only length zero element is the identity. Thus, v0 = w and (8.11)
implies fv0 = 0. Applying this argument inductively we have that all fw = 0 proving injectivity.

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3345

To see that ϕ is surjective we show that the elementary matrices Ei,j with a 1 in the ith row
and j th column and zero everywhere else are in the image of ϕ. If Sv is the ith basis element,
then the elementary matrices Ei,a! are given by

ϕ(Sv ∂w0 )

→

S1
⎛
S1
0
..
⎜ ..
.
⎜ .
⎜
⎜
⎜
Sv ⎜ 0
⎜
..
⎝
.

···
..
.
···
···

0

Sw0

Sw0
⎞
0
.. ⎟
. ⎟
⎟
0 ⎟
⎟
0
1 ⎟
⎟
..
.
0 ⎠
0
0
0
..
.

since
∂w0 Sw =

1 if w = w0 ,
0 otherwise.

(3.22)

Similarly, if w ∈ Sa is such that (w) = (w0 ) − 1 so that w = w0 si for some generator
si ∈ Sa , then
⎧
⎨ S si
∂w Su = 1
⎩
0

if u = w0 ,
if u = w,
otherwise.

(3.23)

Hence,

S1
..
.

Sv ∂w

→

⎛

⎜
⎜
⎜
⎜
⎜
Sv ⎜
⎜
⎜
⎜
⎜
..
⎜
.
⎜
⎜
⎜
⎜
S si 0 ⎜
⎜
⎜
..
⎜
.
⎜
⎜
⎝
Sw0

S1
0

···
..

0
..
.
..
.
..
.

.
··· 0

..

.

Sw
0
..
.
0
1
0
..
.

···

0
0
0
..
.

0

···

0

Sw0
⎞
0
.. ⎟
. ⎟
⎟
0 ⎟
⎟
0 ⎟
⎟
⎟
0 ⎟
.. ⎟
⎟
. ⎟
⎟
0 ⎟
⎟
1 ⎟
⎟
⎟
0 ⎟
⎟
.. ⎟
. ⎠
0

and the combination Sv ∂w − Ssi ∂w0 forms the elementary matrix with a single nonzero entry in
the row corresponding to v and the column corresponding to w. Inductively applying this process
shows that all elementary matrices in Mat((a)!q 2 ; Λa ) are in the image of the map ϕ. Hence, ϕ is
an isomorphism. ✷

3346

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

4. Graphical calculus
4.1. String diagrams for 2-categories
We use the graphical calculus of string diagrams to perform calculations inside of 2categories. String diagrams represent natural transformations between functors, or more generally 2-morphisms inside some 2-category K. A 2-morphism α : F ⇒ G between 1-morphisms
F, G : A → B is depicted by the diagram:
G

B

•α

A

F

which is read from bottom to top and from right to left.
From the diagram all of the source and target information for the 2-morphism α can be read
off immediately. Reading from bottom to top the bullet labelled by α divides lines labelled by F
and G. This tells us that the 2-morphism α is a map from the 1-morphism F to the 1-morphism G.
Going from right to left we pass from a region labelled A to a region labelled B. This tells us that
the 1-morphisms F and G are maps from A to B. So in this sense, regions in the plane can be
thought of as representing objects in the 2-category K and lines can be thought of as representing
1-morphisms in K.
We write the identity 2-morphism
F

B

F

• 1F A

as

B

F

A

F

for simplicity. The identity 2-morphism of an identity 1-morphism 1A : A → A can be drawn as
1A

A

A

1A

but to simplify the notation we represent this 2-morphism by the region labelled with an A
omitting the line. 2-morphisms between composites of 1-morphisms, such as a 2-morphism α

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

between the composite A
sented as

F1

B

F2

G1

D and the composite A

G2

C

3347
G2

D , can be repre-

G1

C
•

D

α

A

B
F2

F1

and between more general composites as
Gm ···G2 G1

G3

Gm

C2

···

···
Fn ···F2 F1

G1

C1

•

D

α

G2

A
B1

F2

Fn

(4.1)

F1

where the composites Fn · · · F2 F1 and Gm · · · G2 G1 are any composable string of 1-morphisms
mapping A to D.
Horizontal composition of 2-morphisms is depicted by placing the diagrams side by side. For
example,
G2

G1

C

B

A

• α2

• α1

F2

F1

and this is extended to 2-morphisms between arbitrary composites in the obvious way. Vertical
composition of 2-morphisms α1 : F ⇒ G and α2 : G ⇒ H is achieved by stacking these diagrams
on top of each other
H

C

•

α2

•

α1

A

G

F

whenever the sources and targets are compatible.

3348

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

4.2. Graphical calculus for biadjoints
When the 1-morphism F : A → B is equipped with a specified left adjoint F : B → A, written
F F , the chosen unit η : 1B ⇒ F F and chosen counit ε : F F ⇒ 1A of this adjunction are
depicted as follows:

F

FF

A

η

1B

A

1A

F

(4.2)

ε

B

B

FF

F

F

omitting the vertex labelling the 2-morphisms and the lines corresponding to the identity 1morphisms. The axioms of an adjunction require that the equalities between composites of 2morphisms

A

=

F

F

F

F

A

B

F

A
=

B
B

F

B

F

A

(4.3)

F

are satisfied. We call such equalities zig-zag identities.
Proposition 4.1. If η, ε : F U : A → B and η , ε : F
U : B → C are adjunctions in the 2category K, then F F U U with unit and counit given by the composites:

η¯ :=

ε¯ :=

η

1

FF U U

U

U ηF

UF

Fε U

U

FU

ε

F

F

A

U UFF

1

B

C

B

A

C
F

F

U

U

Proof. The zig-zag identities are straightforward to check using the string diagram calculus.

✷

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3349

If the 1-morphism F is biadjoint2 to the 1-morphism F , so that F F F , we fix once
and for all a choice of such a biadjoint structure. This is given by 2-morphisms η : 1B ⇒ F F ,
ε : F F ⇒ 1A , ε : 1A ⇒ F F , η : F F ⇒ 1B , depicted as
F

FF

A

η

1B

A

1A

F

ε

B

FF

FF

η

A

1A

F

F

B

ε

B

B

1B

F

F

A

FF

F

F

together with axioms asserting (4.3) and that the equalities
F

F

B
=
A

A

F

=

B
A

F

F

F

F

B

B

A

(4.4)

F

hold.
In general between any two objects A and B there may be many 1-morphisms between them
with biadjoints. However, the biadjoint F of a given 1-morphism F is unique up to isomorphism.
An example of a typical diagram representing a 2-morphisms consisting of composites of units
and counits for various biadjoints is given below:
F

D

H

B

H

D
C
A
A

F

G

B

E

G

Remark 4.2. The diagrammatic notation introduced in this section is the usual string diagram
calculus common in 2-category theory [24,40,41]. This calculus is Poincaré dual to the typical globular diagrams used for representing 2-cells in a 2-category. For more on biadjoint
1-morphisms and their graphical calculus see [3,28,32,33,37].
2 The author calls biadjoints ambidextrous adjoints in [32,33].

3350

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

4.3. Mateship under adjunction
Here we recall the Australian 2-category theoretic notion of mateship under adjunction introduced by Kelly and Street [26]. This is a certain correspondence between 2-morphisms in the
presence of adjoints.
U : A → B in the 2Definition 4.3. Given adjoints η, ε : F U : A → B and η , ε : F
category K, if a : A → A and b : B → B , then there is a bijection M between 2-morphisms
ξ ∈ K(bU, U a) and 2-morphisms ζ ∈ K(F b, aF ), where ζ is given in terms of ξ by the composite:
M : K bU, U a −→ K F b, aF

(4.5)

F bη

ξ →

Fb

F ξF

F bU F

F U aF

ε aF

aF

= ζ,

(4.6)

and ξ is given in terms of ζ by the composite:
M −1 : K F b, aF −→ K bU, U a
ζ →

(4.7)

η bU

bU

U ζU

U F bU

U aF U

U aε

U a = ξ. (4.8)

Under these circumstances we say that ξ and ζ are mates under adjunction.
This bijection becomes much more enlightening when expressed diagrammatically.
M : K bU, U a −→ K F b, aF ,
ε

a

F

a

U

A

A

•ξ

B

A →

•ξ A

B

B
b

(4.9)

B
U
b

F

η

M −1 : K F b, aF −→ K bU, U a ,
F

A

A

•ζ

A

B →

A ζ •

B
F

ε

a

U
a

(4.10)

B

B
b
η

b

U

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3351

This bijection satisfies essentially all naturality axioms one could impose. The precise statement of naturality of this bijection can be expressed as an isomorphism of certain double categories (see [26], Proposition 2.2). This makes precise the idea that the association of mateship
under adjunction respects composites and identities both of adjunctions and of morphisms in K.
4.4. Duals for 2-morphisms
Given a pair of 1-morphisms F, G : A → B with chosen biadjoints (F , ηF , ηF , εF , εF ) and
(G, ηG , ηG , εG , εG ), then any 2-morphism α : F ⇒ G has two obvious duals ∗ α, α ∗ : G ⇒ F , or
mates, one constructed using the left adjoint structure, the other using the right adjoint structure.
Diagrammatically the two mates are given by
F

A

∗

F

εG

α ∗ :=

•α

α :=

B

ηG

ηF

B

•α

A

(4.11)

εF

G

G

where we have inserted labels on the unit and counit 2-morphisms to avoid confusion. We will
call α ∗ the right dual of α because it us obtained from α as its mate using the right adjoints of F
and G. Similarly, ∗ α is called the left dual of α because it is obtained from α as its mate using
the left adjoints of F and G.
In general there is no reason why ∗ α should be equal to α ∗ . To see this, suppose that ∗ α = α ∗
for some choices of units and counits. Then for any invertible 2-morphism γ : 1B ⇒ 1B we can
twist the unit ηF by
ηF := (1B

γ

1B

ηF

F F ).

If we also twist the counit by the inverse of γ so that
εF := ( F F = F 1B F

F γ −1 F

FF

ηF

1A ),

then the pair (ηF , εF ) still satisfy the zig-zag identities (4.3). However, in the equation ∗ α = α ∗
the left hand side has been twisted by a factor of γ −1 , so that the equation only remains valid
when γ is the identity. Hence, it is clear that for α : F ⇒ G, equality between ∗ α and α ∗ depends
on the choice of biadjoint structure3 on F and G.
Following Cockett, Koslowski and Seely [13], we call a 2-morphism α : F ⇒ G a cyclic 2morphism if the equation ∗ α = α ∗ holds for the chosen biadjoint structure on F and G. More
precisely:
3 Thanks to Bruce Bartlett for pointing out this example.

3352

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

Definition 4.4. Given biadjoints (F, F , ηF , ηF , εF , εF ) and (G, G, ηG , ηG , εG , εG ) and a 2morphism α : F ⇒ G define
α ∗ := F ηG .εF G,
∗

α := εG F .GηF .

(4.12)

Then a 2-morphism α is called a cyclic 2-morphism if the equation ∗ α = α ∗ is satisfied, or either
of the equivalent conditions ∗∗ α = α or α ∗∗ = α are satisfied.
The notions of a pivotal category [18], and pivotal 2-category [35] are related to the notion of
cyclic 2-morphisms. In particular, fix an object A of a 2-category K, and regard the 1-morphism
category K(A, A) as a monoidal category whose objects are the endomorphisms of A, and whose
morphisms are the 2-morphisms between such 1-morphisms. If all 1-morphisms A → A have
biadjoints and all the 2-morphisms are composites of cyclic 2-morphisms, then the monoidal
category K(A, A) is a pivotal monoidal category. In the definition of a pivotal 2-category with
duals [35] the condition ∗ α = α ∗ also appears.
Cyclic 2-morphisms compose both horizontally and vertically to form cyclic 2-morphisms.
This has the diagrammatic interpretation that the two twists shown in (4.11) are equal for any 2morphism built from composites of cyclic 2-morphisms. This is referred to as the circuit flipping
condition in [13].
The cyclic condition for 2-morphisms greatly simplifies their graphical calculus. If α : F ⇒ G
and F and G have chosen biadjoints, then we always have equalities:
F

F

G

=

•α
ηG

G

F

G

• ∗α
ηF

B

=

•α
εG

B

F

G

(4.13)

• ∗α
εF

A

A

as well as upside down versions of the above. While the diagrams

α•

=

B

•

∗α

B

=

∗ (∗ α)

•

(4.14)

B

always represent the same 2-morphism, when α is a cyclic 2-morphism the necessity of labelling
can often be avoided since ∗ (∗ α) = α so we always get back to where we started.
The following can be found throughout the literature in various guises, usually using the
language of duals rather than adjunctions. As stated it follows from the axioms of an adjunction,
the cyclic condition, and the interchange law relating horizontal and vertical composites of 2morphisms.

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3353

Theorem 4.5. (See Cockett, Koslowski and Seely [13].) Given a string diagram representing a
cyclic 2-morphism between 1-morphisms with chosen biadjoints, then any isotopy of the diagram
represents the same 2-morphism.
5. The 2-category U
In this section we define the 2-category U which is related to a categorification of the algebra
˙ As an intermediate step we begin with a 2-category U ∗ .

A U.

5.1. Some categorical preliminaries
Recall the definition of an enriched category from [25]. Let (V, ⊗, I ) be a monoidal category. A V-category A is defined in the same way as an ordinary category, except that the hom
sets Hom(x, y) are replaced by objects HomA (x, y) ∈ V, and composition and units maps are
replaced by morphisms
HomA (x, y) ⊗ HomA (y, z) → HomA (x, z)
and
1x : I → HomA (x, x)
in V. A V-functor F : A → B between two V-categories A and B is given by a function ob A →
ob B together with a morphism HomA (x, y) → HomB (F x, Fy) in V satisfying the usual axioms
of a functor.
Examples abound in the literature: if V is the category of abelian groups, then a V-category
is known as a preadditive category. If k is a field and V is taken to be the category of k-vector
spaces, then a V-category is exactly a k-linear category and a V-functor is a k-linear functor.
If V is the category of differential graded R-modules with the usual monoidal structure, then a
V-category is a differential graded category. The category Cat of categories and functors admits
a monoidal structure given by the categorical product of categories. A category enriched in Cat
with this monoidal structure is a strict 2-category and a V-functor is a strict 2-functor.
A graded preadditive category A is a category enriched in the symmetric monoidal category
of graded abelian groups with the monoidal structure given by the graded tensor product. This
means that the hom set Hom(x, y) between any two objects x, y, ∈ A is a graded abelian group,
HomA (x, y) =

Homs (x, y)
s∈Z

where Homs (x, y) is the abelian group of homogeneous components of degree s; its elements
are the morphisms of degree s. The composition map must also be degree homogeneous
Homs (x, y) ⊗ Homs (y, z) → Homs+s (x, z).
An additive category is a preadditive category with a zero object and direct sums. An additive
functor between two additive categories is an Ab-functor that preserves biproducts. That is, on
hom sets an additive functor is a group homomorphism that preserves direct sums and the zero

3354

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

object. The category Add-Cat of additive categories, and additive functors forms a monoidal
category with the usual tensor product of additive categories.
Similarly, a graded additive category is a graded preadditive category with a zero object and
direct sums. Here zero objects and direct sums are defined as in the ungraded case, with the
additional condition that the injections and projections are homogeneous. Again, we can form
the monoidal category Gr-Add-Cat of graded additive categories, and graded additive functors.
A graded additive functor is an additive functor such that
F Homs (x, y) ⊂ Homs (F x, Fy).

(5.1)

A graded additive category is said to admit translation (see [22]) if for any object x and
integer m there is an object x{m} with an isomorphism x → x{m} of degree m. Given a graded
additive category A we can always define an equivalent category A , were A is a graded additive
category with translation obtained by enlarging A in the obvious way. A graded additive functor
between graded additive categories with translation will preserve translations since there is the
degree −s + s = 0 isomorphism

F (x{s})

F (∼)

F (x)

∼

F (x){s}.

(5.2)

Let GAT denote the monoidal category of graded additive categories with translation, together
with graded additive functors.
Definition 5.1.
• An additive 2-category4 is a 2-category enriched in the monoidal category Ab-Cat of additive categories.
• A graded additive 2-category is a 2-category enriched in the monoidal category Gr-Ab-Cat
of graded additive categories.
• A graded additive 2-category is said to admit translation if it is a category enriched over the
monoidal category GAT of graded additive categories that admit translation.
Hence, a graded additive 2-category admitting a translation is a strict 2-category A such that
the hom categories a Ab := HomA (a, b), between any two objects a, b ∈ A, are graded additive
categories that admit a translation.
If x, y : a → b are 1-morphisms in A, then the graded abelian group Homa Ab (x, y) is written
as A(x, y) with it understood that A(x, y) is zero if x and y do not have the same source and
target. The decomposition into homogeneous elements is expressed as
A(x, y) :=

As (x, y)
s∈Z

4 Compare with 2-categories enriched over V, or a V-2-category of [20].

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3355

with As (x, y) the homogeneous elements of degree s. Composition and identities are given by
graded additive functors
A(a, b) ⊗ A(b, c) → A(a, c),

I → A(a, a),

As (x, y) ⊗ As (y, z) → As+s (x, z),

I → A0 (x, x)

so that identity maps are always degree zero.
The above notions also make sense with minor modification in the case when the 2-categories
are weak, that is, when composition is associative up to coherent isomorphism and identities act
as identities up to coherent isomorphism. We will not explicitly distinguish between strict/weak
in what follows.
A well-known example of an additive 2-category is the (weak) 2-category Bim whose objects
are graded rings. If R and S are two such rings, then HomBim (R, S) is the additive category of
graded (R,S)-bimodules and degree-zero bimodule homomorphisms. The composition functor
Hom(S, T ) × Hom(R, S) → Hom(R, T )

(5.3)

is given by the tensor product:
(M, N ) → N ⊗S M.

(5.4)

The 2-category Bim∗ is the graded additive 2-category whose objects are graded rings. The
graded additive categories Hom(R, S) are the categories of graded bimodules and all bimodule
maps (which are finite sums of homogeneous maps). Composition is given by the tensor product.
The 2-category Bim∗ is enriched over graded additive 2-categories that admit a translation, since
we can shift the degree of graded bimodules and bimodule maps.
An additive 2-functor F : A → B is a function F : ob A → ob B, together with an additive
functor A(a, b) → B(a, b) for all objects a and b, that preserves composition and identities up to
isomorphisms.5 Similarly, a graded additive 2-functor F : A → B is a function F : ob A → ob B
together with a graded additive functor A(a, b) → B(a, b) preserving composition and identities
up to isomorphisms.
5.2. The 2-category U ∗
The generators of U ∗
U ∗ is a graded additive 2-category with translation. The 2-category U ∗ has one object n for
each n ∈ Z. The 1-morphisms of U ∗ are formal direct sums of composites of the morphisms
1n : n → n,
1n+2 E1n : n → n + 2,
1n F 1n+2 : n + 2 → n
5 An additive 2-functor is just a (weak) V-functor for V = Ab-Cat.

(5.5)

3356

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

for each n ∈ Z together with their shifts {s} for s ∈ Z. The morphisms 1n are the identity 1morphisms. The morphism 1n+2 E1n maps n to n + 2 so we often simplify notation by writing
only E1n , or generically as E, with it understood that E increases the subscript by two, passing
from right to left. Similarly, the map 1n F 1n+2 maps n + 2 to n so we often write this morphism
as F 1n+2 , or F . This simplification is extended to composites as well, so that EF 1n represents
the composite 1n E1n−2 ◦ 1n−2 F 1n . When no confusion is likely to arise we simplify our notation
even further and write simply EF .
More precisely, given objects n, m in U ∗ , the graded additive category U ∗ (n, m) consists of
• objects of U ∗ (n, m): the objects are formal direct sums of composites

1m E α1 F β1 E α2 · · · F βk−1 E αk F βk 1n {s}

where m = n + 2( αi − βi ), and s ∈ Z.
Using the string diagram calculus introduced in Section 4 we depict the objects n ∈ U ∗ as
regions labelled by n. The 1-morphisms 1n+2 E1n and 1n F 1n+2 are depicted as
E
n+2

F
n

and

n+2

n

E

F

We can omit the labels of E and F by introducing the convention that E is depicted by an
upward pointing arrow and F is depicted by a downward pointing arrow.

n+2

n

and

n

n+2

• morphisms of U ∗ (n, m): for 1-morphisms x, y ∈ U ∗ hom sets U ∗ (x, y) of U ∗ (n, m) are
graded abelian groups given by Z-linear combinations 2-morphisms built from composites
of:
(i) degree zero identity 2-morphisms 1x for each 1-morphism x in U ∗ ,
(ii) for each 1-morphism x, an isomorphism x x{s} given by 2-morphisms x ⇒ x{s} and
x{s} ⇒ x of degree s and −s, respectively. These are represented by the identity 2-

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3357

morphism together with a shift on the source or target. For example, the isomorphism
E1n E1n {s} is given by
E{s}
n+2

E
n+2

n

n
E{s}

E

deg −s

deg s
(iii) for each n ∈ Z the 2-morphisms6
zn

n+2

•

zn

n

n

deg 2

•

Un

Un

n+4

n+2

deg −2

deg 2

n+4

n

n

deg −2

and
ηn
F

εn
E

E

ηn
n

F

n
deg n + 1

εn

n

F

deg 1 − n

E

deg n + 1

n
E

F

deg 1 − n

• the graded additive composition functor U ∗ (n, n ) × U ∗ (n , n ) → U ∗ (n, n ) is given on
1-morphisms of U ∗ by
6 Strictly speaking, the diagram used to represent U is a shorthand notation for the standard string diagram notation.
n

E
n+4

n

:=

n+4

E
n
• Un

E

E

Similarly, we omit all labels in the string diagrams for zn and zn since the axioms below ensure that this will lead to no
ambiguity.

3358

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

E α1 F β1 · · · E αk F βk 1n s × E α1 F β1 · · · E αk F βk 1n {s}
→ E α1 F β1 · · · E αk F βk E α1 F β1 · · · E αk F βk 1n s + s
for n = n + 2(
⎛
⎜
⎜
⎜
⎜
⎜
⎜
⎝n

•

αi −

⎞

•

⎛

⎞
•

⎜
⎟ ⎜
⎟ ⎜
⎟ ⎜
• ⎟×⎜
⎟ ⎜
⎟ ⎜
n ⎠ ⎜
⎝
n

•

•

βi ), and on 2-morphisms of U ∗ by juxtaposition of diagrams

•
• •

⎟
⎟
⎟
⎟
• • ⎟
⎟
⎟
⎟
•
n⎠

•

•

•

→
•

•

•
• •

•

•

•
•

n

subject to relations given below.
We write U ∗ (x, y) =
degree s.

s∈Z Us (x, y)

where Us (x, y) denote the homogeneous elements of

The relations on U ∗
For convenience, we denote the iterated vertical composites of zn and zn as

•m

•m

n+2

n

n

n+2

where the label of m indicated the number of iterated composites. Labels for regions in a diagram
can be deduced from a single labelled region using the rules that crossing an upward pointing arrow from right to left increases the label by 2 and crossing a downward pointing arrow decreases
the label by 2.
Biadjointness: We have biadjoint morphisms 1n+2 E1n 1n F 1n+2 1n+2 E1n with units and
counits given by the pairs (ηn , εn+2 ) and (εn , ηn−2 ) for all n ∈ Z. This is equivalent to requiring
the following equalities
n+2

n+2

n+2
n

n

(5.6)

n

n

n

n
n

n+2

=
n+2
for all n ∈ Z.

n+2

=

=

=

(5.7)
n+2

n+2

n

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3359

All morphisms in U ∗ are formal sums of composites and shifts of the morphisms E
and F ; since the composite of a biadjoint morphisms is biadjoint by Proposition 4.1, we
have that every morphism in U ∗ has a biadjoint. This biadjoint structure on a 1-morphism
1m E α1 F β1 · · · E αm F βm 1n {s} is explicitly given by
1n E βm F αm · · · E β1 F α1 1m {−s}

1m E α1 F β1 · · · E αm F βm 1n {s}

1n E βm F αm · · · E β1 F α1 1m {−s}.

Duality for zn and zn : The two duals of the 2-morphism zn under the above biadjoint structure
are equal. More precisely, the equalities
n

n

•

n
=

•

n+2

•

=

(5.8)

n+2

n+2

hold for all n ∈ Z. Note these equations together with (5.6)–(5.7) imply the same equations with
the opposite orientation. They also imply that a dot on one strand of a cap or cup can be slid to the
other side, and that sliding a dot around a closed diagram presents no ambiguity (see Section 4.4).
Duality for Un and Un : The two duals of the 2-morphism Un under the above biadjoint structure are equal. More precisely, the equalities

n

n
=n

n+4=

(5.9)

n+4

n+4

hold for all n ∈ Z. Note these equations together with (5.6)–(5.7) imply the same equations with
the opposite orientation. They also imply that the 2-morphism Un is the 2-sided dual to the 2morphism Un .
The three axioms above imply that all the morphisms in U ∗ are cyclic 2-morphisms with
respect to the biadjoint structure each 1-morphism inherits from the definitions above. Hence,
these axioms ensure that topological deformations of a diagram that preserve the boundary result
in a diagram representing the same 2-morphism.
Positive degree of closed bubbles: From the degrees defined above we have
⎛
⎜
deg ⎜
⎝

n⎞
⎟
⎟ = 2(m − n + 1)
• ⎠

m

⎛
⎜
deg ⎜
⎝

n⎞
⎟
⎟ = 2(m + n + 1).
• ⎠

m

(5.10)

3360

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

Diagrams of the above form are referred to as bubbles or dotted bubbles for the obvious reason.
In U ∗ we impose the relation that all bubbles of negative degree are zero. That is,
n
•

=0

if m < n − 1

=0

if m < −n − 1

m

n
•

m

for all m ∈ Z+ and n ∈ Z. It is a non-obvious fact (Proposition 8.2) that the above condition
ensures that any closed diagram of negative degree evaluates to zero.
NilHecke action: The following equations hold:

n
=0

n

=

n
•

•

−

n

=

n

(5.11)

=

•

n

n

−

n
•

(5.12)

(5.13)

for all values of n ∈ Z. These axioms ensure that the nilHecke algebra N Ha acts on
U ∗ (E a 1n , E a 1n ) for all n ∈ Z, with χi → zn+i and uj → Un+j . Using the duality introduced
op
above we also get an action of the opposite algebra N Ha on U ∗ (F a 1n , F a 1n ) for all n ∈ Z,
with χi → zm and uj → Uj . For this reason we will sometimes refer to the 2-morphisms Uj and
Uj in U ∗ as nilCoxeter generators.

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3361

The final two axioms are required in order to ensure that the 1-morphisms E and F lift the
relation on E and F in Uq (sl2 ). These axioms are defined recursively for each n. To state them
in a convenient compact form we introduce the formal symbols:
0

n

•

n

j

n

n

•

−n−1+j

0

0

n

n−1+

−n

0

which a priori make no sense whatsoever. The integer labelling each bubble is a negative number.
In the first case, −n − 1 + j < 0 and in the second case n − 1 + < 0 by the assumption that
0 j n and 0
−n. This would correspond to vertically composing the 2-morphisms
zm or zm a negative number of times with themselves — impossible! For this reason we call
the above symbols fake bubbles. The convenience of using fake bubbles is that they can be
used to write down equations which seamlessly transition from the cases where 0 j n and
0
−n to the case where j > n and > −n where the dotted bubbles are well defined.
Each of the fake bubbles if taken literally have positive degree
⎛
⎜
deg ⎝

0

n
•

−n−1+j

⎞

⎛

⎟
⎠ = 2j

0

n

⎜
deg ⎝

•

⎞
⎟
⎠=2

n−1+

so this convention does not contradict the ‘positivity of bubbles’ axiom above. However, the
positivity of the degree of these bubbles with negative dots allows us to define them as sums of
well-defined diagrams of positive degree — oppositely oriented bubbles with nonnegative dots.
The symbols are defined by the condition that
0

n
•

:= 1

•

−n−1

and for 1

j

0

n

:= 1

n−1

n recursively by
0

n

:= −

•

=1

−n−1+j

0

n
r

•

−n−1+j −

n

j −1
=0

•

•

n−1+

:= −

n−1+j

For example, suppose that n

n

j

•

n−1+

0. We then have

•

−n−1+j −

.

(5.14)

3362

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

n

n
:= −

•

−n−1+1

•

n−1+1

n

n
•

:= −

−n−1+2

n
+

•

•

n−1+2

(5.15)

•

n−1+1

n−1+1

and so on. Note that none of the diagrams on the right hand side require negative labels; they are
composites of the generating 2-morphisms in U ∗ .
Reduction to bubbles: The equalities
n
=

n

• −n−

−n

−

(5.16)
•

=0

n−1+

n

n

•

n

n−j

=

(5.17)
j =0

•

−n−1+j

hold for all n ∈ Z. All sums in this paper are increasing sums, or else they are taken to be zero.
This means that in (5.16) when −n < 0 the term on the right hand side is zero. In (5.17) when
n < 0 the right hand side is also zero. When these equations are nonzero we are making use of
fake bubbles.
We can now state the final relation in U ∗ . We emphasize again: we do not allow dots with
negative labels! Bubble diagrams with negative labels and positive degree and have a formal
meaning as explained above.
Identity decomposition: The equations

n
n

n

=

−

•

n

n

n−1−

n−1

+
=0 j =0

(5.18)

•

−n−1+j
−j

•

n
n

n

=

−

n

−n−1

n

•

−n−1−

+
=0 j =0

•

n−1+j
−j

•

(5.19)

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3363

hold for all n ∈ Z. Furthermore, since all summations are assumed to be increasing, when n < 1
the second term on the right of (5.18) vanishes, and when n > 1 the second term on the right
of (5.19) vanishes. This means that, when the terms on the right hand sides of (5.18) and (5.19)
are nonzero, the bubbles appearing in these terms are fake bubbles to be interpreted as explained
above.
The reduction to bubbles, and identity decomposition axioms ensure that any closed diagram
can be reduced to a sum of diagrams containing non-nested dotted bubbles of the same orientation
(see Section 8).
5.3. Summary
We use 2-categorical string diagrams to present the definition. The 2-category U ∗ consists of
• objects: n for n ∈ Z ,
• 1-morphisms: formal direct sums of composites of
1m E α1 F β1 E α2 · · · F βk−1 E αk F βk 1n {s}
where m = n + 2( αi −
• graded 2-morphisms

βi ), and s ∈ Z.

zn

n+2

•

zn

n

n

deg 2

•

E

deg n + 1

•
•
•
•

n+4

n

n

εn
E

Un

deg −2

deg −2

ηn

εn
n

F

n

•

n+4

n+2

deg 2

ηn
F

Un

n
deg 1 − n

F

E

deg n + 1

n
E

F

deg 1 − n

together with identity 2-morphisms and isomorphisms x x{s} for each 1-morphism x, such
that
1n+2 E1n and 1n F 1n+2 are biadjoints with units and counits given by the pairs (ηn , εn+2 )
and (εn , ηn−2 ).
All 2-morphisms are cyclic with respect to the above biadjoint structure.
All dotted closed bubbles of negative degree are zero.
The nilHecke algebra N Ha acts on U ∗ (E a 1n , E a 1n ) and U ∗ (F a 1n , E a 1n ) for all n ∈ Z.
The 1-morphisms E and F lift the relations of E and F in Uq (sl2 ). This is ensured by
requiring the equalities

3364

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

n

n

• −n−

−n

n

n

•

n

=−

n−j

=
•

=0

•

j =0

−n−1+j

n−1+

n
n

n

=

•

n

n

n−1−

n−1

−

+
=0 j =0

•

−n−1+j
−j

•

n
n

n

=

n

−n−1

−

•

n

−n−1−

+
=0 j =0

•

n−1+j
−j

•

for all n ∈ Z.
5.4. Helpful relations in U ∗
In this section we introduce some additional relations that follow from those in the previous
section. These will be useful in manipulating the graphical calculus for U ∗ .
Proposition 5.2 (Induction formula).
m•

n −

•m

n =

n −

m•

•m

m−j −1 •

m−1

n =

•j

n

(5.20)

j =0

Proof. This follows by induction from (5.12).

✷

Proposition 5.3 (Consequences of NilHecke relations).
•

n +

•

n

••

=

n

=

•

n +

n
• •

n
•

(5.21)

(5.22)

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3365

Proof. The first equation above is immediate from (5.12). The second equation also follows
from (5.12) by composing with zn on one of the strands and using (5.12) to simplify. ✷
Proposition 5.4 (More reduction to bubbles). The equalities

n

m−n

n

•

m−n−

=−
•

(5.23)
•

=0

m

n−1+

n

n

•

m+n

m+n−j

=
m

(5.24)
•

j =0

•

−n−1+j

hold for all n ∈ Z.
Recall that all sums in this paper are increasing sums, or else they are taken to be zero. This
means that in (5.23) when m − n < 0 the term on the right hand side is zero. In (5.24) when
m + n < 0 the right hand side is also zero. Depending on the value of n these equations make use
of the fake bubbles. This demonstrates the convenience of fake bubbles; the above expression
makes sense for all values of n.
Proof. This follows from the reduction to bubbles axiom and the induction formula above.

✷

The following proposition gives further motivation for the definition of these seemingly
strange fake bubbles. It also serves as an example of a seamless transition from fake bubbles
to actual bubbles as j grows larger than n.
Proposition 5.5 (Infinite Grassmannian relations). The following product:
n

n

• +

−n−1

•

−n−1+1

n
t+

n
×

• +

n−1

•

−n−1+2

n
t + ··· +
2

n
• t + ··· +

n−1+1

•

−n−1+j

tj + · · ·

n
j
• t + ···

n−1+j

is equal to Id1n for all n, where t is a formal variable. This is in analogy with the generators of
the cohomology ring H ∗ (Gr(n, ∞)) of the infinite Grassmannian (see Section 6):
1 + x1 t + x2 t 2 + · · · + xj t j + · · · 1 + y1 t + y2 t 2 + · · · + yj t j + · · · = 1.

3366

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

In particular, the above equation implies that for d > 0 we have
n

d

•

j =0

n−1+j

n

d

=

•

−n−1+d−j

•

= 0.

•

(5.25)

−n−1+j

j =0 n−1+d−j

If 1 d n this equation is the defining equation for the fake bubbles. The content of the proposition is that this equation holds for all values of d > 0.
Proof. Choose m1 and m2 in Z+ so that m1 + m2 + 1 > n. Consider the two possible ways of
decomposing the diagram
n
•

m1

•

m2

using (5.23) and (5.24). Using (5.24) we get
n

n

m1 +n

=
•

m1

•

•

•

j =0 m +m +n−j
1
2

m2

−n−1+j

and using (5.23) we get
n

n

m2 −n

=−
m1

•

•

k=0

m2

.

•

•

n−1+k

m1 +m2 −n−k

Consistency of the calculus requires that these two reductions are equal
n

n

m1 +n

m2 −n

•

j =0 m +m +n−j
1
2

•

+
k=0

−n−1+j

= 0.

•

•

n−1+k

m1 +m2 −n−k

Now in the first term make the change of variables j → m1 + m2 − k + 1 so that when j = 0 we
have k = m1 + m2 + 1 and when j = m1 + n we have k = m2 − n + 1. Reordering the terms we
have
n

n

m1 +m2 +1
k=m2 −n+1

m2 −n

•

n−1+k

•

m1 +m2 −n−k

+
k=0

•

n−1+k

•

m1 +m2 −n−k

=0

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3367

or after combining terms
n
m1 +m2 +1

=0

•

•

k=0

m1 +m2 −n−k

n−1+k

which is precisely the content of the proposition.

✷

Proposition 5.6 (Bubble slides). The equalities
n+2

n

•

α

=

α−

(α + 1 − )

(5.26)
•

=0

•

−n−3+

(−n−1)+α

n+2

•

α

=

n
α−

(α + 1 − )

(5.27)
•

=0

•

n−1+

(n+1)+α

hold for all n ∈ Z.
Proof. These equations follow from the reduction to bubbles (5.23), (5.24), and the identity
decomposition (5.18) and (5.19). ✷
Proposition 5.7 (Further bubble slides).
n+2

n
•

•

•

•

(n+1)+(α−1)

n

•2

(n+1)+α

n

•
− 2

=
(−n−3)+α

+
•

(n+1)+(α−2)

n+2

n+2

•

− 2

=
(n−1)+α

n+2

•2

•

(−n−1)+(α−2)

n
+

•

(−n−1)+(α−1)

•

(−n−1)+α

Proof. These follow from the bubble slide formulas in Proposition 5.6. Just apply those formulas
to the left hand sides of the equations above, shift appropriate indices, and cancel terms. ✷
One can check that sliding a dotted bubble from one side of a vertical line to the other and
then back again results in the same dotted bubble. Bubble slides for downward pointing arrows
readily follow from those above using biadjointness.

3368

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

Proposition 5.8. The equation

n

n

−j

+
=0 j =0 f =0

−j −f•

•n− •f
•

−n−3+j

n

=

n−

−n−2

−n−2−

=0 j =0

f =0

•f

• −f
−n−2−
•

n−1+j

n

• −j

holds for all n ∈ Z.
The second term on the left hand side is zero when n < 0 by the rule that summations are
increasing. Thus, this term utilizes the fake bubbles discussed above. Similarly, the second term
on the right hand side is zero when −2 < n and this term utilizes the fake bubbles as well.
Proof. From (5.13) we have

n

=

Using the reduction rules above this equality establishes the proposition.

n

✷

5.5. The 2-category U
The 2-category U is the sub 2-category of U ∗ with the same objects and 1-morphisms of U ∗ ,
but the 2-morphisms are degree preserving maps. That is, U(x, y) = (U ∗ )0 (x, y).
The 2-category U is not enriched in graded additive categories because the sets U(x, y) are
only abelian groups (not graded abelian groups). However, the 2-category U is enriched in additive categories and possesses a shift functor {·}, except now the 1-morphism x is not isomorphic
to x{m} in U since this isomorphism is not degree zero.
The diagrammatic calculus used above naturally extends to U . In this case, every diagram is
interpreted as a degree zero diagram by shifting the source or target by an appropriate amount.
All diagrammatic identities derived in this section remain true for any choice of grade shift on
the source and target which make the 2-morphisms involved have degree zero. For example, the
equality of degree (−6) 2-morphisms in (5.13) represents any of the degree zero equalities

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

E

E

E 1n {s + 6}

E

=

n

E

E

E

E 1n {s}

E 1n {s + 6}

n

E

E

3369

(5.28)

E 1n {s}

for s ∈ Z.
˙ so we collect here the structure
The 2-category U is closely related to a categorification of A U
∗
that U inherits from U .
Almost biadjointness: The 1-morphism E1n no longer has a simultaneous left and right adjoint F 1n+2 because the units and counits which realize these biadjoints in U ∗ are not degree
preserving. However, if we shift F 1n+2 by {−n − 1}, then the unit and counit for the adjunction E1n F 1n+2 {−n − 1} become degree preserving. More generally, we have E1n {s}
F 1n+2 {−n − 1 − s} in U since the units and counits have degree:
F

deg

E {s−n−1−s}

= (1 + n) + (−n − 1) = 0

(5.29)

= 1 − (n + 2) − (−n − 1) = 0

(5.30)

n
n+2
deg
E

F {−n−1−s+s}

and still satisfy the zig-zag identities. Similarly, E1n {s} has a left adjoint F 1n+2 {n + 1 − s} in U .
One can check that with these shifts the units and counits of the adjunction F 1n+2 {n + 1 − s}
E1n {s} become degree zero and are compatible with the zig-zag identities (4.3) and (4.4).
Notice that the left adjoint F 1n+2 {n + 1 − s} and right adjoint F 1n+2 {−n − 1 − s} of E1n {s}
only differ by a shift. We call morphisms with this property almost biadjoint. This situation
is familiar to those studying derived categories of coherent sheaves on Calabi–Yau manifolds.
Functors with these properties are called ‘almost Frobenius functors’ in [28] where several other
examples of this phenomenon are also given.
It is then clear that both E1n {s} and F 1n {s} are almost biadjoint in U for all s, n ∈ Z with
1n F 1n+2 {n + 1 − s}

1n+2 E1n {s}

1n F 1n+2 {−n − 1 − s},

1n E1n−2 {−n + 1 − s}

1n−2 F 1n {s}

1n E1n−2 {n − 1 − s}.

Every morphism in U is the composite of E1n {s} and F 1n {s} together with identities; by composing adjunctions as in Proposition 4.1 the right adjoints of composites can be computed. For
example,
1n+2 E α 1n {s}

1n F α 1n+2 −α(n + α) − s ,

(5.31)

3370

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

1n−2 F β 1n {s}

1n E β 1n−2 β(n − β) − s

(5.32)

which leads to
1m E α F β 1n {s}

1n E β F α 1m −(α − β)(α − β + n) − s .

(5.33)

Hence, the right adjoint of a general 1-morphism is given by
1m E α1 F β1 · · · E αk F βk 1n {s}

1n E βk F αk · · · E β1 F α1 1m

k

k

× −

(αi − βi )(αi − βi + n) + 2

(αi − βi )(αj − βj ) − s .

(5.34)

i<j

i=1

The left adjoint of a general 1-morphism can also be explicitly computed
k

1n E βk F αk · · · E β1 F α1 1m

(αi − βi )(αi − βi + n)
i=1

k

(αi − βi )(αj − βj ) − s

−2

1m E α1 F β1 · · · E αk F βk 1n {s}.

(5.35)

i<j

Thus, it is clear that all morphisms in U have almost biadjoint.
Positivity of bubbles: As a consequence of the positivity of bubbles axiom, we have that there
can only be one degree zero bubble mapping 1n → 1n and by definition this bubble is the identity.
The degree 2m bubbles for m > 0 belong to the abelian groups U(1n {s}, 1n {s − 2m}) for s ∈ Z.
Pairing: The inclusion U into U ∗ associates to each pair of morphisms x and y in U the graded
abelian group s∈Z U(x{s}, y) = U ∗ (x, y).
NilHecke Algebra action: The nilHecke algebra N Ha acts on
a
a
s∈Z U(F 1n {s}, F 1n ).

s∈Z U(E

a1

n {s}, E

a1

n)

and

5.6. Symmetries of U
We denote by U op the 2-category with the same objects as U but the 1-morphisms reversed.
The direction of the 2-morphisms remain fixed. The 2-category U co has the same objects and 1morphism as U , but the directions of the 2-morphisms have been reversed. That is, U co (x, y) =
U(y, x) for 1-morphisms x and y. Finally, U co op denotes the 2-category with the same objects
as U , but the directions of the 1-morphisms and 2-morphisms have been reversed.
Using the symmetries of the diagrammatic relations imposed on U we construct 2-functors on
the various versions of U . In Section 9.3 we will show that these 2-functors are lifts of various
˙ The various forms of contravariant
Z[q, q −1 ]-(anti)linear (anti)automorphisms of the algebra U.
behaviour for 2-functors on U translate into properties of the corresponding homomorphism in
˙ as the following table summarizes:
U

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3371

2-functors

Algebra maps

U
U
U
U

Z[q, q −1 ]-linear homomorphisms
Z[q, q −1 ]-linear antihomomorphisms
Z[q, q −1 ]-antilinear homomorphisms
Z[q, q −1 ]-antilinear antihomomorphisms

→U
→ U op
→ U co
→ U co op

Rescale, invert the orientation, and send n → −n: Consider the operation on the diagrammatic
calculus that rescales the nilCoxeter generator Un → −Un , inverts the orientation of a diagram
and sends n → −n:
•
n+6

•

−
n

•

•

−n − 6

−n

This transformation preserves the degree of a diagram so by extending to sums of diagrams we
get a 2-functor ω : U → U given by
ω : U → U,
n → −n,
1m E α1 F β1 E α2 · · · E αk F βk 1n {s} → 1−m F α1 E β1 F α2 · · · F αk E βk 1−n {s}

(5.36)

and on a 2-morphism α given by a formal sum of diagrams, ω(α) is the sum of diagrams obtained
from α by applying the above transformation to each summand of α. It is straight forward to
check that all composites are preserved and that all the relations imposed on U are invariant
under this transformation, so that ω is a strict 2-functor. In fact, it is a 2-isomorphism since its
square is the identity.
Rescale, reflect across the y-axis, and send n → −n: The operation on the diagrammatic calculus that rescales the nilCoxeter generator Un → −Un , reflects a diagram across the y-axis, and
sends n to −n leaves invariant the relations on the 2-morphisms of U . Observe that this operation
•
n+6

•

−
n

−n

•

•
−n − 6

is contravariant for composition of 1-morphisms, but is covariant for composition of 2morphisms. Furthermore, this transformation preserves the degree of a given diagram. Hence,
this symmetry gives a 2-isomorphism
σ : U → U op ,
n → −n,
1m E α1 F β1 E α2 · · · E αk F βk 1n {s} → 1−n F βk E αk F βk−1 · · · F β1 E α1 1−m {s}

3372

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

and on 2-morphisms σ maps formal sums of diagrams to the formal sum of the diagrams obtained
by applying the above transformation to each summand. Since, the relations on U are symmetric
under this transformation, it is easy to see that σ is a 2-functor.
Reflect across the x-axis and invert orientation: Here we are careful to keep track of what
happens to the shifts of sources and targets
E

E

•
E

E

F

E

n+6

•

n+6
E

E

E {s }

F

E

n

•

n

E

E {s}

E {−s}

•

E {−s }

E

The degree shifts on the right hand side are required for this transformation to preserve the degree
of a diagram. This transformation preserves the order of composition of 1-morphisms, but is contravariant with respect to composition of 2-morphisms. Hence, by extending this transformation
to sums of diagrams we get a 2-isomorphism given by
ψ : U → U co ,
n → n,
1m E α1 F β1 E α2 · · · E αk F βk 1n {s} → 1m E α1 F β1 E α2 · · · E αk F βk 1n {−s}

(5.37)

and on 2-morphisms ψ reflects the diagrams representing summands across the x-axis and inverts
the orientation. Again, the relations on U possess this symmetry so it is not difficult to check that
ψ is a 2-functor. Furthermore, it is clear that ψ is invertible by the map which reflects across the
x-axis and inverts the orientation in U co .
Rotation by 180◦ : This transformation is a bit more subtle because it uses the almost biadjoint
structure of U , in particular, the calculus of mates (see Section 4.3). For each 1m x1n ∈ U denote
its right adjoint by 1n y1m . The symmetry of rotation by 180◦ is realized by the 2-functor that
sends a 1-morphism 1m x1n to its right adjoint 1n y1m and each 2-morphism ζ : 1m x1n ⇒ 1m x 1n
to its mate under the adjunctions 1m x1n 1n y1m and 1m x 1n 1n y 1m . That is, ζ is mapped to
its right dual ζ ∗ . Pictorially,
m

y

x

•ζ

x

y

m
•ζ
n

n
=

•ζ

n

∗

m
y

y

Notice that this transformation is contravariant with respect to composition of 1-morphisms and
2-morphisms. We get a 2-functor
τ : U → U co op ,
n → n,

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3373

1m E α1 F β1 E α2 · · · E αk F βk 1n {s} → the right adjoint in (5.34),
ζ → ζ∗

(5.38)

where the degree shifts for the right adjoint (5.34) ensure that τ is degree preserving. Inspection
of the relations for U ∗ will reveal that they are invariant under this transformation so that τ really
is a 2-functor.
We can define an inverse for τ given by taking left adjoints. We record this 2-morphism here.
τ −1 : U → U co op ,
n → n,
1m E α1 F β1 E α2 · · · E αk F βk 1n {s} → the left adjoint in (5.35),
ζ → ∗ ζ.

(5.39)

Lemma 5.9. There are degree zero isomorphisms of graded abelian groups
U ∗ (f x, y) → U ∗ x, τ (f )y ,

(5.40)

U ∗ (x, gy) → U ∗ τ −1 (g)x, y

(5.41)

for all 1-morphisms f, g, x, y in U .
Proof. The isomorphism U ∗ (f x, y) → U ∗ (x, τ (f )y) is just the isomorphism M −1 defined in
(4.10) given by taking mates under the right adjunctions. In particular, take F U := 1 1, F
U := f τ (f ), b = x, and a = y in Definition 4.3. Then M −1 : U ∗ (f x, y) → U ∗ (x, τ (f )y)
gives a bijection as sets which extends to a homomorphisms since M −1 respects composites of
2-morphisms. Similarly, the isomorphism U ∗ (x, gy) → U ∗ (τ −1 (g)x, y) is just the map M from
(4.9) with F U := 1 1, F U := τ −1 (g) g, a := y, and b := x. ✷
5.7. Lifting the relations of E and F
Here we show that the 1-morphisms E and F lift the relations from Uq (sl2 ). For any morphism
x in U and positive integer a, write ⊕[a] x for the direct sum of morphisms:
⊕[a] x := x{a − 1} ⊕ x{a − 3} ⊕ · · · ⊕ x{1 − a}.

(5.42)

Theorem 5.10. There are decompositions of 1-morphisms:
EF 1n ∼
= F E1n ⊕[n] 1n
F E1n ∼
= EF 1n ⊕[−n] 1n

for n
for n

0,
0,

given by systems of idempotents ej ∈ U(EF 1n , EF 1n ) and e¯j ∈ U(F E1n , F E1n ).

(5.43)
(5.44)

3374

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

Proof. The decomposition EF 1n ∼
= F E1n ⊕[n] 1n for n
morphisms in U

0 is given by the system of 2-

EF 1n
λn

λn−1

λ0
λ

F E1n

1n {n − 1} ⊕

···

⊕ 1n {n − 1 − 2 }

⊕

···

⊕

1n {1 − n}

σ
σn

σ0

σn−1

EF 1n

with

s

σn := −

•

σs :=

−n−1+j
• s−j

j =0

λn :=

λs :=

•n−1−s

for 0

for 0

s

s

n − 1,

n − 1.

(5.45)

(5.46)

Notice that with the shifts, all of the above maps are degree zero. We claim that the maps es :=
λs σs for 0 s −n form a collection of orthogonal idempotents decomposing the identity
IdEF 1n .
For 0 s n − 1 the composite σs λs is

•

−n−1+j
j =0

•

n−1−j

=

•

−n−1

= 1.

•

n−1

The first equality holds because the bottom bubble has negative degree when j > 0. Hence, all
terms in the sum except j = 0 vanish. The composite σn λn = IdF E 1n by (5.19) using that n 0.
Hence, the 2-morphisms λs σs are idempotent.

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

s

To show that these idempotents are orthogonal consider the composite σs λs with 0
n − 1:

s
j =0

•

−n−1+j

3375

s <

(s−s )

=

•

j =0 n−1−j +(s−s )

•

•

= 0.

−n−1+j

n−1−s +s−j

The first equality follows from the fact that the clockwise oriented bubble has negative degree for
n−1
all j > s − s so these terms are zero. The second equality is just (5.25). For 0 s < s
the composite is

•

s

−n−1+j

j =0

=0

•

n−1−s +s−j

which follows because (s − s ) < 0 by assumption, so the clockwise bubble has negative degree
for all j and is therefore equal to zero.
From (5.23) it follows that for j n − 1 the composite σj λn

•

0

n−1

−n−1+j
−j

j =0

•

is zero because the total degree of the bottom component is negative whenever ( − j ) < n, but
0
n − 1 and j
. Thus, the idempotents are orthogonal. All that remains to be shown is
that
n

λs σs = IdEF 1n ,
s=0

but this is just the identity decomposition axiom (5.18).

3376

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

Similarly, the decomposition F E1n ∼
= EF 1n ⊕[−n] 1n for n
maps

0 is given by the system of

F E1n
λ−n

λ−n−1

λ0
λ

EF 1n

1n {−n − 1} ⊕

···

⊕ 1n {−n − 1 − 2 }

⊕

···

⊕

⊕1n {1 + n}

σ
σ−n

σ0

σ−n−1

F E1n
with
s

σ−n := −

σs :=
j =0

λ−n :=

λs :=

•

for 0

s

−n − 1,

(5.47)

• −n−1−s

for 0

s

−n − 1.

(5.48)

n−1+j
• s−j

By applying the 2-isomorphism ω to the decomposition of IdEF 1n we see that the collection
of maps λs σs for 0 s −n form a collection of orthogonal idempotents decomposing the
identity IdF E 1n . ✷
6. Graphical calculus for iterated flag varieties
Our goal in this section is to construct a graphical calculus for the cohomology of iterated flag
varieties that will be used in the next section to construct representations of U ∗ .
6.1. Iterated flag varieties
In this section we review some facts about the cohomology rings of flag varieties. Useful
references for this material are Hiller [23, Chapter 3] and Fulton [19, Chapter 10].
6.1.1. Grassmannians
Fix a complex vector space W of dimension N . For 0 k N let Gk denote the variety of
complex k-planes in W . In this notation we suppress the explicit dependence on N . If we wish
to make this dependence explicit we use the notation Gr(k, N ). The cohomology ring of Gk has
a natural structure of a Z-graded algebra,
H ∗ (Gk , Q) =

H i (Gk , Q).
0 i k(N −k)

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3377

For simplicity we sometimes write Hk := H ∗ (Gk , Q).
An explicit description of this cohomology ring can be given using Chern classes. The universal k-dimensional complex vector bundle Uk,N on Gr(k, N ) has total space consisting of pairs
(V , x) with x ∈ V and V ∈ Gr(k, N ). Choose a hermitian metric on W . From the orthogonal
complements of the fibres V of the bundle Uk,N we can construct an (N − k)-dimensional complex vector bundle UN −k,N with the property that
Uk,N ⊕ UN −k,N ∼
= IN
with I the trivial rank 1 bundle. The Chern classes xi := xi (Uk,N ) ∈ H 2i (Gr(k, N )) for 1
and yj := yj (UN −k,N ) ∈ H 2j (Gr(N − k, N )) for 1 j N = k then satisfy
1 + x1 t + x2 t 2 + · · · + xk t k 1 + y1 t + y2 t 2 + · · · + yN −k t N −k = 1

i

k

(6.1)

by the Whitney sum axiom for Chern classes. Above t is a formal variable used to keep track of
homogeneous elements. Borel [10] showed that the cohomology ring Hk is given by
Hk = Q[x1 , . . . , xk , y1 , . . . , yN −k ]/Ik,N

(6.2)

where Ik,N is the ideal generated by the homogeneous terms in (6.1).
Our applications require many different interacting Grassmannians so when we want to emphasize the dependence on k and N we introduce a new parameter n := 2k − N and let
Hk = Q[x1,n , . . . , xk,n , y1,n , . . . , yN −k,n ]/Ik,N ,

(6.3)

where xj,n = xj (Uk,N ) and yj,n = yj (UN −k,N ).
6.1.2. Partial flag varieties
For 0 k < m N let Gk,m be the variety of partial flags
(Lk , Lm ) 0 ⊂ Lk ⊂ Lm ⊂ W, dimC Lk = k, dimC Lm = m .
We also denote this same variety by Gm,k . Let Hk,m be the cohomology algebra of Gk,m . Forgetful maps
Gk

p1

Gk,m

p2

Gm

induce maps of cohomology rings
Hk

p1∗

Hk,m

p2∗

Hm

which make the cohomology ring Hk,m into a Hk ⊗ Hm -module. Since the algebra Hm is commutative, we can turn a left Hm -module into a right Hm -module. Hence, we can make Hk,m into
a (Hk , Hm )-bimodule. In fact, Hk,m is free as a graded Hk -module and as a graded Hm -module.
This follows from the multiplicative property of spectral sequences of fibrations.

3378

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

Let k1 , . . . , km be a sequence of integers with 0
bimodule

N for all i. Form the (Hk1 , Hkm )-

ki

Hk1 ,...,km = Hk1 ,k2 ⊗Hk2 Hk2 ,k3 ⊗Hk3 · · · ⊗Hkm−1 Hkm−1 ,km .
Consider the partial flag variety Gk1 ,...,km which consists of sequences (W1 , . . . , Wm ) of linear
subspaces of W such that the dimension of Wi is ki and Wi ⊂ Wi+1 if ki ki+1 and Wi ⊃ Wi+1
if ki+1 ki . The forgetful maps
Gk1

p1

Gk1 ,...,km

p2

Gkm

induce maps of cohomology rings

Hk1

p1∗

H (Gk1 ,...,km , Q)

p2∗

Hkm

which make the cohomology ring H (Gk1 ,...,km , Q) into a graded (Hk1 , Hkm )-bimodule. As one
might expect, there is an isomorphism
H ∗ (Gk1 ,...,km , Q) ∼
= Hk1 ,...,km

(6.4)

of graded (Hk1 , Hkm )-bimodules.
6.1.3. One step iterated flag varieties
A special role is played in our theory by the one step iterated flag varieties
Gk,k+1 = (Wk , Wk+1 ) dimC Wk = k, dimC Wk+1 = (k + 1), 0 ⊂ Wk ⊂ Wk+1 ⊂ W .
The cohomology ring Hk,k+1 again has a description using Chern classes:
Hk,k+1 := Q[x1 , x2 , . . . , xk ; ξ ; y1 , y2 , . . . , yN −k−1 ]/Ik,k+1,N ,
where Ik,k+1,N is the ideal generated by the homogeneous elements in
1 + x1 + x2 t 2 + · · · + xk t k (1 + ξ t) 1 + y1 t + y2 t 2 + · · · + yN −k−1 t N −k−1 = 1.
Here we have suppressed the dependence of the xj and yj on k, k + 1, and N . A more appropriate
notation might be xj ;k,k+1,N but this seems a bit excessive.
The xi are Chern classes of the tautological bundle Uk whose fibre over the partial flag 0 ⊂
Wk ⊂ Wk+1 ⊂ W is Wk . Let Uk+1 be the tautological bundle over Gk,k+1 whose fibre over the
flag 0 ⊂ Wk ⊂ Wk+1 ⊂ W is Wk+1 . Then ξ is the first Chern class of the line bundle Uk+1 /Uk .
Finally, if W is the trivial bundle with fibre W over Gk,k+1 , then the yj are Chern classes for the
bundle W /Uk+1 .

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3379

The inclusions of rings

Hk

p1∗

p2∗

Hk,k+1

Hk+1

making Hk,k+1 an (Hk , Hk+1 )-bimodule are explicitly given as follows:
Hk,k+1 ,

Hk
xj,n

→

xj

y1,n

→

ξ + y1 ,

y

,n

→

ξ ·y

yN −k,n

→

ξ · yN −k−1 ,

for 1

−1

j

+y

k,

for 1 < < N − k,

and
Hk,k+1 ,

Hk+1
x1,n+2

→

ξ + x1 ,

xj,n+2

→

ξ · xj −1 + xj

xk+1,n+2

→

ξ · xk ,

→

y

y

,n+2

for 1

for 1 < j < k + 1,
N − k − 1.

Using these inclusions we identify certain generators of Hk and Hk+1 with their images in Hk,k+1
so that
Hk,k+1 ∼
= Q[x1,n , x2,n , . . . , xk,n ; ξ ; y1,n+2 , y2,n+2 , . . . , yN −k−1,n+2 ]/Ik,k+1,N
with Ik,k+1,N the homogeneous elements in
1 + x1,n + x2,n t 2 + · · · + xk,n t k (1 + ξ t) 1 + y1,n+2 t + · · · + yN −k−1,n+2 t N −k−1 = 1. (6.5)
6.1.4. Iterated flag varieties
The a-step iterated flag variety Gk,k+1,...,k+a consists of a + 1-tuples
(Wk , . . . , Wk+a ) dimC Wk+j = (k + j ), 0 ⊂ Wk ⊂ Wk+1 ⊂ · · · ⊂ Wk+a ⊂ W ,
where 0 k k + a N . The cohomology ring Hk,k+1,...,k+a admits a description using Chern
classes of vector bundles. For 0 j a let Uk+j be the tautological bundle whose fibre over the
element 0 ⊂ Wk ⊂ Wk+1 ⊂ · · · ⊂ Wk+a ⊂ W in Gk,k+1,...,k+a+1 is Wk+j . Then
Hk,k+1,...,k+a ∼
= Q[x1,n , . . . , xk,n ; ξ1 , ξ2 , . . . , ξa ; y1,n+2a , . . . , yN −k−a,n+2a ]/Ik,...,k+a
where Ik,...,k+a is the ideal generated by the homogeneous elements of

(6.6)

3380

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

1 + x1,n t + · · · + xk,n t k (1 + ξ1 t) · · · (1 + ξa t)
× 1 + y1,n+2a t + · · · + yN −k−a,n+2a t N −k−a = 1.

(6.7)

The xi,n are Chern classes of the bundle Uk , where we have taken the liberty of identifying these
generator as the images of xi,n ∈ Hk under the natural inclusion. The generators ξj are the Chern
classes of the line bundles Uk+j /Uk+j −1 . Finally, the y ,n are the Chern classes of the bundle
W /Uk+a identified as the images of y ,n+2a ∈ Hk+a under the natural inclusion.
The generators ξi corresponding to Chern classes of the line bundles derived from iterated
flag varieties are important in what follows. In particular, we show that the nilHecke ring N Ha
acts on the collection generators ξi leading to bimodule maps Hk,...,k+a → Hk,...,k+a .
6.1.5. Defining the 2-category Flag∗N
Recall the additive 2-category Bim whose objects are graded rings, morphisms are graded
bimodules, and the 2-morphisms are degree-preserving bimodule maps. Idempotent bimodule
homomorphisms split in Bim.
Let Bim∗ denote the 2-category whose objects are graded rings, whose 1-morphisms are
graded bimodules, and 2-morphisms are all bimodule maps. Just like the 2-category U ∗ , Bim∗
is enriched in graded additive categories with a translation; the shift functor given by the degree
shift map on graded bimodules. Both Bim∗ and Bim are weak 2-categories, or bicategories, since
the composition of 1-morphisms is the tensor product of bimodules which is only associative up
to coherent isomorphism.
We now define a sub 2-category FlagN of Bim for each integer N ∈ Z+ .
Definition 6.1. The additive 2-category FlagN is the idempotent completion (see Section 9.1)
inside of Bim of the 2-category consisting of
• objects: the graded rings Hk for each 0 k N .
• morphisms: generated by the graded (Hk , Hk )-bimodule Hk , the graded (Hk , Hk+1 )bimodule Hk,k+1 and the graded (Hk+1 , Hk )-bimodule Hk+1,k together with their shifts
Hk {s}, Hk,k+1 {s}, and Hk,k+1 {s} for s ∈ Z. The bimodules Hk = Hk {0} are the identity 1-morphisms. Thus, a generic morphism from Hk1 to Hkm is a direct sum of graded
(Hk1 , Hkm )-bimodules of the form
Hk1 ,k2 ⊗Hk2 ⊗Hk2 ,k3 ⊗Hk3 · · · ⊗Hkm−1 Hkm−1 ,km {s}
where ki+1 = ki ± 1 for 1 < i m.
• 2-morphisms: degree-preserving bimodule maps.
There is a 2-subcategory Flag∗N of Bim∗ with the same objects and morphisms as FlagN , and
with 2-morphisms
Flag∗N (x, y) :=

FlagN x{s}, y .

(6.8)

s∈Z

In Section 7 we show that Flag∗N provides a representation of U ∗ , and, by restriction to degree
zero maps, that FlagN provides a representation of U .

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3381

6.2. Diagrammatics
We now introduce a graphical calculus for computations in the cohomology rings of iterated
flag varieties.
Calculus for Hk : For n = 2k − N the calculus for the cohomology ring H ∗ (Gr(k, N )) is given
by representing the generators xj,n and y ,n as coloured dumbbells together with a label floating
in a region labelled n:
n
j

xj,n :=

for 0

j

(6.9)

k,

n
y

,n

:=

N − k.

for 0

(6.10)

The coloured and labelled circles on the left and right of a dumbbell are called the weights of
the dumbbell. An uncoloured circle corresponds to weight 0. The generators xj,n are given by
dumbbells with left weight equal to j . The y ,n are depicted by dumbbells with the right weight .
Products of Chern classes are depicted by putting multiple dumbbells in a region labelled n, or
by combining them as follows:
n

j

xj,n y

Note that

n

0

,n

=

=:
0

= 1 and

n

n

j

(6.11)

.

= 1. Define

n
j

= 0 for j not in the range 0

j

k,

(6.12)

N − k.

(6.13)

n
= 0 for not in the range 0

A dumbbell with weight equal to j has degree 2j . Recall that the only relations on the generators
of Hk were given by (6.1). In the graphical calculus this relation becomes
n
1+

1

n
t+

2

n

n
t + ··· +
2

k

t

k

1+

n
1

t + ··· +

N −k N −k

t

= 1.
(6.14)

By examining the homogeneous elements we have the diagrammatic identity that for all d > 0
d
j =0

n
d−j

j

d

=
j =0

n
j

d−j

= 0.

(6.15)

3382

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

Calculus for Hk,k+1 : The identity element in Hk,k+1 is represented by a vertical line
n+2
:=

1

Hk,k+1

n

where the orientation indicates that we are regarding Hk,k+1 as an (Hk , Hk+1 )-bimodule. For
fixed N , the n on the right hand side keeps track of the k value in the difference 2k − N . Hence,
having n = 2k − N on the right hand side of the diagram indicates the left action of Hk on Hk,k+1 .
Similarly, the n + 2 = 2(k + 1) − N on the left indicates the right action of Hk+1 on Hk,k+1 .
When we want to regard this bimodule as an (Hk+1 , Hk )-bimodule we use the notation Hk+1,k
and depict it in the graphical calculus with the opposite orientation (a downward pointing arrow).
n+2

n
1

Hk+1,k

:=

The observant reader will have noticed that our convention is identical to that used in the previous
section. Crossing an upward oriented arrow from right to left increases the value of n by two.
Crossing a downward oriented arrow from right to left decreases the value by two. We often label
only a single region of a diagram since these rules can be used to determine the labels on all other
regions.
Eq. (6.5) shows that all of the generators from Hk,k+1 , except for the one corresponding to the
Chern class of the line bundle Uk+1 /Uk , can be interpreted as either generators of Hk or Hk+1
under the natural inclusions. This fact is represented in the graphical calculus as follows:
n
Hk,k+1

xj,n

:=

j

(6.16)
n

Hk,k+1

y

,n+2

:=

(6.17)
n

Hk,k+1

ξ

:=

(6.18)

where each diagram inherits a grading from the Chern class it represents (deg xj,n = 2j ,
deg y ,n+2 = 2 , and deg ξ = 2). Equation (6.16) is meant to depicts the generator xj,n ∈ Hk,k+1
as the element xj,n ∈ Hk acting on the identity of Hk,k+1 . Likewise, the generator y ,n+2 ∈
Hk,k+1 is depicted as the element y ,n+2 ∈ Hk+1 acting on the identity of Hk,k+1 . The generator
ξ is represented by a dotted line so that ξ α is represented by α dots on a line, but for simplicity
we write this using a single dot and a label to indicate the power.
As explained in Section 6.1.3 the generators y ,n ∈ Hk do not map to our canonical generators
of Hk,k+1 under the inclusion (unlike xj,n ∈ Hk ). Rather they are mapped to the sum y ,n+2 +

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3383

ξ · y −1,n+2 where y −1,n+2 and y ,n+2 are the images of generators from Hk+1 . In terms of our
graphical calculus, this fact becomes the identity
n

n
=

−1

+

n

(6.19)

Similarly, since the generators xj,n+2 ∈ Hk+1 map to the sum xj,n + ξ · xj −1,n in Hk,k+1 we have
n
j

n
j

=

n
j −1

+

(6.20)

for all j in the appropriate range. Using that dumbbells with weight 0 are equal to 1, together
with (6.12) and (6.13), we can afford to be less careful about restricting the range of j if we
allow for the possibility that some diagrams may be zero. We use this observation throughout
this section and the next.
Some other graphical identities that follow from (6.5) are collected below:
α

α−1
j

+

α−j

j =0

j

α−1−j

=0

(6.21)

j =0

α

α

= (−1)α

j

α−j

(6.22)

j =0

N

α

=0
α−j

α

=

(6.23)

α−j

(−1)

j

(6.24)

j =0
α

α−j

α

=

α−j

(−1)

j

(6.25)

j =0

For example, (6.23) translated back into algebra just says that ξ N = 0. The above relations by no
means constitute a minimal set of relations; they are intended to be a list of convenient rules for
diagrammatic calculations.
Remark 6.2. Note that the left hand side of (6.25) is zero if α > N − k − 1 by (6.13). Similarly,
the left hand side of (6.24) is zero if α > k by (6.12).
Calculus for Hk,k+1,k+2 : The identity for the (Hk , Hk+2 )-bimodule Hk,k+1,k+2 = Hk,k+1 ⊗Hk+1
Hk+1,k+2 is
n+4
Hk,k+1,k+2

1

=

n

3384

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

where the middle region carries a label of n + 2. Again, most generators in Hk,k+1,k+2 can be
identified as the images of generators in Hk and Hk+2 under the action given by the natural
inclusions. The two generators ξ1 and ξ2 corresponding to the first Chern classes of the line
bundles Uk+1 /Uk and Uk+2 /Uk+1 are represented by dots on one of the two lines:
n+4
Hk,k+1,k+2

n

:=

xj,n

j

n+4
:=

yj,n+4

Hk,k+1,k+2

n
j

(6.27)

n+4
Hk,k+1,k+2

n

:=

ξ1

(6.28)
n+4

Hk,k+1,k+2

(6.26)

n

:=

ξ2

(6.29)

The tensor decomposition Hk,k+1,k+2 = Hk,k+1 ⊗Hk+1 Hk+1,k+2 has a natural depiction
n+4

n

n+4

n

j

where the elements xj,n+2 and y ,n+2 in Hk+1 can equivalently be regarded as acting on Hk,k+1
or Hk+1,k+2 .
A helpful graphical identity derived from (6.7) is the following:
α

α−j

j

n
=

j =0

n

α
α−j

α

(−1)

j

(6.30)

j =0

General calculus: The calculus for general tensor products iterated flag varieties is analogous
to that described above. Tensoring by − ⊗Hk Hk,k+1 adds an additional upward oriented line
and tensoring with − ⊗Hk+1 Hk+1,k adds an additional downward oriented line. For example
Hk,k+1 ⊗Hk+1 Hk+1,k would have an upward pointing arrow on the right and a downward pointing
arrow on the left. Dumbbells in the middle of these upward and downward pointing arrows
represent the action of elements in Hk+1 , and dumbbells on the outside represent the left or right
action by elements in Hk .
Right action Hk

Action of Hk+1

n

Left action of Hk

n
j

n
j

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3385

Dots on the lines corresponding to tensor factors Hk,k+1 and Hk+1,k represent the generator
corresponding to the Chern class of the line bundle Uk+1 /Uk .
In this way, any element of a tensor product of iterated flag varieties Hk1 ,...,km has a natural
interpretation as a diagram in our calculus. Furthermore, the actions of the rings Hki have a natural interpretation as either generators or sums of generators in our calculus. In the next section
we use this calculus to construct a representation of the 2-category U ∗ .
6.3. Bimodule maps
For (Hk1 , Hk2 )-bimodules H and H the graphical calculus makes it easy to define bimodule maps f : H → H . A priori we would need to specify the bimodule map on all generators.
However, using the relations and the identification of certain generators in H and H with those
in Hk1 and Hk2 we often need to specify far fewer. Loosely speaking, an element in H with a
weighted dumbbell on the far right must be mapped to an element in H with the same weighted
dumbbell on the far right. Similarly, dumbbells on the far left must get mapped to elements with
the same dumbbell on the far left.
For example, to define a (Hk , Hk+1 )-bimodule map f : Hk,k+1 → H we need only specify
the image of 1 since f must preserve the action of Hk by xj,n and the action of Hk+1 by y ,n+2 .
By (6.5) the image of the generator ξ is determined by the relation that ξ = −(x1,n + y1,n+2 ).
Hence, we do not need to specify the image of ξ or the image of any of its powers; they are
determined by the action of Hk and Hk+1 .
To define a (Hk , Hk+2 )-bimodule map f : Hk,k+1,k+2 → H we need only specify f (ξ1α ) or
f (ξ2α ) for all nonzero powers α. All other generators are determined by identification of the
generators of Hk,k+1,k+2 with those of Hk and Hk+2 . A similar principle can be applied in
general.
We use these facts many times in the next section to simplify our proofs.
7. Representing U ∗ on the flag 2-category
In this section we define for each positive integer N a weak 2-functor ΓN : U ∗ → Flag∗N . The
2-functor ΓN is degree preserving so that it restricts to a weak 2-functor ΓN : U → FlagN .
7.1. Defining the 2-functor ΓN
On objects the 2-functor ΓN sends n to the ring Hk whenever n and k are compatible:
ΓN : U ∗ → Flag∗N ,
n→

Hk
0

with n = 2k − N and 0
otherwise.

k

N,

(7.1)

Morphisms of U ∗ get mapped by Γ to graded bimodules
ΓN : U ∗ → Flag∗N ,
1n {s} →

Hk {s}
0

with n = 2k − N and 0
otherwise.

k

N,

(7.2)

3386

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

E1n {s} →

Hk,k+1 {s + 1 − N + k} with n = 2k − N and 0
0
otherwise.

F 1n {s} →

Hk+1,k {s + 1 − k} with n = 2k − N and 0
0
otherwise.

k < N,

k < N,

(7.3)
(7.4)

Here Hk,k+1 {s + 1 − k} is the bimodule Hk,k+1 with the grading shifted by s + 1 − k so that
Hk,k+1 {s + 1 − k}

j

= (Hk,k+1 )j +s+1−k .

More generally, we have
E α 1n {s} → Hk,k+1,k+2,···,k+(α−1),k+α s + α(−N + k) + α ,
F β 1n {s} → Hk,k−1,k−2,···,k−(β−1),k−β {s − βk + 2 − β}
so that
E α1 F β1 E α2 · · · F βk−1 E αk F βk 1n {s} ∼
= E α1 1n−

(βj −αj )

◦ · · · ◦ E αk 1n−2βk ◦ F βk 1n {s} (7.5)

is mapped to the graded bimodule
Hk,k−1,···,k−βk ,k−βk +1,···,k−βk +αk ,k−βk +αk +1,···,k−

j (βj +αj )

with grading shift {s + s }, where s is the sum of the grading shifts for each terms of the composition in (7.5). Formal direct sums of morphisms of the above form are mapped to direct sums
of the corresponding bimodules.
It follows from (6.4) that ΓN preserves composites of 1-morphisms up to isomorphism. Hence,
the 2-functor ΓN is a weak 2-functor or bifunctor. In what follows we will often simplify our
notation and write Γ instead of ΓN . We now proceed to define Γ on 2-morphisms.
7.1.1. Biadjointness
Definition 7.1. The 2-morphisms generating biadjointness in U ∗ are mapped by Γ to the following bimodule maps.

Γ

F

E

:
n

Γ

E

F

Γ
F

E

:

⎧
Hk −→ (Hk,k+1 ⊗Hk+1 Hk+1,k ){1 − N }
⎪
⎪
⎨
j
k− −j
=0j =0

(−1)

n

⎧
Hk −→ (Hk,k−1 ⊗Hk−1 Hk−1,k ){1 − N }
⎪
⎪
⎨
j
N −k− −j
N −k N −k−

n

⎪
⎪
⎩1 →

n

⎧
(Hk,k+1 ⊗Hk+1 Hk+1,k ){1 − N } −→ Hk
⎪
⎪
⎨

:

(7.6)

k k−

⎪
⎪
⎩1 →

⎪
⎪
⎩

m1

=0 j =0

(−1)

m2

n

(7.7)
n

n

→ (−1)m1 +m2 +k−N +1 m1 +m2 +k−N +1

(7.8)

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

⎧
⎞ ⎪ (Hk,k−1 ⊗Hk−1 Hk−1,k ){1 − N } −→ Hk
⎪
⎨
n⎠
m1
m2
:
⎪
→ (−1)m1 +m2 +1−k
⎪
⎩
F

⎛
Γ⎝
E

3387

n

(7.9)

m1 +m2 +1−k

These definitions preserve the degree of the 2-morphisms of U ∗ defined in Section 5.2. In (7.6)
the element 1 is in degree zero and is mapped to a sum of elements in degree 2k that have been
shifted by {1 − N} for a total degree 2k + 1 − N = 1 + n. The degree in (7.7) is 2(N − k) + (1 −
N) = 1 − n. Similarly, in (7.8) a degree 2(m1 + m2 ) element shifted by 1 − N is mapped to a
degree 2(m1 + m2 + k − N − 1) element for a total degree of 1 + n. One can easily check that
the map defined in (7.9) is of degree 1 − n.
To see that (7.6) and (7.7) are (Hk , Hk )-bimodule maps we must show that the left action of
Hk on the image of 1 ∈ Hk is equal to the right action of Hk . For (7.6) we must show that
k− −j

k k−

(−1)

n

j

k− −j

k k−

=

p

=0 j =0

n

j
p

(−1)

(7.10)

=0 j =0

Using the rotated version of (6.24) we have
k− −j

k k−

(−1)

j

n

k k−

p

=

p

=0 j =0

(−1)

+p−m

p−m+k− −j
m

j

n

=0 j =0 m=0

(7.11)
so that sliding the dumbbell labelled m to the right using (6.20), cancelling terms, and relabelling
completes the proof. In a similar way Eq. (7.7) can be shown to define a bimodule map as well.
We have defined maps (7.8) and (7.9) on elements ξ m1 ⊗ ξ m2 with it implicit dumbbells on the
far right and left are mapped to themselves. For these maps to be well defined (Hk , Hk )-bimodule
maps the relations in Hk,k+1 ⊗Hk+1 Hk+1,k and Hk,k−1 ⊗Hk−1 Hk−1,k must be preserved. For
example, the element
m1 +α−j

α

(−1)α−jj

m2

n=

m1
α

m2

m1

α

n =

j =0

(−1)α−j

m2 +α−j
j

n

j =0

(7.12)
in Hk,k−1 ⊗Hk−1 Hk−1,k must be mapped to the same element in Hk . Since the maps (7.8) and
(7.9) only depend on the sum m1 + m2 it is easy to see that they give well-defined bimodule
homomorphisms by using (6.19), (6.20), (6.24), and (6.25) to slide interior dumbbells to the
outer regions. In particular, the images of dumbbells in the region n − 2 under the bimodule map
n
are given by
Γ
E

F

m1

m2
α

m1 +m2 +1−k
n → (−1)

m1 +m2 +1−k
α

m1 +m2 +2−k

−

α−1

3388

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

(7.13)
m1
α

m2

α

(−1)m1 +m2 +1−k+α−

n →

m1 +m2 +1−k+α−

(7.14)

=0

n

and the images of dumbbells in the region n + 2 under the map Γ
F
m1

m2

α

m1 +m2 +1+k−N
n → (−1)

are given by

E

m1 +m2 +1+k−N

m1 +m2 +2+k−N

−

α

α−1

(7.15)
m1

α

m2

α

(−1)m1 +m2 +1+k−N

n →

m1 +m2 +1+k−N +α−

(7.16)

=0

The following alternative definitions of the cups (7.6) and (7.7) will also be useful
⎛

⎞

Γ ⎝F

E

⎠ :1→

k

k−

n
(7.17)

(−1)
=0

n

n

k k−

1→

(−1)k j

k− −j

(7.18)

=0 j =0
k

k−

1→

n
(7.19)

(−1)
=0

⎞

⎛
Γ ⎝E

F

⎠:

N −k−

N −k

1→

n
(7.20)

(−1)
=0

n

n

N −k N −k−

1→

N −k− −j

k

(−1)
=0

(7.21)

j =0
N −k−

N −k

1→

j

(−1)

n
(7.22)

=0

The proof that these are all equivalent is a straight forward application of the diagrammatic
identities derived in Section 6.2.

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3389

7.1.2. NilHecke generators
We show that the nilHecke algebra N Ha acts on End(Hk,k+1,...,k+a ) with χi acting by multiplication by ξi and ui acting by the divided differences ∂i operator on the variables ξi . Recall
from Section 6.2 that the variables ξi correspond to Chern classes of line bundles naturally associated to iterated flag varieties.
Definition 7.2. The 2-morphisms zn and zn in U ∗ are mapped by ΓN to the graded bimodule
maps:
⎛
⎜
Γ⎝

⎞
n+2

•

n

⎟
⎠:
⎞

⎛
⎜
Γ⎝

n

•

n+2

⎟
⎠:

⎧H
k,k+1 {1 − N + k} → Hk,k+1 {1 − N + k}
⎪
⎪
⎨
m

⎪
⎪
⎩

(7.23)

m+1

n

→

n

⎧H
k+1,k {1 − k} → Hk+1,k {1 − k}
⎪
⎪
⎨
⎪
⎪
⎩

m

(7.24)

m+1

n+2

→

n+2

Note that these assignments are degree preserving since these bimodule maps are degree 2.
The nilCoxeter generator Un is mapped to the bimodule map which acts as the divided difference operator in the variables ξj for 1 j a.
Definition 7.3. The 2-morphisms Un and Un are mapped by ΓN to the graded bimodule maps:
⎛
⎜
⎜
Γ⎜
⎝
⎛
⎜
⎜
Γ⎜
⎝

⎞

⎧
H
{1 − N } → Hk,k+1,k+2 {1 − N }
⎨ k,k+1,k+2
⎟ ⎪
m1 +m2
m1 m2
j
⎟
m1 −1
m2 −1
n⎟ :
−1−j
→
⎠ ⎪
⎩
n
n −
j =0

m1 +m2
−1−j

j =0

j

n

⎞

⎧
H
{1 − N } → Hk+2,k+1,k {1 − N }
⎨ k+2,k+1,k
⎟ ⎪
m1 +m2
m1 m2
j
⎟
m2 −1
m1 −1
n + 4⎟ :
−1−j
→
−
⎠ ⎪
⎩
n+4
n+4
j =0

j =0

m1 +m2
−1−j

j

n+4
(7.25)

The value of these maps on any other element is determined from the rules above together with
the requirement that these maps preserve the actions of Hk and Hk+2 . It is not hard to check that
these assignments give well-defined bimodule homomorphisms. The maps Γ (Un ) and Γ (Un ) as
defined above have degree −2 so that Γ preserves the degree of Un and Un .
Remark 7.4. Γ (Un )(ξ1m1 ⊗ ξ2m2 ) is zero when m1 = m2 . This is clear from the definition. When
the number of dots the upward oriented lines is equal the two sums in (7.25) cancel.

3390

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

7.2. Proving that ΓN is a 2-functor
In this section we show that the relations of Section 5.2 for U ∗ are satisfied in Flag∗N , thus
establishing that ΓN is a 2-functor. From the definitions in the previous section it is clear that ΓN
preserves the degree associated to generators. For this reason, we often simplify our notation in
this section by omitting the global grading shift of {1 − N }.
The proof that ΓN is a 2-functor is long and labourious. The reader willing to take our word
of this fact is advised to skip ahead to Section 8.
Lemma 7.5 (Biadjointness). The following identities
⎛n + 2
⎜
⎜
Γ⎜
⎜
⎝
⎛n − 2
⎜
⎜
Γ⎜
⎜
⎝
⎛
⎜
⎜
Γ⎜
⎜
⎝
n+2
⎛
⎜
⎜
Γ⎜
⎜
⎝

n⎞
⎟
⎟
⎟=Γ
⎟
⎠

⎛n + 2
⎜
⎜
⎜
⎜
⎝

n ⎞
⎟
⎟
⎟
⎟
⎠

n⎞
⎟
⎟
⎟=Γ
⎟
⎠

⎛n − 2
⎜
⎜
⎜
⎜
⎝

n⎞
⎟
⎟
⎟
⎟
⎠

⎞

⎛

⎞

⎟
⎟
⎟=Γ
⎟
⎠

⎜
⎜
⎜
⎜
⎝

⎟
⎟
⎟
⎟
⎠

n+2
⎛

n
⎞
⎟
⎟
⎟=Γ
⎟
⎠

n−2

⎞

⎜
⎜
⎜
⎜
⎝

⎟
⎟
⎟
⎟
⎠

n−2

n

n

n

hold in Flag∗N for all n ∈ Z.
Proof. As explained in Section 6.3 it suffices to check these relations on the identity element of
the bimodules Γ (1n−2 F 1n ) and Γ (1n+2 E1n ), since all other elements are determined from this
one by the bimodule property. Using the alternative definition of the cup from (7.17) we have
⎛n + 2
⎜
⎜
Γ⎜
⎜
⎝

n⎞
⎟
⎟
⎟ :
⎟
⎠

k

n

→
=0

−

n

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3391

= 0 proving the first identity. The rest are

Hence the only nonzero value in the sum is when
proven similarly. ✷
Lemma 7.6 (Duality for zn ). The equations
⎛
n
⎜
⎜
⎜
Γ⎜
⎜
⎝

⎞

⎛
⎟
⎜n
⎟
⎜
⎟
⎟=Γ ⎜
⎟
⎝
⎠

•

⎛
n
⎜
n + 2⎟
⎜
⎜
⎟
⎟=Γ ⎜
⎜
⎠
⎝

⎞

⎞

•

•

n+2

⎟
⎟
⎟
⎟ (7.26)
⎟
⎠
n+2

of bimodule maps hold in Flag∗N for all n ∈ Z.
Proof. Since we have already established that Γ preserves the biadjoint structure of U ∗ in
Lemma 7.5, the above (7.26) is equivalent to proving
⎛
⎜
⎜
Γ⎜
⎝

•

⎞

⎛

⎟
⎟
⎟=Γ
⎠

⎜
⎜
⎜
⎝

⎞

⎛

⎟
⎟
⎟=Γ
⎠

⎜
⎜
⎜
⎝

⎞

•

⎟
⎟
⎟
⎠
n
⎞

•

⎟
⎟
⎟
⎠
n

n
⎛
⎜
⎜
Γ⎜
⎝

•
n

(7.27)

(7.28)

for all n ∈ Z. We prove the first identity, the second can be proven similarly. We compare the
images of both bimodule maps on the element 1 ∈ Hk ,
⎛
⎜
⎜
Γ⎜
⎝

⎞
⎟
⎟
⎟ (1 ∈ Hk ) =
⎠
n

•

(6.22)

n

k− +1

k

(7.29)

(−1)
=0

n

k k− +1

=

k+1

(−1)

k− +1−j

j

(7.30)

=0 j =0

The dumbbell on the left is zero when the weight j = k + 1. Similarly, adding an = k + 1 term
to the sum is equivalent to adding zero since the dumbbell on the right hand side is zero when
the weight = k + 1. Switching the summation order we have
n

k k−j +1

=

k+1

(−1)
j =0

=0

j

(k+1−j )−

(7.31)

3392

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

⎞

⎛
(6.22)

k−j +1

k

=

(−1)j

j

n

j =0

⎜
⎜
=Γ ⎜
⎝

•

⎟
⎟
⎟ (1 ∈ Hk )
⎠
n

(7.32)

✷

completing the proof.

Lemma 7.7 (Duality for Un ). The equation
⎛

⎞

⎛

⎜
⎜
⎜n
⎜
⎜
⎜
⎜
Γ⎜
⎜
⎜
⎜
⎜
⎜
⎝

⎟
⎟
⎟
⎟
⎟
⎟
⎟
⎟=Γ
⎟
⎟
⎟
n + 4⎟
⎟
⎠

⎜
⎜
⎜n
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎝

⎞
⎟
⎟
⎟
⎟
⎟
⎟
⎟
⎟ (7.33)
⎟
⎟
⎟
n + 4⎟
⎟
⎠

holds in Flag∗N for all n ∈ Z.
p

Proof. We show that the two maps agree on vectors of the form

n+4
since all other

vectors are determined from the relations and the bimodule property. Using (7.20) twice for the
maps εn+4 and εn+2 we compute the image of this vector under the first bimodule map
N −k−2 N −k−1 N −k−3−

1

(−1)p+1
1 =0

2 =0

p+N −k− 1 − 2 −j

1

−

p+1 p+N −k− 1 − 2 −j −1

j +2+k−N

p+1 p+N −k− 1 − 2 −j

j +1+k−N

(−1)
2 =0

−

2

(−1)
2 =0

+

2

p+1 p+N −k− 1 − 2 −j −1 j +2+k−N

(−1)
2 =0

n+4
2

1

n+4
2

1

j =0

N −k−2 N −k−1 N −k−2−
1 =0

1

j =0

N −k−2 N −k−1 N −k−2−
1 =0

n+4
2

j =0

N −k−2 N −k−1 N −k−3−
1 =0

j +1+k−N

n+4
2

1

j =0

(7.34)
All terms in the first two factors cancel except for the j = 0 term of the first factor and the
j = N − k − 3 − 1 term of the second factor. All terms of the third and fourth factors cancel
except for the j = 0 term of the third factor and the j = N − k − 2 − 2 term of the fourth factor.
Then the j = 0 terms of the first and third factors cancel leaving only

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424
N −k−2 N −k−1

−

p− 2 +2

p+1

(−1)
1 =0

−1 −

3393

n+4
1

2

1

2 =0

N −k−2 N −k−1

+

p− 1 −1

p+1

(−1)
1 =0

−

n+4
2

2

.

1

(7.35)

2 =0

The first factor is always zero because the dumbbell with weight −1 − 1 always has negative
degree. In the second factor the only term for which the dumbbell with weight − 2 is in positive
degree is when 2 = 0. This leaves only the terms
n+4

N −k−2

p− 1 −1

p+1

(−1)

1

p− 1 −1

p−1
(6.30)

=

1 =0

1

n
(7.36)

1 =0

where in the last equality we may need to add terms
n+4

p
p− 1 −1

p+1

(−1)

(7.37)

1

1 =N −k−1

when p > N − k − 2, but all of these terms are zero because the dumbbell on the right is zero
whenever the right weight 1 > N − k − 2 by (6.13).
p n+4
under the second bimodule map of (7.33) is
The image of the vector
k+1 k−

k

n+4

2

p−1

(−1)
1 =0 2 =0

k

1

j =0
k+1 k−

n+4

2

−

p−1

(−1)
1 =0 2 =0

k

1

k− 1 − 2 −j +p

2

n+4

k+1 k− 1 −1
p−1

1

2

k− 1 − 2 −j +p−1

j −k

p−1

1

2

k− 1 − 2 −j +p

j −k−1

(−1)
1 =0 2 =0

j =0

n+4

k+1 k− 1 −1

+

(−1)
1 =0 2 =0

j −k−1

j =0

−
k

j −k

k− 1 − 2 −j +p−1

2

(7.38)

j =0

using (7.19) twice to compute the maps ηn and ηn+2 . All terms in the first two factors cancel
except for the j = k − 2 term in the first and the j = 0 in the second. All terms in the last two
factors cancel except for the j = k − 1 − 1 in the first and the j = 0 term in the last. Again, the
j = 0 terms cancel leaving only
k

k+1
p−1

(−1)
1 =0 2 =0

1

2

p− 1 −1

−

n+4
2

3394

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424
k

n+4

k+1

−

p−1

1

(−1)
1 =0

p−

2

2

− 1 −1

(7.39)

.

2 =0

The terms in the second factor are always zero, while only the
factor. Hence we have
n+4

k
p−1

(−1)

p− 1 −1

1

2

= 0 terms contribute to the first

p−1
(6.30)

=

1 =0

p− 1 −1

1

n
(7.40)

1 =0

✷

which agrees with (7.36) above.

For the remaining identities it is helpful to compute
⎛
⎜
Γ⎜
⎝
⎛
⎜
Γ⎜
⎝

•

n⎞
min(α,N −k)
⎟
⎟ : 1 → (−1)α
⎠

n

α−

=0

n−1+α

•

n ⎞
min(α,k)
⎟
⎟ : 1 → (−1)α
⎠

α−

n
(7.41)

=0

−n−1+α

which follow from Definition 7.1. The same formulas define the image of fake bubbles under Γ .
One can verify that the defining equation
⎛
⎞
n
⎜
Γ⎝

d

j =0

•

n−1+j

•

⎟
⎠=0

(7.42)

−n−1+d−j

is satisfied using the definitions above.
Lemma 7.8 (Positive degree of closed bubbles). For all m
⎛
⎜
Γ⎜
⎝
⎛
⎜
Γ⎜
⎝

n⎞
⎟
⎟=0
• ⎠

0 we have

if m < n − 1

m

n⎞
⎟
⎟=0
• ⎠

if m < −n − 1

m

for all n ∈ Z. Here 0 on the right hand side denotes the trivial bimodule map 0.
Proof. This is clear from the definitions above and the positive degree of all dumbbells.

✷

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3395

Lemma 7.9 (Reduction to bubbles). The equations
⎞

⎛

⎛
n⎟
⎟
⎜
⎟
⎟ = Γ ⎝−
⎟
⎠

⎜
⎜
⎜
Γ⎜
⎜
⎝
⎛

−n

•−n−

⎞

n

•
n−1+

=0

⎟
⎠

(7.43)

⎞

⎜n
⎜
⎜
Γ⎜
⎜
⎝

⎛
⎟
n
⎟
⎟
⎟=Γ ⎝
⎟
j =0
⎠

n

• n−j

•

⎞
⎠

(7.44)

−n−1+j

hold in Flag∗N for all n ∈ Z.
Proof. Consider the first identity on 1 ∈ Hk,k+1 . We compare the images of both bimodule maps
on the element 1 ∈ Hk,k+1 ,
⎛

⎞

⎜
⎜
Γ⎜
⎜
⎝

n⎟
N −k N −k− −1
⎟
⎟(1 ∈ Hk,k+1 ) = −
(−1)−n−j
⎟
⎠
=0
j =0

n

j

−n− −j

But the dumbbell with weight −n − − j is only nonzero when j −n − = N − 2k − . For
k > 0 this implies −n −
N − k − − 1. After changing the j -summation to reflect this fact,
so that 0 j −n − , the above is equal to the image of 1 ∈ Hk,k+1 under the bimodule map
on the right hand side of (7.43). Eq. (7.44) is proven similarly. ✷
Lemma 7.10 (NilHecke action). The equations
⎞

⎛

n⎟
⎟
⎟
⎟=0
⎟
⎟
⎠

⎜
⎜
⎜
Γ⎜
⎜
⎜
⎝
⎛
Γ⎝

⎞

⎛

n⎠ = Γ ⎜
⎝

⎞
•

⎛

n⎟ − Γ ⎜
⎠
⎝

•

⎞

(7.45)

⎛

n⎟ = Γ ⎜
⎠
⎝

•

⎛

⎞

n⎟ − Γ ⎜
⎠
⎝

n⎟
⎠

⎞

•

(7.46)

3396

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

⎞

⎛

⎟
⎟
⎟
⎟
⎟
⎟
n⎟
⎟=Γ
⎟
⎟
⎟
⎟
⎠

⎜
⎜
⎜
⎜
⎜
⎜
Γ⎜
⎜
⎜
⎜
⎜
⎜
⎝

⎛

⎞

⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎝

⎟
⎟
⎟
⎟
⎟
⎟
n⎟
⎟
⎟
⎟
⎟
⎟
⎠

(7.47)

hold in Flag∗N for all n ∈ Z.
Proof. We compute the bimodule map (7.45) on the element
m

∈ Hk,k+1,k+2

n

(7.48)

since this determines the module map on all other vectors. The first equation is proven as follows:
⎛

⎞

⎜
Γ⎝

⎟
n⎠

m−j −1

m−1

m

n

= −

j

n
(7.49)

j =0
(6.30)

n

α

=

m−1

(−1)

m−j −1

j

(7.50)

j =0

Hence, the composite
⎛

⎞

⎜
⎜
⎜
Γ⎜
⎜
⎜
⎝

n⎟
⎟
⎟
⎟
⎟
⎟
⎠

is zero by Remark 7.4. The second equation is a simple computation using the definition.
For the last relation we consider the element
m1

m2

n

∈ Hk,k+1,k+2,k+3

(7.51)

again, because all other vectors are determined from identities together with the bimodule property. By direct computation we have

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

⎛
⎜
⎜
⎜
⎜
⎜
⎜
Γ⎜
⎜
⎜
⎜
⎜
⎜
⎝

⎞
⎟
⎟
⎟
⎟
⎟
⎟
n⎟
⎟ n
⎟
⎟
⎟
⎟
⎠

m1

=

j3

m2 −1
+j1 −j2

m1 −2−j1
+j2 −j3

−

m2 −1
+j1 −j2

j3

1 −1 2 −1

1 =2

2 =1 3 =0

m1 −1 m2 −1 j2 −1

n

j3 =0

m1 −1

−

n

j3 =0

m1 −2 m2 −1 m1 −2−j1
j1 =0 j2 =0

m2

m1 −2−j1
+j2 −j3

m1 −2 j1 −1 m1 −2−j1
j1 =1 j2 =0

3397

+

m1 −2− 1
+ 2− 3

3

m2 −1
+ 1− 2

n
m1 −2−j1
+j2 −j3

j3

m2 −1
+j1 −j2

n

j1 =0 j2 =1 j3 =0

where we have written each summation to include only the nonzero terms. The first two terms
cancel which is clear after the substitution 1 → m1 − 1 − j2 , 2 → m1 − 1 − j1 , and 3 → j3 .
On the third term make the substitution j1 → m1 − 1 − 2 , j2 → m1 + 1 − 2 2 + 3 , and j3 →
3 . On the fourth term make the substitution j1 → m2 − 2 − 2 1 + 2 − 3 , j2 → m2 − 1 − 1 , and
j3 → 3 . This leaves the terms
m2 −1 m1 −1

2 −1

−
1 =0

2 =1

m1 −1
+ 1− 2

m2 −2− 1
+ 2− 3

n

3 =0

m2 −2 m1 −1 m2 −2−

1

+
1 =0

3

2 =0

m1 −1
+ 1− 2

3

m2 −2− 1
+ 2− 3

(7.52)
n

3 =0

Add to this the expression
m2 −1

1 −1 2 −1

1 =2

2 =1 3 =0

m2 −2

m1 −1
+ 1− 2

1 −1 m2 −2− 1

2 =0

m2 −2−
+ 2− 3

1

n

−
1 =1

3

m1 −1
+ 1− 2

3 =0

3

m2 −2−
+ 2− 3

1

(7.53)
n

which can be shown to be equal to zero by shifting indices as above. This is precisely the nonzero
terms of the bimodule map on the right hand side of (7.47) applied to the vector (7.51). ✷
Lemma 7.11 (Identity decomposition). The equations

3398

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

⎛

n

⎜
Γ⎝

⎞

⎛

n

⎟
⎜
⎠ = Γ ⎝−

⎛

⎞

⎜n−1
⎜
⎟
⎠+Γ ⎜
⎜
⎝ =0 j =0

•
n−1−
•

−n−1+j
−j

⎞
n⎟
⎟
⎟
⎟
⎠

(7.54)

•

⎛

⎞
⎛
n
⎟
⎜
⎠ = Γ ⎝−

⎜
Γ⎝

n

⎛

⎞

⎜−n−1
⎜
⎟
⎠+Γ ⎜
⎜
⎝ =0 j =0

•
−n−1−
•

n−1+j
−j

⎞
n⎟
⎟
⎟
⎟
⎠

(7.55)

•

hold for all n ∈ Z.
Proof. Using Lemma 7.5 proving the first identity is equivalent to proving

⎜
n−2 =Γ ⎜
⎝−

Γ

⎛

⎞

⎛

⎟
n − 2⎟
⎠+Γ

−j

• n−1−

⎜n−1
⎜
⎜
⎝

=0 j =0

•

•

⎞
⎟
⎟
n − 2⎟ (7.56)
⎠

−n−1+j

We compute the above maps on the elements
m

n

∈ Hk,k+1 ⊗Hk+1 Hk+1,k

(7.57)

for m 0, since these elements, together with relations (6.22)–(6.19) and the bimodule property,
determine the image on all other elements.
We begin by computing the image of the element (7.57) under the maps on the right hand side
of (7.56).
⎛

n−2

⎜
⎜
Γ⎜
⎝

(6.24)

k

=

Hence,

⎟
⎟
⎟
⎠

k

m

n−2 =

m

k−

n−2

(−1)
=0

k−

(−1)
=0

⎞

m

n−2

k

+

k−

(−1)
=1

m+1
−1

n−2

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

⎛

⎞

⎜
⎜
⎜
Γ⎜
⎜
⎜
⎝

⎟
⎟
⎟
n − 2⎟
⎟
⎟
⎠

m

n−2

k m−1 k− −1

=

3399

p

(−1)

n−2

j

m+n− −p−j −1

m+n−p−j

=0 j =0 p=0
k

m k− −1

+

p

m+n−p−j +1

j

m+n− −p−j

(−1)

−1

n−2
.

=1 j =0 p=0

Now shift the second term
This leaves
⎛
m+n ⎝

= − 1, and note the = k term of the first factor is zero by (6.12).

k−1 m−1 k− −1

j

m+n− −p−j −1

(−1)

(−1)

n

p

−p−j

=0 j =0 p=0
k−1 m k− −2

−

n

p

(−1)−p−j

⎞

j

⎠.

m+n− −p−j −1

=0 j =0 p=0

The only terms that do not cancel are the p = k − − 1 term of the first factor and the j = m
term of the second factor
k−1 m−1
m+k−N

−j +1

(−1)

(−1)

k− −1
m+k−N −j

n

j

=0 j =0
k−2 k− −2

−

n−p

(−1)

n
p
n− −p−1

m

=0 p=0

In the first term note that m − 1 m − (N − k) since N − k 1, otherwise k = N . So we change
the upper limit of the j summand to m − (N − k) and apply (6.25) holding fixed. In the second
summand we note that we must have n − − p − 1 0, and that k − − 2 n − − 1 if
N − k 1. Hence, the summation goes only as high as n − 1, and the p summation only as
high as n − 1 − yielding
(−1)m+k−N +1

k−1

k−l−1

m−(N −k)

(−1)

n−2

=0
p

n−1 n−1−

−

n−p

(−1)

n

m

n−1− −p

=0 p=0

Now we compute the other maps involved in (7.56). The second map on the right hand side is

3400

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

⎛
⎜
Γ⎝

• n−1−

n−1

•
•

=0 j =0

−j

⎞
m

⎟
n − 2⎠

n−2

−n−1+j
min(j,k)

n−1

=

n−1−
j

(−1)
=0 j =0

n

m+ −j

j −p

p

p=0

Now change the j summation by substituting q = − j , and for later convenience set t =
min(t−q,k)

n−1 t

=

(−1)t−q
t=0 q=0

n−2

(7.58)

p=0

Note that t − q k since t − q
the min in the p summation.
t

n−1

=

m+q

n−1−t
p
t−q−p

n − 1 = 2k − N − 1 and k < N + 1. Hence, we can eliminate

t−q

(−1)−q

t

(−1)
t=0

m+q

n−1−t
p
t−q−p

n−2

(7.59)

n−2

(7.60)

q=0 p=0

Switching the summation order on the p and q summation we have
n−1

=

t

t−p

(−1)−q

t

(−1)
t=0

m+q

n−1−t
p
(t−p)−q

p=0 q=0

Holding t and p constant, (6.24) applied to the q summation yields
n−1 t

=

t

(−1)

m

n−1−t
p

n−2
t−p

(7.61)

t=0 p=0

Finally, to make this expression match up with earlier expressions, make the substitutions p =
n − 1 − t, and = t − p
n−1 n−1−p

=

(−1)n−1−p
p =0

p
n−1−p −

m

n−2
(7.62)

=0

and switch the order of the summations so that we have
n−1 n−1−

=

m

p
n−1−p

(−1)

n−1−p −

n−2
.

(7.63)

=0 p =0

Hence, the image of the element (7.57) under the map on the right hand side of (7.56) is given by

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424
k−1
m+k−N

(−1)

k−l−1

(−1)

3401

n−2
m−(N −k)

=0

which is precisely the image of (7.57) under the left hand side of (7.56).

✷

Theorem 7.12. The assignments given in Subsection 7.1 define a graded additive 2-functor
ΓN : U ∗ → Flag∗N . By restricting to degree preserving 2-morphisms we also get an additive 2functor ΓN : U → FlagN .
Proof. We have already seen that ΓN preserves composites of 1-morphisms up to isomorphism.
The lemmas above show that ΓN preserve the defining relations of the 2-morphisms in U ∗ .
Therefore, ΓN is a 2-functor. We have also shown that the assignments of Subsection 7.1 preserve
the degree of the 2-morphisms in U ∗ . Thus, it is clear that restricting to the degree preserving
maps gives the restricted 2-functor ΓN : U → FlagN . ✷
8. Size of 2-category U ∗
The rings Hk are defined over Q. However, the following result holds for any field k with
chark = 2.
Proposition 8.1. The images of dotted bubbles under the representations ΓN : U ∗ → Flag∗N :
⎛
⎜
Γ⎜
⎝

•

n⎞
min(α,N −k)
⎟
⎟ : 1 → (−1)α
y
⎠

,n yα− ,n

=0

n−1+α

⎛
⎜
Γ⎜
⎝

•

n ⎞
min(α,k)
⎟
⎟ : 1 → (−1)α
x
⎠

−n−1+α

,n xα− ,n

(8.1)

=0

over all α ∈ Z+ generate the cohomology ring Hk for any choice of N .
Proof. This is immediate when 2 is invertible. In that case, the counter-clockwise dotted bubble
of degree α generates the Chern class xα,n together with products of lower degree Chern classes.
Likewise, the clockwise dotted bubble in degree α generates the Chern class yα,n together with
products of lower degree Chern classes. ✷
Recall that the cohomology rings Hk are spanned by the xj,n with 1 j k when k
N − k when N − k k. Without loss of generality assume k
and the y ,n with 1

N − k,
N −k

3402

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

and write all the y ,n in terms of xj,n using the Grassmannian relation. The remaining k relations
on Hk are given by the first column of
⎛

⎞N −k+1
0 0
⎟
.
1 .. 0 ⎟
⎟
⎟
.. ..
. . 0⎟
⎟
⎟
..
.
1⎠
0

x1,n 1 0

⎜
⎜ x2,n
⎜
⎜
⎜ x3,n
⎜
⎜ .
⎝ ..

0
0
..
.

xk,n 0

(8.2)

(see for example [23]). This implies that the relations on the generators xj,n are in degree
N − k + 1, . . . , N . Since the representations ΓN are defined for all positive integers N , it is
always possible to choose N large enough so that there are no relations on the images of a given
collection of non-nested dotted bubbles of the same orientation.
Proposition 8.2. The assignment
n
•

→ vj,n

for n

0

(8.3)

→ vj,n

for n

0

(8.4)

−n−1+j

n
•

n−1+j

induces a graded ring isomorphism U ∗ (1n , 1n ) → Z[v1,n , v2,n , v3,n , · · ·] with vi,n in degree 2i.
Note that when n = 0 we have two different isomorphisms related by the infinite Grassmannian relations in Proposition 5.5. We sometimes suppress the dependence on the value of n and
write vi . This implies that every closed diagram can be reduced to a unique linear combination
of diagram of non-nested dotted bubbles with the same orientation.
Proof. We show that any closed diagram can be reduced to a unique sum of non-nested dotted
bubbles of the same orientation; this together with the above observation that there are no relations among a collection of non-nested dotted bubbles of the same orientation completes the
proof.
Using the bubble slide equations in Propositions 5.6 and 5.7 any dotted bubble can be pushed
to the outside of a closed diagram. Using the Grassmannian relations of Proposition 5.5 all dotted
bubbles can be made to have the same orientation. Either this process completes the proof, or we
are left with a closed diagram, possibly consisting of several components, that contains no dotted
bubbles.
Consider the innermost diagram. We induct on the number of nilCoxeter generators Un in this
diagram to show that it can be reduced to sums of dotted bubbles. By contracting each double
edge to a point and disregarding orientation and dots we are left with a connected planar 4valent graph G with at least one vertex. First we show that if this graph contains a loop or a
digon face then the number of nilCoxeter generators can be reduced. Then we show that if the
graph contains no loops or digons, then using only relations which do not increase the number
of nilCoxeter generators, it can be transformed into a diagram containing a digon face.

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3403

Loops in G arise from diagrams of the form
n

n
(8.5)

with some number of dots labelling each strand. Each diagram reduces using the reduction to
bubbles axioms (5.23) and (5.24). Digon faces in G arise from diagrams of the form

n

n

n

n

n
(8.6)

with some number of dots on each strand. Using the nilHecke relations these dots can be moved to
the top of the diagram without increasing the number of nilCoxeter generators. The first diagram
reduces using the nilCoxeter relation (5.11) and the second two can be reduced using the identity
decomposition equations (5.18) and (5.19).
Now we appeal to a theorem from graph theory, see for example Carpentier [11, Lemma 2].
If a connected planar 4-valent graph has at least one vertex and does not contain a loop or digon
face, then it is possible by a sequence of triangle moves

(8.7)

to transform the diagram into one containing a digon face. Hence, the proposition is complete if
such moves can be performed on diagrams which produce graphs of the above form. The only
possibilities arise from the diagrams

n

n

n
n

with some number of dots on each strand. Again, using the nilHecke relations these dots can
be moved to the top of such diagrams producing sums of diagrams in which the number of

3404

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

nilCoxeter generators does not increase. The triangle move above then follows from Eq. (5.13)
and Proposition 5.8. ✷
Theorem 8.3. There is an isomorphism of graded rings

β : N Ha ⊗ Z[v1,n , v2,n , . . .] → U ∗ E a 1n , E a 1n
n
ui ⊗ 1 → n + 2a

···

χi ⊗ 1 → n + 2a

···

1 ⊗ vj,n →

⎧
⎪
⎪
⎪
⎪
⎪
⎪
n + 2a
⎪
⎪
⎪
⎨
⎪
⎪
⎪
⎪
⎪
⎪
n + 2a
⎪
⎪
⎪
⎩

•

n + 2(a − i)

···

n + 2(a − i)

···

n

n
···

···

if n

0

if n

0

•

−n−1+j

n
···

···

•

n−1+j

with vi,n in degree 2i.
Proof. The isomorphism constructed in Proposition 8.2 identifies the vi,n with dotted bubbles
of a given orientation in the region labelled n. This, together with nilHecke action (5.11)–(5.13)
built into the definition of the 2-category U ∗ , shows that β is a homomorphism. Using graph
theoretic arguments we now show that the image of the homomorphism β forms a spanning set
for U ∗ (E a 1n , E a 1n ) establishing surjectivity.
Given an element in U ∗ (E a 1n , E a 1n ) represented by a linear combination of diagrams, we
show that each diagram D in the sum can be reduced to a diagram in the image of β. Let G denote
the 4-valent graph obtained from D by contracting each double edge to a point and disregarding
the dots. Arguing as in Proposition 8.2, the diagram D can be written as a finite sum of diagrams
Di whose graphs Gi contain no loops or digons faces and all nested closed subdiagrams of Di
have been reduced to dotted closed bubbles with the same orientation and moved to the far right
of the diagram to the region labelled by n. In this way, no closed diagram lies interior to the
remaining 4-valent graph whose boundary consists of 2a points.
We argue that the diagrams Di can be written as sums of diagrams Dij whose graphs Gij are
such that any walk:

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3405

emanating from a boundary point crosses any other strand at most once and never crosses itself.
By a walk we mean a path in the 4-valent graph extending from a point through each vertex to
its opposite edge, until a closed loop is obtained, or a boundary point is reached.
Carpentier showed that any connected closed 4-valent graph with at least one vertex and
no loops or digons can be transformed into a diagram containing a digon face using triangle
moves [11]. The main argument used by Carpentier is the existence of a configuration of one of
the two forms:
(8.8)
in the closed graph. It is argued that if this configuration is minimal (contains no configurations
of the same form inside it), then the second case can be reduced to the first, and using triangle
moves (8.7) this first configuration

can be transformed to a digon face by sliding all the internal edges outside the configuration.
The requirement that the graph be closed is only used to prove the existence of on one of the
configurations in (8.8).
If any strand in the graph Gi intersects itself, or a different strand twice, there must be one
of the two possible configurations in (8.8). We then choose a minimal such configuration in Gi
and by Carpentier’s argument the diagram Di reduces to a sum of diagrams Dij whose graphs
have fewer vertices. Applying this procedure inductively we can reduce each diagram Di to a
sum of diagrams whose graphs have no walks emanating from an open end that cross themselves
or crosses any other strand more than once. Using Theorem 4.5 it is clear that edges in the
resulting summands can be made strictly increasing using plane isotopies so that they correspond
to elements in the image of β. The sum of diagrams Dij is unique since for N large enough the
2-functor ΓN is a faithful representation on homogeneous elements of a fixed degree.
To see that β is injective suppose that for some collections of polynomials fw (x) ∈
Z[x1 , x2 , . . . , xa ] and gw (v) ∈ Z[v1 , v2 , . . .] with w ∈ Sa we have
fw (x)uw ⊗ gw (v) = 0.

β

(8.9)

w∈Sa

Choose N much larger than the degree of the 2-morphism (8.9) so that applying the 2-functor
ΓN implies
fw (x)uw ⊗ gw (v)

ΓN β
w∈Sn

=

fw (ξ )∂w ⊗ Gw = 0
w∈Sn

(8.10)

3406

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

for fw (xi)∂w : Hk,...,k+a → Hk,...,k+a and some nonzero bimodule maps Gw : Hk → Hk . Here
we have used that ΓN is a 2-functor mapping horizontal composites in U ∗ to tensor products of
bimodule maps in Flag∗N . The Gw are nonzero since they are built from the images of non-nested
dotted bubbles of the same orientation, and we have argued that each dotted bubble is mapped
to a nonzero bimodule map. Since N was chosen large, the polynomial fw (ξ ) in the variables
ξi (corresponding to Chern classes of line bundles) is identical to the polynomial fw (x) with xi
replaced by ξi .
We show that the bimodule map w∈Sn fw ∂w : Hk,...,k+a → Hk,...,k+a must be the zero map.
In particular, fw (ξ ) are all zero; since N was chosen large, we deduce that the fw (x) are also all
equal to zero.
Equation (8.10) implies that the image of any element p1 ⊗ p2 ∈ Hk,...,k+a ⊗ Hk under the
bimodule map w∈Sn fw ∂w is
fw ∂w (p1 ) ⊗ Gw (p2 ) = 0.
w∈Sn

Take v0 ∈ Sa of minimal degree in the above sum and let p2 = 1 and p1 = Sv0 (ξ ). Here again,
we use that N was chosen large enough so that the Schubert polynomial Sv0 (ξ ) can be formed.
Then
fw ∂w (Sv0 ) ⊗ Gw (1) = 0,

(8.11)

w∈Sn

but by (3.17)
∂w Sv0 =

Sv0 w−1
0

if (v0 w −1 ) = (v0 ) − (w),
otherwise.

(8.12)

Hence, the only contribution to (8.11) is from w = v0 . Since Gv0 (1) = 0 Eq. (8.11) implies
fv0 = 0.
Applying this argument inductively we have that all fw = 0 proving injectivity. ✷
Remark 8.4. We can also obtain an isomorphism β : Z[v1,n+2a , v2,n+2a , . . .] ⊗ N Ha →
U ∗ (E a 1n , E a 1n ) by moving all the closed bubbles to the far left of a diagram. But the composite
β −1 β : Z[v1,n+2a , v2,n+2a , . . .] ⊗ N Ha → N Ha ⊗ Z[v1,n , v2,n , . . .]
is a nontrivial isomorphism due to the complicated bubble slide formulas.
Theorem 8.5. There is an isomorphism of graded rings
β : N Ha ⊗ Z[v1,n , v2,n , . . .] → U ∗ F a 1n+2a , F a 1n+2a .
Proof. The isomorphism β is given by the composite
N Ha ⊗ Z[v1,n , v2,n , . . .]

β

U ∗ (E a 1n , E a 1n )

ψσ ω

U ∗ (F a 1n+2a , F a 1n+2a ),

(8.13)

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3407

where the composite 2-functor ψσ ω has the interpretation as rotating the diagrams defining β
by 180 degrees. ✷
˙
9. Categorification of Lusztig’s U
We would like to be able to split idempotents in the 2-category U . To do this in an abstract
setting we require the notion of the Karoubi envelope of a category.
9.1. Karoubi envelope
An idempotent e : b → b in a category C is a morphism such that e ◦ e = e. The idempotent is
said to split if there exist morphisms
g

b

h

b

b

such that e = h ◦ g and g ◦ h = 1b .
The Karoubi envelope7 Kar(C) is a category whose objects are pairs (b, e) where e : b → b is
an idempotent of C and whose morphisms are triples of the form
e, f, e : (b, e) → b , e
where f : b → b in C making the diagram
f

b

b
f

e

e

b

f

(9.1)

b

commute [43]. Composition is induced from the composition in C, but the identity morphism is
(e, e, e) : (b, e) → (b, e). When C is an additive category, the splitting of idempotents allows us
to write (b, e) ∈ Kar(C) as im e and we have b ∼
= im e ⊕ im(1 − e), see for example [2].
The identity map 1b : b → b is an idempotent and this allows us to define a fully faithful
functor C → Kar(C). In Kar(C) all idempotents of C are split and this functor is universal with
respect to functors which split idempotents in C. This means that if F : C → D is any functor
where all idempotents split in D, then F extends uniquely (up to isomorphism) to a functor
F : Kar(C) → D (see for example [8, Proposition 6.5.9]). Furthermore, for any other functor
G : C → D and a natural transformation α : F ⇒ G, α extends uniquely to a natural transformation α : F ⇒ G.
7 Also known as the idempotent completion [1], or Cauchy-completion [8, Chapter 6.5]. The reader who finds the
terminology Cauchy completion confusing see [9, 6.8.9].

3408

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

9.2. The 2-category U˙
Let k be a field. For the remainder of this paper we work with k linear combinations of
2-morphisms in the 2-categories U and U ∗ , rather than Z-linear combinations. That is, for 1morphisms x, y we have
U ∗ (x, y) := U ∗ (x, y) ⊗ k,

U(x, y) := U(x, y) ⊗ k

(9.2)

so that U ∗ is a graded additive k-linear 2-category and U is an additive k-linear 2-category. In
particular, U ∗ (x, y) is a graded k-vector space and U(x, y) is a k-vector space.
˙ m) =
Definition 9.1. Define the 2-category U˙ to have the same objects as U and U(n,
˙
Kar(U(n, m)). The fully-faithful functors U(n, m) → U(n, m) combine to form a 2-functor
U → U˙ universal with respect to splitting idempotents in the hom categories U˙ (n, m). The
˙
composition functor U˙ (n, m) × U˙ (m, p) → U(n,
p) is induced by the universal property of the
Karoubi envelope from the composition functor for U .
The assignment of a graded abelian group to the homs between 1-morphisms in U induced
by the inclusion U → U ∗ provides the 2-category U˙ with an enriched hom as well. For each
˙
y).
pair of morphisms x, y ∈ m U˙n there is a graded k-vector space U˙ ∗ (x, y) := s∈Z U(x{s},
∗
˙
Proposition 9.17 shows that the graded k-vector space U (x, y) is a free graded module over
the graded rings U˙ ∗ (1n , 1n ) and U˙ ∗ (1m , 1m ). The graded rank of the graded U˙ ∗ (1n , 1n )-module
U˙ ∗ (x, y) is defined to be
rkq U˙ ∗ (x, y) :=

q s rk U˙ x{s}, y =
s∈Z

q −r rk U˙ x, y{r}

(9.3)

r∈Z

where rk U˙ (x{s}, y) is the rank of the (ungraded) U˙ ∗ (1n , 1n )-module U˙ (x{s}, y). This definition
is consistent because the degree zero maps x → y{s} are in one-to-one correspondence with
degree zero maps x{−s} → y.
Proposition 9.2. The 2-functors
ω : U → U,

σ : U → U op ,

ψ : U → U co ,

τ : U → U co op ,

τ −1 : U → U co op

(9.4)

extend to define 2-functors on U˙ .
Proof. This follows immediately from the fact that 2-functors preserve composition of 1morphisms, hence map idempotents to idempotents. ✷
Whenever the endomorphism ring U˙ (x, x) is a finite-dimensional k-algebra, the Krull–
Schmidt decomposition theorem implies that x can be written as a direct sum of indecomposables
where the indecomposables and their multiplicities are unique up to isomorphism and reordering
of the factors. Theorems 8.3 and 8.5 show that U ∗ (E a 1n , E a 1n ) and U ∗ (F a 1n , F a 1n ) are finite˙ a 1n , E a 1n ) and U(F
˙ a 1n , F a 1n )
dimensional k-algebras in each grade. This implies that both U(E
−1
are finite-dimensional k-algebras. These results, together with dualities τ and τ and the results

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3409

˙
of Section 5.7, imply the U(x,
y) is a finite-dimensional k-algebra for any pair of 1-morphisms
x, y of U˙ .
˙
Using the fully faithful embedding of U(n, m) into U(n,
m) we identify x ∈ U(n, m) with
˙
(x, 1) ∈ U(n,
m) where 1 is the trivial idempotent. For any morphism x in U˙ and quantum integer
[a], write [a] x or (x) [a] for the direct sum of morphisms:
x = (x)

[a]

:= x{a − 1} ⊕ x{a − 3} ⊕ · · · ⊕ x{1 − a}.

(9.5)

[a]

Furthermore, we extend this notation to quantum factorials [a]! so that
x = (x)

[a]!

a

a
x{a − 1 − 2j } (j )

:=

(9.6)

j =0

[a]!

where aj is the standard binomial coefficient denoting the multiplicity of the 1-morphism
x{a − 1 − 2j } in the direct sum. More generally, write x ⊕f , for a Laurent polynomial f =
fa q a ∈ Z[q, q −1 ], for the direct sum over a ∈ Z, of fa copies of x{a}.
Let ew0 be the idempotent in U(E a 1n , E a 1n ) corresponding to the element x δ ∂w0 ∈ N Ha
under the isomorphism of Theorem 8.3. This element is idempotent because x δ ∂w0 (x δ )∂w0 =
x δ S1 ∂w0 = x δ ∂w0 . We also denote the image of this element in U ∗ (F a 1n , F a 1n ) under the isomorphism Theorem 8.5 as ew0 .
Definition 9.3. The categorifications of the divided powers are given by:
E (a) 1n := E a 1n , ew0

a(1 − a)
,
2

(9.7)

F (a) 1n := F a 1n , ew0

a(1 − a)
2

(9.8)

for n ∈ Z and ew0 , ew0 the idempotents defined above.
Recall that in the basis of Schubert polynomials the polynomial algebra Pa is a free graded
module over the symmetric polynomials Λa :
Pa ∼
= ⊕(a)! Λa .
q2

Since ∂w0 Sw = δw,w0 , the idempotent ew0 acting on Pa projects onto a one-dimensional summand Λa corresponding to the basis element Sw0 . Thus, ew0 is a minimal (or primitive)
idempotent.
Proposition 9.4. There are decompositions of 1-morphisms
E a 1n ∼
=

E (a) 1n ,
[a]!

(9.9)

3410

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

F a 1n ∼
=

F (a) 1n

(9.10)

[a]!

in U˙ for all n ∈ Z and a ∈ Z+ .
˙ a 1n {s}, E a 1n ) consists of all 2Proof. The graded abelian group U˙ ∗ (E a 1n , E a 1n ) = s∈Z U(E
∗
a
morphisms in U from E 1n to itself that commute (in the sense of (9.1)) with the identity
morphism viewed as an idempotent. But this is just the graded abelian group U ∗ (E a 1n , E a 1n ):
U˙ ∗ E a 1n , E a 1n = U ∗ E a 1n , E a 1n ∼
= N Ha ⊗ Z[v1 , v2 , . . .] ∼
= Mat (a)!q 2 ; Λa ⊗ Z[v1 , v2 , . . .]
where the last isomorphism is established in Proposition 3.5.
All homogenous idempotents in U˙ ∗ (E a 1n , E a 1n ) are of the form e ⊗1, for e ∈ Mat((a)!q 2 ; Λa ).

The matrix algebra Mat((a)!q 2 ; Λa ) has a! minimal idempotents, E1,1 , E2,2 , . . . , Ea!,a! , corresponding to elementary diagonal matrices. The minimal idempotent ew0 ∈ HomΛa (Pa , Pa ) ∼
=
Mat((a)!q 2 ; Λa ) projects onto a column vector corresponding to the largest degree basis element

Sw0 of Pa , showing that ew0 = Ea!,a! in the basis of Mat((a)!q 2 ; Λa ) given by Schubert polynomials ordered by length (see Proposition 3.5).
Hence,
a(a − 1)
˙
im Ea!,a! ∼
∈ U.
= im ew0 := E a 1n , ew0 = E (a) 1n
2

(9.11)

The images of all other idempotents Ej,j are isomorphic up to a grading shift to the image of the
top degree idempotent Ea!,a! , so that
E a 1n ∼
=

a!

im Ej,j ∼
=

j =0

im Ea!,a! =
(a)! −2

im E (a) 1n
(a)! −2

q

a(a − 1)
2

(9.12)

q

in U˙ . But q a(a−1)/2 (a)!q −2 = [a]! establishing (9.9). A similar proof establishes the result for
F a 1n . ✷
Proposition 9.5. There are decompositions of 1-morphisms
E (a) E (b) 1n ∼
=

E (a+b) 1n ,

(9.13)

F (a+b) 1n

(9.14)

a+b
a

F (a) F (b) 1n ∼
=
a+b
a

in U˙ for all n ∈ Z and a, b ∈ Z+ .

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3411

Proof. By the Krull–Schmidt theorem, the 1-morphism E a+b 1n of U˙ has a unique decomposition into indecomposables. Equation (9.13) follows from Proposition 9.4 by decomposing the
composite E a E b 1n = E a+b 1n in two different ways. Equation (9.14) is established similarly. ✷
Proposition 9.6. There are decompositions of 1-morphisms
F

E

(b) (a)

1n ∼
=

min(a,b)

E (a−j ) F (b−j ) 1n

b−a−n
j

if n < −2a + 2,

(9.15)

if n > 2b − 2

(9.16)

j =0

E (a) F (b) 1n ∼
=

min(a,b)

F (b−j ) E (a−j ) 1n

a−b+n
j

j =0

in U˙ for n ∈ Z and a, b ∈ Z+ .
Proof. Recall from Theorem 5.10 that there are decompositions of 1-morphisms:
EF 1n ∼
= F E1n ⊕[n] 1n
F E1n ∼
= EF 1n ⊕[−n] 1n

for n
for n

0,
0.

(9.17)
(9.18)

The proposition follows by iteratively applying the above formula to F b E a 1n and E a F b 1n and
using the unique decomposition property. ✷
Lemma 9.7. The graded k-vector spaces U˙ ∗ (E (a) 1n , E (a) 1n ) and U˙ ∗ (F (a) 1n , F (a) 1n ) are free
U˙ ∗ (1n , 1n )-modules whose graded ranks are given by
rkq U˙ ∗ E (a) 1n , E (a) 1n = rkq U˙ F (a) 1n , F (a) 1n = g(a)

(9.19)

for all n ∈ Z.
Proof. From Proposition 9.4, E a 1n = ⊕[a]! E (a) 1n so that
U˙ E a 1n , E a 1n = U˙

E (a) 1n , ⊕[a]! E (a) 1n .

(9.20)

[a]!

Hence,
rkq U˙ ∗ E a 1n , E a 1n = [a]![a]! rkq U˙ ∗ E (a) 1n , E (a) 1n .

(9.21)

Proposition 8.2 establishes an isomorphism U ∗ (1n , 1n ) ∼
= Z[v1,n , v2,n , . . .] and Theorem 8.3
gives an isomorphism U ∗ (E a 1n , E a 1n ) ∼
= N Ha ⊗ Z[v1,n , v2,n , . . .]. Since U˙ ∗ (E a 1n , E a 1n ) =
U ∗ (E a 1n , E a 1n ) and U˙ ∗ (1n , 1n ) = U ∗ (1n , 1n ), we have that U˙ ∗ (E a 1n , E a 1n ) is a free U˙ ∗ (1n , 1n )module of graded rank rkq U˙ ∗ (E a 1n , E a 1n ) equal to the graded rank of the nilHecke ring N Ha .
1
a
This was calculated in (3.8) and is equal to (q −a(a−1)/2 [a]!)( 1−q
2 ) . Hence,

3412

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

1
(q −a(a−1)/2 [a]!)
rkq U˙ ∗ E (a) 1n , E (a) 1n =
[a]![a]!
1 − q2

a

a

=
=1

1
= g(a).
1 − q2

(9.22)

The graded rank of the free U˙ ∗ (1n , 1n )-module U˙ ∗ (F (a) 1n , F (a) 1n ) is computed similarly. ✷
Proposition 9.8. The graded k-vector spaces U˙ ∗ (E (a) F (b) 1n , E (c) F (d) 1n ) for n b − a =
d − c and U˙ ∗ (F (b) E (a) 1n , F (d) E (c) 1n ) for n b − a = d − c are free U˙ ∗ (1n , 1n )-modules whose
graded ranks are given by
rkq U˙ ∗ E (a) F (b) 1n , E (c) F (d) 1n = E (a) F (b) 1n , E (c) F (d) 1n ,

(9.23)

rkq U˙ ∗ F (b) E (a) 1n , F (d) E (c) 1n = F (b) E (a) 1n , F (d) E (c) 1n

(9.24)

where , is the semilinear form defined in Section 2.3.
Proof. This proof is identical to the proof of Proposition 2.7 with , → U˙ ∗ (, ), E → E, F → F
and the antiautomorphisms τ and τ −1 replaced by the 2-functors defined in Proposition 9.2. The
assumption that n b − a = d − c implies that 2d + a − c d − c n so that n − 2d a − c.
We use this fact for the third equality in the following derivation of U˙ ∗ (E (a) F (b) 1n , E (c) F (d) 1n ):
= U˙ ∗ F (b) 1n , τ E (a) E (c) F (d) 1n
= U˙ ∗ F (b) 1n , F (a) E (c) F (d) 1n −a n + 2(c − d) + a
min(a,c)

=

a−c−(n−2d)
j

U˙ ∗ F (b) 1n , E (c−j ) F (a−j ) F (d) 1n −a n + 2(c − d) + a

j =0
min(a,c)

=

U˙ ∗ τ −1 E (c−j ) F (b) 1n , F (a−j ) F (d) 1n a(2b − a − n)

b+d−n
j

j =0

where τ −1 (E (c−j ) 1n−2d+2(a−j ) ) = F (c−j ) 1n−2b {(c − j )(c − j − (n − 2d + 2(a − j )))}. Simplifying the overall degree shift, we have that U˙ ∗ (E (a) F (b) 1n , E (c) F (d) 1n ) is given by
min(a,c)

U˙ ∗ F (c−j ) F (b) 1n , F (a−j ) F (d) 1n (a + c − j )(b + d − j − n)

b+d−n
j

j =0

which, after using Proposition 9.5 to combine the categorifications of the divided powers, shows
that U˙ ∗ (E (a) F (b) 1n , E (c) F (d) 1n ) is a shifted direct sum of graded abelian groups of the form
U ∗ (F (p) 1n , F (p) 1n ) for various values of p. But it was shown in Lemma 9.7 that these graded
abelian groups are free U˙ ∗ (1n , 1n )-modules. Hence, it follows that U˙ ∗ (E (a) F (b) 1n , E (c) F (d) 1n )
is also a free graded U˙ ∗ (1n , 1n )-module.
Now using that rkq U ∗ (F (p) 1n , F (p) 1n ) = g(p) together with the definition of the graded
rank, the proposition follows. ✷

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3413

˙
9.3. U˙ as a categorification of U
Proposition 9.9. The 1-morphisms
(i) E (a) F (b) 1n {s}
(ii) F (b) E (a) 1n {s}

for a,b ∈ N, n, s ∈ Z, n
for a,b ∈ N, n, s ∈ Z, n

b − a,
b − a,

are indecomposable. Furthermore, these indecomposables are not isomorphic unless n = b − a
in which case E (a) F (b) 1b−a {s} ∼
= F (b) E (a) 1b−a {s}.
Proof. To see that the morphisms E (a) F (b) 1n {s} and F (b) E (a) 1n {s} are indecomposable we show
that their endomorphism ring has no nontrivial idempotents. This happens when
rkq U˙ ∗ E (a) F (b) 1n {s}, E (a) F (b) 1n {s} ∈ 1 + qN[q],
rkq U˙ ∗ F (b) E (a) 1n {s}, F (b) E (a) 1n {s} ∈ 1 + qN[q].
By Proposition 9.8 these graded ranks are given by the semilinear form of Section 2.3. We can
neglect the shift {s} appearing in both terms since this will not contribute to the graded rank.
Using the version of this semilinear form given in Proposition 2.8 we have
rkq U˙ ∗ E (a) F (b) 1n , E (a) F (b) 1n =

min(a,b)

q 2j (b−a+j −n) g(a − j )g(b − j )g(j )g(j ),

=0

˙∗

rkq U F
min(a,b)

=

E

(b) (a)

1n , F (b) E (a) 1n

q 2j (a−b+j +n) q 2j (b−a+j −n) g(a − j )g(b − j )g(j )g(j ).

j =0

The elements g(s) are in 1 + qN[q] for all s ∈ Z, so that indecomposability is determined by the
power of q in (9.25). Hence, E (a) F (b) 1n is indecomposable when 2j (b − a + j − n) 0 for all
0 j min(a, b). This happens when j = 0 or n b − a + j b − a. The only contribution to
the q 0 term comes from j = n − (b − a) 0, that is, when j = 0. A similar calculation shows
F (b) E (a) 1n is indecomposable when n b − a. Thus, the elements lifting Lusztig’s canonical
basis are indecomposable.
Now suppose that E (a) F (b) 1n and E (a+δ) F (b+δ) 1n are both indecomposable so that n
b − a. To see that these are not isomorphic we show that the graded rank of the Homs between
them is strictly positive. From Proposition 2.8 we have rkq U˙ ∗ (E (a) F (b) 1n , E (a+δ) F (b+δ) 1n ) =
rkq U˙ ∗ (E (a+δ) F (b+δ) 1n , E (a) F (b) 1n ) is given by
min(a,b)

q 2j (j +b−a−n)+δ

2 +δ(b−a−n+2j )

g(a − j )g(b − j )g(δ + j )g(j ).

j =max(0,−δ)

When (b − a − n)

0 and j

0 the power of q in the exponent is greater than zero since

2j (j + b − a − n) + δ 2 + δ(b − a − n + 2j ) > 0

3414

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

always holds for δ > 0, and for δ < 0 becomes the assertion
δ 2 > δ(b − a − n),
which is always true for δ < 0. Similarly, it can be shown that none of the indecomposable
F (b) E (a) 1n are isomorphic to any F (b+δ) E (a+δ) 1n . By Lemma 2.6 there are no maps from
E (a) F (b) 1n F (d) E (c) 1n when these elements are both indecomposable, so all that remains to
be shown is the isomorphism E (a) F (b) 1b−a {s} ∼
= F (b) E (a) 1b−a {s} when n = b − a. We give this
isomorphism in Corollary 9.11. ✷
Recall from Theorem 5.10 that there are decompositions of 1-morphisms:
EF 1n ∼
= F E1n ⊕[n] 1n
F E1n ∼
= EF 1n ⊕[−n] 1n

for n

0,

for n

(9.25)

0.

(9.26)

Proposition 9.10.
(i) Every 1-morphism x in m U˙n decomposes as a direct sum of indecomposable 1-morphisms
of the form
1m E (a) F (b) 1n {s} for a,b ∈ N, n, s ∈ Z, n

b − a,

1m F

b − a,

E

(b) (a)

1n {s} for a,b ∈ N, n, s ∈ Z, n

(9.27)

where m = n − 2(b − a).
(ii) The direct sum decomposition of x ∈ m U˙n is essentially unique, meaning that the indecomposables and their multiplicities are unique up to reordering the factors.
(iii) The morphisms in (i) (9.27) above are the only indecomposables in U˙ up to isomorphism.
Proof. Once we have established (i), the Krull–Schmidt theorem then establishes (ii), and (iii)
(see Chapter I of Benson [5]).
To prove (i) it suffices to show that any element x = 1m E α1 F β1 E α2 · · · F βk−1 E αk F βk 1n {s} in U
decomposes as a sum of elements in (9.27). We use induction on i (αi + βi ) — the total number
of E ’s and F ’s appearing in x. The base case of i (αi + βi ) 1 is covered by Proposition 9.4.
Assume then that such a decomposition exists for all 1-morphisms with i (αi + βi ) γ . We
provide a decomposition for i (αi + βi ) = γ + 1.
If m = i (βi − αi ) n move all F ’s appearing in x to the left hand side using Theorem 5.10.
1m E α1 F β1 · · · E αk F βk 1n {s} ⊕ x ∼
= 1m F

i

βi

E

i

αi

1n {s} ⊕ x

(9.28)

where x and x are terms with i (αi − βi ) γ . By hypothesis, x and x decompose into
a direct sum of elements in (9.27). The 2-morphism 1m F i βi E i αi 1n {s} decomposes into the
direct sum of indecomposables
1m F

i

βi

E

i

αi

1n {s} =

1m F (
[

i

αi ]![

i

βi ]!

i

E

βi ) (

i

αi )

1n {s}

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3415

by Proposition 9.4. Since i (βi − αi ) n this is a direct sum of indecomposables by Proposition 9.9. Now since the direct sum of x with the direct sum of indecomposables is equal to a sum
of indecomposables by (9.28), the Krull–Schmidt theorem implies that x must be isomorphic to
a sum of indecomposables as well.
If m = i (βi − αi ) n move all F ’s appearing in x to the right hand side and a similar
argument shows that x decomposes into a direct sum of the indecomposables in Proposition 9.4.
✷
Corollary 9.11. The 1-morphisms E (a) F (b) 1b−a {s} and F (b) E (a) 1b−a {s} are isomorphic in U˙ .
Proof. The proof of Proposition 9.10 shows that any element
1a−b E α1 F β1 E α2 · · · F βk−1 E αk F βk 1b−a {s}
with

αi = a and

βi = b decomposes in two possible ways

1a−b E (a) F (b) 1b−a {s} ⊕ 1a−b x1b−a

and 1a−b F (b) E (a) 1b−a {s} ⊕ 1a−b x 1b−a

(9.29)

where 1a−b x1b−a and 1a−b x 1b−a are direct sums of the indecomposable morphisms given
in (9.27). These two decompositions into indecomposables must be isomorphic by the Krull–
Schmidt theorem. It was shown in Proposition 9.9 that none of the elements in (9.27) are
isomorphic except for the possibility of E (a) F (b) 1b−a {s} and F (b) E (a) 1b−a {s}. Hence, for the
two decompositions to be isomorphic we must have E (a) F (b) 1b−a {s} ∼
= F (b) E (a) 1b−a {s}. ✷
˙ and a
Corollary 9.12. There is a bijective correspondence between B˙ the canonical basis of U
choice of representatives for the isomorphism classes of indecomposable 1-morphisms of U˙ with
no shift given by
E (a) F (b) 1n → E (a) F (b) 1n
F

(b)

E

(a)

1n 1m → F

E

(b) (a)

1n

for a,b ∈ N, n ∈ Z, n < b − a,
for a,b ∈ N, n ∈ Z, n > b − a,

E (a) F (b) 1b−a = F (b) E (a) 1b−a → E (a) F (b) 1b−a ∼
= F (b) E (a) 1b−a .

(9.30)

˙ Likewise, m B˙n ⊂ B˙
The collection of morphisms in the image of this bijection is written as B.
denotes those representative 1-morphisms mapping n to m.
Proof. This is immediate from the proposition and the corollary above.

✷

Corollary 9.12 can be viewed as the statement that the 1-morphisms in B˙ are a categorification
˙
of Lusztig’s canonical basis for U.
For each pair of objects n, m of U˙ the hom category m U˙n is an additive category. We denote
the split Grothendieck group of this additive category by K0 (m U˙n ). This Z[q, q −1 ]-module is
generated by symbols [f ] for each x in m U˙n modulo the relations:
[f ] = [f1 ] + [f2 ] if f = f1 ⊕ f2 ,
f {s} = q s [f ].

3416

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

We have shown (Proposition 9.10) that the additive categories m U˙n have the Krull–Schmidt
property — all objects decompose into a unique sum of indecomposables. Hence, K0 (m U˙n ) is
generated as a Z[q, q −1 ]-module by the isomorphism classes of indecomposable 1-morphisms
b : n → m with b ∈ m B˙n .
Define the Grothendieck ring K0 (U˙ ) of the 2-category U˙ to be the direct sum
K0 (U˙ ) := ⊕n,m K0 (m U˙n ).
The multiplication in K0 (U˙ ) is induced by composition so that
[f ] = [f1 ][f2 ]

if f = f1 ◦ f2 .

We have the following theorem:
˙
˙ is isomorphic as a Z[q, q −1 ]-module to A U.
Theorem 9.13. The split Grothendieck ring K0 (U)
Multiplication by q corresponds to the grading shift {1}.
Proof. Since U˙ has the Krull–Schmidt property (Proposition 9.10) its Grothendieck ring is freely
generated as a Z[q, q −1 ]-module by the isomorphism classes of indecomposables with no shift.
We have shown that these isomorphism classes of indecomposables correspond bijectively to
elements in Lusztig’s canonical basis (Corollary 9.12). Furthermore, the multiplicative structure
˙ arises from composition in U˙ Hence, K0 (U˙ ) ⊗Z[q,q −1 ]
of the split Grothendieck ring K0 (U)
∼
˙
˙
Q(q) = U since the relations of U lift to 2-isomorphisms in U˙ see (Section 5.7). Since K0 (U˙ ) is
a free Z[q, q −1 ]-module the theorem follows. ✷
Remark 9.14. Associated to the 2-category U˙ is a non-unital ring U := ⊕x,y∈MorU˙ U˙ (x, y) obtained by taking direct sums of the abelian groups associated to the homs between any pair of
1-morphisms x and y. Rather than having a unit, this ring has an infinite collection of idempo˙
˙ w) → U(x,
˙
y) ⊗ U(z,
w) is
tents 1x for each morphism x in U˙ . The ring multiplication U(x,
zero when y = z and is given by composition when y = z. The ring U is Morita equivalent to the
ring U := ⊕b,b ∈B˙ U˙ ∗ (b, b ) obtained from the graded homs between indecomposable morphisms
b, b ∈ m B˙n with no shift.
The additive category m U˙n can be thought of as the category of finitely generated projective modules over the non-unital ring m Un := ⊕b,b ∈m B˙n U˙ ∗ (b, b ). For each b ∈ m B˙n there is an
indecomposable projective module Pb of m Un given by
U˙ ∗ b , b .

Pb =

(9.31)

b ∈m B˙ n

These are the only indecomposable projectives since the primitive orthogonal idempotents for U
˙ with eb ←→ 1b : b → b.
are in bijective correspondence with elements b ∈ B,
∼
The projective Grothendieck ring K0 (U ) = K0 (U) is then identical to the split Grothendieck
˙ and the collection of indering of the 2-category U˙ as defined above. In particular, K0 (U) ∼
=U
˙
composable projective modules for U are a categorification of Lusztig’s canonical basis B˙ of U.
The next theorem shows that FlagN is a categorification of the irreducible (N + 1)dimensional representation of Uq (sl2 ). This result is not new. It was established in the ungraded

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3417

case by Chuang and Rouquier [12], and in the graded case by Frenkel, Khovanov and Stroppel [17].
Theorem 9.15. The representation ΓN : U → FlagN yields a representation Γ˙N : U˙ → FlagN .
˙
This representation categorifies the irreducible (N + 1)-dimensional representation VN of U.
Proof. Idempotent bimodule maps split in the category of bimodules. Hence, idempotents split
in the hom categories of FlagN . Thus, by the universal property of the Karoubi envelope we have
U˙

U

Γ˙N

ΓN

FlagN
so that the representation ΓN extends to a representation of U˙ .
For each 0 k N recall the rings Hk := H ∗ (Gr(k, N )) forming the objects of Flag∗N . The
rings Hk are graded local rings so that every finitely-generated projective module is free, and Hk
has (up to isomorphism and grading shift) a unique graded indecomposable projective module.
Let Hk - pmod denote the category of finitely generated graded projective Hk -modules. The split
−1
Grothendieck group of the category N
j =0 Hj - pmod is then a free Z[q, q ]-module of rank
N + 1, freely generated by the indecomposable projective modules, where q i acts by shifting the
grading degree by i. Thus, we have
N

∼ A (VN ),
Hk - pmod =

K0
k=0

N

K0

Hk - pmod ⊗Z[q,q −1 ] Q(q) ∼
= VN , (9.32)

k=0

˙ an
as Z[q, q −1 ]-modules, respectively Q(q)-modules, where A (VN ) is a representation of A U,
˙
integral form of the representation VN of U.
The bimodules ΓN (1n ), ΓN (E1n ) and ΓN (F 1n ) induce, by tensor product, functors on the
graded module categories. More precisely, consider the restriction functors
Resk,k+1
: Hk,k+1 - pmod → Hk - pmod,
k
Resk,k+1
k+1 : Hk,k+1 - pmod → Hk+1 - pmod
given by the inclusions Hk → Hk,k+1 and Hk+1 → Hk,k+1 . For 0
define functors

k

N and n = 2k − N

1n := Hk ⊗Hk : Hk - pmod → Hk - pmod,
E1n := Resk,k+1
k+1 Hk+1,k ⊗Hk {1 − N + k} : Hk - pmod → Hk+1 - pmod,
Hk,k+1 ⊗Hk+1 {−k} : Hk+1 - pmod → Hk - pmod .
F1n+2 := Resk,k+1
k

(9.33)
(9.34)
(9.35)

These functors have both left and right adjoints and commute with the shift functor, so they
induce Z[q, q −1 ]-module maps on Grothendieck groups. Furthermore, the 2-functor Γ˙N must

3418

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

preserve the relations of U˙ , so by Theorem 5.10 these functors satisfy relations lifting those
˙ ✷
of U.
Theorem 9.16. The 2-functors
ω : U˙ → U˙ ,

σ : U˙ → U˙ op ,

ψ : U˙ → U˙ co ,

τ : U˙ → U˙ co op ,

τ −1 : U˙ → U˙ co op (9.36)

˙ defined in Eqs. (2.13)–(2.16).
are graded lifts of the corresponding algebra maps ω, σ , ψ, τ on U
Proof. Comparing the definitions of the 2-functors given in Section 5.6 with the definitions
of the corresponding algebra homomorphisms (2.13)–(2.16) the proof is immediate since
[1m E (a) F (b) 1n {s}] = q s 1m E (a) F (b) 1n and [1m F (b) E (a) 1n {s}] = q s 1m F (b) E (a) 1n . ✷
Proposition 9.17. The graded abelian group U˙ ∗ (x, y) is a free graded Z[v1 , v2 , · · ·]-module.
Proof. The 1-morphisms x and y decompose into a sum of indecomposables b{s} for b ∈ B˙
and some shift {s}. Hence, every 2-morphism f : x → y decomposes into a sum of 2-morphisms
˙ But we have already shown that U˙ ∗ (b, b ) for b, b ∈ B˙ are free
between shifts of elements in B.
graded Z[v1 , v2 , · · ·]-modules. Thus, U˙ ∗ (x, y) is a free graded Z[v1 , v2 , · · ·] module as well. ✷
Theorem 9.18. The graded abelian group U˙ ∗ (x, y) categorifies the semilinear form , of Propo˙
y) = [x], [y] .
sition 2.4. That is rkq U(x,
˙ ) has the defining properties of the semilinear form given in PropoProof. We show that rkq U(,
∗
˙
sition 2.4. Since rkq U (x{s}, y) = q −s rkq U˙ ∗ (x, y) and rkq U˙ ∗ (x, y{s }) = q s rkq U˙ ∗ (x, y) the
natural structure of the graded Hom functor induces the semilinearity on Grothendieck rings.
The Hom property (ii) follows from the definition of the vertical composition in U˙ . A given pair
of 2-morphisms are composable if and only if their sources and targets are compatible. The adjoint property (iii) follows from Lemma 5.9. Property (iv) of the semilinear form follows from
Lemma 9.7. Property (v) follows from the isomorphism U˙ (x{s}, y{s }) ∼
= U˙ (y{−s }, x{−s}) induced from the invertible 2-functor ψ. ✷
Because the 2-functors ω and σ on U˙ are isomorphisms they must induce isomorphisms of
the abelian groups
U˙ ω(x), ω(y) = U˙ (x, y),

(9.37)

U˙ σ (x), σ (y) = U˙ (x, y)

(9.38)

for every pair of 1-morphisms x, y ∈ U˙ . Taking the graded ranks of the enriched homs we obtain
equalities
ω [x] , ω [y] = [x], [y] ,

(9.39)

σ [x] , σ [y] = [x], [y]]

(9.40)

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3419

˙ But this is precisely Proposition 2.5. Thus, we have categorified these equafor all [x], [y] ∈ U.
tions as well.
10. Proof of Proposition 2.8
For a, j > 0 the identities
a+1
= q −j
j
a+1
= qj
j

a
a
+ q a−j +1
,
j
j −1

(10.1)

a
a
+ q −a+j −1
j
j −1

(10.2)
a
1
j =1 (1−q 2j ) . For induction

can found in most treatments of quantum groups. Recall that g(a) =
proofs the identities:
m
j +1

1
= q m+1 q 2(j −m) − 1
g(j + 1)

m
j

m
j +1

1
= q m+1+j q −2a − 1
g(j + 1)

m−1
j

1
,
g(j )
1
g(j )

(10.3)
(10.4)

are also useful.
Lemma 10.1. The equation
q a(3b+2(c−a)−2n)
0

j

a
j

b+c−j
b
=
s 0

2b + c − a − n −j (b+c−n) 1
q
j
g(j )
a
s

−a + b + c −s(2a−3b−c+2n)
q
b−s

(10.5)

holds for all a, b, c ∈ Z+ and n ∈ Z.
Proof. We prove this by induction on a. The base case when a = 0 is trivial; both sides become
b+c
. Now suppose that (10.5) holds for all b, c ∈ Z+ , n ∈ Z for all values up to a. We show
b
that (10.5) holds for a + 1 as well:
q (a+1)(3b+2(c−a−1)−2n)
j

=
s 0

a+1
s

0

a+1
j

b+c−j
b

2b + c − a − 1 − n −j (b+c−n) 1
q
j
g(j )

−a − 1 + b + c −s(2(a+1)−3b−c+2n)
q
.
b−s

Using (10.2) the left hand side can be rewritten as

(10.6)

3420

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

q −2−2a+3b+2c−2n q a(3b+2(c−a)−2(n+1))
0

j

2b + c − a − (n + 1)
j

×

+ q −3−5a−2a

q −j (b+c−(n+1))
g(j )
a
j −1

2 +3b+3ab+2c+2ac−2n−2an

j

b+c−j
b

×

b+c−j
b

a
j

2b + c − a − n − 1
j

1

q −j (b+c−(n+1))
.
g(j )

Use the induction hypothesis on the first term with (a, b, c, n + 1) and shift the second term by
j = j − 1 to get
q −2−2a+3b+2c−2n
s 0

+q

−a + b + c −s(2a−3b−c+2(n+1))
q
b−s

a
s

−2−5a−2a 2 +2b+3ab+c+2ac−n−2an

j

b+c−j −1
b

a
j

×
0

2b + c − a − n − 1
j +1

q −j (b+c−(n+1))
.
g(j + 1)

Restricting our attention to the second term, (10.3) allows this term to be written as
−q −2−4a+4b+2c−2n q a(3b+2((c−1)−a)−2n)

j

0

a
j

+ q −4a−2a

2 +3ab+2ac−2an

j

×

2b + (c − 1) − a − n
j

b + (c − 1) − j
b

q −j (b+c−n−3)
g(j )

0

a
j

b+c−j −1
b

q −j (b+(c−1)−n)
g(j )
2b + c − a − n − 1
j

.

On the first term use the induction hypothesis with (a, b, c − 1, n) and on the second term use
(10.1) on the third quantum binomial to give
−q −2−4a+4b+2c−2n
s 0

−a + b + c − 1 −s(2a−3b−(c−1)+2n)
q
b−s

a
s

× q a(3b+2(c−1−a)−2(n+1))
j

×

q −j (b+(c−1)−(n+1))
g(j )

0

a
j

b + (c − 1) − j
b

2b + (c − 1) − a − (n + 1)
j

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

+ q a(3b+2(c−1−a)−2(n+1))+2b+c−a−n−1
j

×

1

a
j

b+c−j −1
b

3421

2b + c − a − n − 2
j −1

q −j (b+c−n−2 )
.
g(j )

For the moment we restrict our attention to the second and third terms. Apply the induction
hypothesis to the second term with (a, b, c − 1, n + 1); shift the third term by letting j = j − 1
and apply (10.4) to the first quantum binomial to get
−a + b + c − 1 −s(2a−3b−(c−1)+2(n+1))
q
+ q −2−2a+4b+2c−2n q −2a − 1
b−s

a
s

s 0

× q (a−1)(3b+2((c−a−1))−2(n+1))
j

×

0

a−1
j

b+c−2−j
b

2b + (c − a − 1) − (n + 1)
j −1

q −j (b+(c−2)−(n+1) )
.
g(j )

Using the induction hypothesis on the last term for the values (a − 1, b, c − 2, n + 1), together
with the identity
q s−2a − q −s
a−1
=
s
q −2a − 1

a
,
s

the last term can be written as
q −2−2a+4b+2c−2n
s 0

−a + b + c − 1 −s(2a−3b−c+2n+2) s−2a
q
q
− q −s .
b−s

a
s

Putting everything together, the left hand side of (10.5) becomes
q −2−2a+3b+2c−2n
s 0

a
s

− q −2−4a+4b+2c−2n
s 0

+
s 0

a
s

−a + b + c −s(2a−3b−c+2n+2)
q
b−s
a
s

−a + b + c − 1 −s(2a−3b−c+2n+1)
q
b−s

−a + b + c − 1 −s(2a−3b−c+2n+3)
q
b−s

+ q −2−2a+4b+2c−2n
s 0

a
s

−a + b + c − 1 −s(2a−3b−c+2n+2) s−2a
q
q
− q −s .
b−s

The second term cancels with part of the fourth term leaving

3422

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

s 0

+
s 0

−a + b + c −s(2a−3b−c+2n+2)
q
b−s

a
s

q −2−2a+3b+2c−2n

−a + b + c − 1 −s(2a−3b−c+2n+3)
q
b−s

a
s

− q −2−2a+4b+2c−2n
s 0

−a + b + c − 1 −s(2a−3b−c+2n+3)
q
.
b−s

a
s

The first and third terms combine using (10.2) to give
q −a−2+3b+c−2n
s 0

a
s

−a + b + c − 1 −s(2a−3b−c+2n+3)
q
b−s −1

which, after shifting by setting s = s − 1, combines with the second term to give the right hand
side of (10.5) proving the lemma. ✷
Proof of Proposition 2.8. Setting d = c − a + b, Proposition 2.8 becomes the equation
q −(a+c)(a−2b−c+n)

min(a,c)
j =0

×

2b + c − a − n
j

b+c−j
b

b+c−j
q −j (2b+2c−j −n) g(b + c − j )
a−j
min(a,b)

=q

q 2j (−2a+b+c+j −n) g(a − j )g(b − j )g(j )g(c − a + j ).

(a−c)(2a−b−c+n)
j =max(0,a−c)

After making use of:
g(p)g(r) =

p + r pr
q g(p + r)
p

(10.7)

the equation is rewritten in the form
g(a)g(−a + b + c)q a(b−c−n)+c(2b+c−n)
j

×

0

b+c−j
b

a
j

2b + c − a − n −j (b+c−n) 1
q
j
g(j )

= g(a)g(−a + b + c)q (a−c)(2a−2b−c+n)
j
n

0

a
j

−a + b + c −j (2a−3b−c+2n)
q
b−j

where we have made use of the fact that k = 0 when k is larger than n. Simplifying where
possible, the equation becomes (10.5) of Lemma 10.1. ✷

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

3423

Acknowledgments
I am very grateful to Mikhail Khovanov for suggesting this project and for patiently explaining
many of the key ideas needed to complete it. I am also grateful to Ian Grojnowski for useful
discussions. Thanks also to Joel Kamnitzer and Marco Mackaay for helpful comments on an
early version of this paper. I would also like to thank the Fields Institute for supporting me as
a Jerrold E. Marsden post doctorial fellow for the Spring of 2007 when some of this work was
completed.
References
[1] P. Balmer, M. Schlichting, Idempotent completion of triangulated categories, J. Algebra 236 (2) (2001) 819–834.
[2] D. Bar-Natan, S. Morrison, The Karoubi envelope and Lee’s degeneration of Khovanov homology, Algebr. Geom.
Topol. 6 (2006) 1459–1469 (electronic), math.GT/0606542.
[3] B. Bartlett, The geometry of unitary 2-representations of finite groups and their 2-characters, arXiv:0807.1329
[math.QA], 2008.
[4] A.A. Be˘ılinson, G. Lusztig, R. MacPherson, A geometric setting for the quantum deformation of GLn , Duke Math.
J. 61 (2) (1990) 655–677.
[5] D.J. Benson, Representations and Cohomology. I: Basic Representation Theory of Finite Groups and Associative
Algebras, second edition, Cambridge Stud. Adv. Math., vol. 30, Cambridge University Press, Cambridge, 1998.
[6] I.N. Bernšte˘ın, I.M. Gel’fand, S.I. Gel’fand, Schubert cells and the cohomology of a flag space, Funktsional. Anal.
i Prilozhen. 7 (1) (1973) 64–65.
[7] J. Bernstein, I. Frenkel, M. Khovanov, A categorification of the Temperley–Lieb algebra and Schur quotients of
u(sl2 ) via projective and Zuckerman functors, Selecta Math. (N.S.) 5 (2) (1999) 199–241, math.QA/0002087.
[8] F. Borceux, Handbook of Categorical Algebra. 1, Encyclopedia Math. Appl., vol. 50, Cambridge University Press,
Cambridge, 1994.
[9] F. Borceux, Handbook of Categorical Algebra. 2, Encyclopedia Math. Appl., vol. 51, Cambridge University Press,
Cambridge, 1994.
[10] A. Borel, Sur la cohomologie des espaces fibrés principaux et des espaces homogènes de groupes de Lie compacts,
Ann. of Math. (2) 57 (1953) 115–207.
[11] R.P. Carpentier, From planar graphs to embedded graphs—a new approach to Kauffman and Vogel’s polynomial, J.
Knot Theory Ramifications 9 (8) (2000) 975–986, math.GT/0005128.
[12] J. Chuang, R. Rouquier, Derived equivalences for symmetric groups and sl_2-categorification, Ann. of Math. 167
(2008) 245–298, math.RT/0407205.
[13] J.R.B. Cockett, J. Koslowski, R.A.G. Seely, Introduction to linear bicategories, in: The Lambek Festschrift: Mathematical Structures in Computer Science, Montreal, QC, 1997, Math. Structures Comput. Sci. 10 (2) (2000) 165–203.
[14] L. Crane, I. Frenkel, Four-dimensional topological quantum field theory, Hopf categories, and the canonical bases,
in: Topology and Physics, J. Math. Phys. 35 (10) (1994) 5136–5154, hep-th/9405183.
[15] M. Demazure, Invariants symétriques entiers des groupes de Weyl et torsion, Invent. Math. 21 (1973) 287–301.
[16] I. Frenkel, Unpublished notes, circulation year, 1993.
[17] I. Frenkel, M. Khovanov, C. Stroppel, A categorification of finite-dimensional irreducible representations of quantum sl(2) and their tensor products, Selecta Math. (N.S.) 12 (3–4) (2006) 379–431, math.QA/0511467.
[18] P.J. Freyd, D.N. Yetter, Braided compact closed categories with applications to low-dimensional topology, Adv.
Math. 77 (2) (1989) 156–182.
[19] W. Fulton, Young Tableaux: With Applications to Representation Theory and Geometry, London Math. Soc. Stud.
Texts, vol. 35, Cambridge University Press, Cambridge, 1997.
[20] N. Ganter, M. Kapranov, Representation and character theory in 2-categories, Adv. Math. 217 (5) (2008) 2268–
2300, math.KT/0602510.
[21] I. Grojnowski, G. Lusztig, On bases of irreducible representations of quantum GLn , in: Kazhdan–Lusztig Theory
and Related Topics, Chicago, IL, 1989, in: Contemp. Math., vol. 139, Amer. Math. Soc., Providence, RI, 1992,
pp. 167–174.
[22] A. Heller, Homological algebra in abelian categories, Ann. of Math. (2) 68 (1958) 484–525.
[23] H. Hiller, Geometry of Coxeter Groups, Res. Notes Math., vol. 54, Pitman (Advanced Publishing Program), Boston,
MA, 1982.

3424

A.D. Lauda / Advances in Mathematics 225 (2010) 3327–3424

[24] A. Joyal, R. Street, The geometry of tensor calculus. I, Adv. Math. 88 (1) (1991) 55–112.
[25] G.M. Kelly, Basic Concepts of Enriched Category Theory, London Math. Soc. Lecture Note Ser., vol. 64, Cambridge University Press, Cambridge, 1982.
[26] G.M. Kelly, R. Street, Review of the elements of 2-categories, in: Category Seminar, Proc. Sem., Sydney,
1972/1973, in: Lecture Notes in Math., vol. 420, Springer, Berlin, 1974, pp. 75–103.
[27] M. Khovanov, NilCoxeter algebras categorify the Weyl algebra, Comm. Algebra 29 (11) (2001) 5033–5052,
math.RT/9906166.
[28] M. Khovanov, A functor-valued invariant of tangles, Algebr. Geom. Topol. 2 (2002) 665–741 (electronic),
math.QA/0103190.
[29] M. Khovanov, V. Mazorchuk, C. Stroppel, A brief review of abelian categorifications, math.RT/0702746, 2007.
[30] B. Kostant, S. Kumar, The nilHecke ring and cohomology of G/P for a Kac–Moody group G, Adv. Math. 62 (3)
(1986) 187–237.
[31] A. Lascoux, M.P. Schützenberger, Polynômes de Schubert, C. R. Acad. Sci. Paris Sér. I Math. 294 (13) (1982)
447–450.
[32] A.D. Lauda, Frobenius algebras and planar open string topological field theories, math.QA/0508349, 2005.
[33] A.D. Lauda, Frobenius algebras and ambidextrous adjunctions, Theory Appl. Categ. 16 (2006) 84–122,
math.CT/0502550.
[34] G. Lusztig, Introduction to Quantum Groups, Progr. Math., vol. 110, Birkhäuser Boston Inc., Boston, MA, 1993.
[35] M. Mackaay, Spherical 2-categories and 4-manifold invariants, Adv. Math. 143 (2) (1999) 288–348.
[36] L. Manivel, Symmetric Functions, Schubert Polynomials and Degeneracy Loci, SMF/AMS Texts Monogr., vol. 6,
American Mathematical Society, Providence, RI, 2001, translated from the 1998 French original by John R. Swallow, Cours Spécialisés [Specialized Courses], 3.
[37] M. Müger, From subfactors to categories and topology. I. Frobenius algebras in and Morita equivalence of tensor
categories, J. Pure Appl. Algebra 180 (1–2) (2003) 81–157, math.CT/0111204.
[38] A. Postnikov, Enumeration in algebra and geometry, Ph.D. thesis, MIT, 1997 available at http://citeseer.ist.psu.edu/
postnikov97enumeration.html, 1997.
[39] R. Rouquier, Derived equivalences and finite dimensional algebras, in: International Congress of Mathematicians,
vol. II, Eur. Math. Soc., Zürich, 2006, pp. 191–221, math.RT/0603356.
[40] R. Street, Low-dimensional topology and higher-order categories, in: Proceedings of CT95, Halifax, July 9–15,
1995.
[41] R. Street, Categorical structures, in: Handbook of Algebra, vol. 1, North-Holland, Amsterdam, 1996, pp. 529–577.
[42] C. Stroppel, Categorification of the Temperley–Lieb category, tangles, and cobordisms via projective functors, Duke
Math. J. 126 (3) (2005) 547–596.
[43] Wikipedia, Karoubi envelope — wikipedia, the free encyclopedia [accessed 09-july-2007].
[44] H. Zheng, A geometric categorification of tensor products of uq (sl2 )-modules, arXiv:0705.2630 [math.RT], 2007.

