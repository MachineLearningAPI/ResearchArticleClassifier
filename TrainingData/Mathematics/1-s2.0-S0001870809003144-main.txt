Advances in Mathematics 223 (2010) 1521–1544
www.elsevier.com/locate/aim

On the noncommutative Donaldson–Thomas invariants
arising from brane tilings
Sergey Mozgovoy, Markus Reineke ∗
Bergische Universität Wuppertal, Wuppertal, Germany
Received 1 April 2009; accepted 2 October 2009
Available online 11 November 2009
Communicated by Hiraku Nakajima

Abstract
Given a brane tiling, that is a bipartite graph on a torus, we can associate with it a quiver potential and a
quiver potential algebra. Under certain consistency conditions on a brane tiling, we prove a formula for the
Donaldson–Thomas type invariants of the moduli space of framed cyclic modules over the corresponding
quiver potential algebra. We relate this formula with the counting of perfect matchings of the periodic plane
tiling corresponding to the brane tiling. We prove that the same consistency conditions imply that the quiver
potential algebra is a 3-Calabi–Yau algebra. We also formulate a rationality conjecture for the generating
functions of the Donaldson–Thomas type invariants.
© 2009 Elsevier Inc. All rights reserved.
Keywords: Hilbert scheme; Brane tiling; Quiver potential algebra; Donaldson–Thomas invariant

Contents
1.
2.
3.
4.
5.
6.
7.

Introduction . . . . . . . . . . . . . . .
Hilbert schemes . . . . . . . . . . . . .
Brane tilings and quiver potentials
Path groupoid of a quiver potential
Path poset and perfect matchings .
Calabi–Yau property . . . . . . . . . .
Donaldson–Thomas invariants . . .

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

.
.
.
.
.
.
.

1522
1523
1526
1528
1533
1536
1539

* Corresponding author.

E-mail addresses: mozgov@math.uni-wuppertal.de (S. Mozgovoy), reineke@math.uni-wuppertal.de (M. Reineke).
0001-8708/$ – see front matter © 2009 Elsevier Inc. All rights reserved.
doi:10.1016/j.aim.2009.10.001

1522

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

8. Rationality conjecture . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1541
References . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1543

1. Introduction
The main objective of this paper is to generalize the results of Szendr˝oi [18] on the noncommutative Donaldson–Thomas theory in the case of the conifold to the case of quiver potentials
arising from arbitrary brane tilings (see Section 3). That is, we compute the Donaldson–Thomas
type invariants [1] of the moduli spaces of framed cyclic modules over the quiver potential algebra.
The Donaldson–Thomas type invariants are the weighted Euler numbers and they can therefore be computed using the localization technique, whenever we can find an appropriate torus
action on the moduli space. In this paper we show that the quiver potential algebra arising from
the brane tiling has a canonical grading. This grading provides us with a torus action on the
moduli space, so that there is a finite number of fixed points, and we get a purely combinatorial
formula that counts ideals in some poset of paths in the quiver (see Proposition 4.14).
This nice state of affairs will not be for free. We need to impose certain conditions on the brane
tiling (see Conditions 4.12, 5.3), which we call the consistency conditions. These conditions
should be compared with the consistency conditions arising in physics [9]. It follows from the
results of [8,3,4] that our consistency conditions are satisfied under the physical consistency
conditions (see also Remark 4.13).
In the presence of the consistency conditions, we construct a bijection between the set of
ideals in the poset of paths mentioned above and the set of perfect matchings (having certain
prescribed behavior at infinity) of the periodic plane tiling induced by the brane tiling. This
bijection generalizes the folklore result on the correspondence between the 3-dimensional Young
diagrams and the so-called honeycomb dimers (see Section 5). Earlier Szendr˝oi [18] observed
such correspondence in the conifold case, where it also has a visual interpretation like for the
3-dimensional Young diagrams.
Furthermore, we prove that, under the consistency conditions, the quiver potential algebra
is always a 3-Calabi–Yau algebra (and actually a graded 3-Calabi–Yau algebra, when provided
with a canonical grading). This does not contradict the results of Bocklandt [2, Theorem 3.1],
who proved that a graded quiver potential algebra can be a graded 3-Calabi–Yau algebra only
under some rather restrictive conditions (for example, the algebra C[x, y, z] does not satisfy
those conditions) because the grading group in [2] can only be Z and all arrows have degree one
there. We learned that Nathan Broomhead [3] recently proved the 3-Calabi–Yau property under
the condition that there exists an R-charge on the brane tiling (see Remark 4.13).
Our formulas give a way to compute the noncommutative DT invariants with a computer. In
the cases of the orbifolds C3 /Zn , C3 /(Z2 × Z2 ) and in the case of the conifold there exist nice
compact formulas due to Benjamin Young [19]. Using the results of Young and computer evidence in other cases, we formulate a rationality conjecture on the noncommutative DT invariants
in Section 8. We learned from Nagao Kentaro about joint work with Hiraku Nakajima [17,16] on
the proof of Young’s formulas in the conifold case using wall-crossing formulas. Their technique
could possibly provide a formula for general brane tilings.
The paper is organized as follows: In Section 2 we construct the moduli spaces of framed
cyclic modules and describe the general localization technique to reduce the problem of compu-

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1523

tation of the Euler number of the moduli space to some combinatorial problem. In Section 3 we
consider the quiver potentials associated with brane tilings and study the canonical grading of the
quiver potential algebra. In Section 4 we study different equivalence relations on paths induced
by a potential. In Section 5 we prove a bijection between the set of finite ideals in the poset of
paths and the set of perfect matchings of the periodic plane tiling having some prescribed behavior at infinity. In Section 6 we prove that the quiver potential algebra associated to a brane
tiling satisfying the consistency conditions is a 3-Calabi–Yau algebra. In Section 7 we relate the
Donaldson–Thomas type invariants of moduli spaces of framed cyclic modules with their Euler
numbers. In Section 8 we formulate the rationality conjecture.
We would like to thank Raf Bocklandt and Alastair King for many helpful discussions and
useful comments. We would like to thank Tom Bridgeland for pointing out a mistake in Section 8
in the first version of the paper.
2. Hilbert schemes
Let Q = (Q0 , Q1 ) be a quiver. Here Q0 is the set of vertices of Q, Q1 is the set of arrows
of Q, and there are two maps s, t : Q1 → Q0 called the source and the target maps respectively.
A path in Q is a sequence of arrows a1 . . . an , such that s(ai ) = t (ai+1 ) for 1 i n − 1. We
consider also the trivial paths ei , i ∈ Q0 . We define the path algebra CQ to be generated as a
vector space by all paths in Q. Multiplication in CQ is given by
(a1 . . . am ) · (b1 . . . bn ) =

a 1 . . . am b 1 . . . bn ,
0,

s(am ) = t (b1 ),
otherwise.

It is clear that ei ∈ CQ, i ∈ Q0 are idempotents of CQ and that 1 = i∈Q0 ei is a unit of CQ. Let
I ⊂ CQ be an ideal of the path algebra, and let A = CQ/I be the factor algebra. The A-module
Pi := Aei is a projective A-module. Let M be some A-module. For any vertex i ∈ Q0 , we define
a vector space Mi = ei M. For any arrow a : i → j , there is a linear map Ma : Mi → Mj induced
by the action of a on M. There is an isomorphism of vector spaces M = i∈Q0 Mi . We define
dim M := (dim Mi )i∈Q0 ∈ NQ0 .
Definition 2.1. For any i ∈ Q0 , we define an i-cyclic A-module to be a pair (M, m) where M
is a finite-dimensional left A-module, m ∈ Mi , and Am = M. The i-cyclic A-modules form a
category, where morphisms f : (M, m) → (N, n) are A-module homomorphisms f : M → N
such that f (m) = n.
It is clear that the i-cyclic A-modules correspond to the finite-dimensional quotients of Pi .
We want to construct the moduli spaces of isomorphism classes of i-cyclic A-modules, which
we will call the Hilbert schemes.
Let Q be a new quiver with
Q0 = Q0 ∪ {∗},

Q1 = Q1 ∪ {a∗ : ∗ → i}.

Let I ⊂ CQ be the ideal generated by I . Then a module over A = CQ/I can be identified with a
triple (M, V , f ), where M is an A-module, V is a vector space, and f : V → Mi is a linear map.

1524

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

Definition 2.2. Given an element θ ∈ NQ0 , called a stability, we define a slope function
μ : NQ0 \{0} → Q,

α→

θ ·α
i∈Q0

αi

.

For any finite-dimensional nonzero A-module M, we define μ(M) := μ(dim M). The module
M is called θ -semistable (resp. θ -stable) if for any its proper nonzero submodule N ⊂ M we
have μ(N) μ(M) (resp. μ(N ) < μ(M)). The stability condition for A-modules is defined in
the same way.
Given a dimension vector α ∈ NQ0 , we define a new dimension vector α = (α, 1) ∈ NQ0 ×
N = NQ0 . Define a stability θ = (0, . . . , 0, 1) ∈ NQ0 × N = NQ0 .
Lemma 2.3. Let (M, V , f ) be an A-module of dimension α. Then the following conditions are
equivalent
(1) (M, V , f ) is θ -semistable.
(2) (M, V , f ) is θ -stable.
(3) f (V ) generates M as an A-module.
This lemma implies that the moduli space
Hilbαi (A) := Mθss (A, α)
of semistable A-modules [13] parametrizes the i-cyclic modules, or equivalently, the quotients
of Pi of dimension α.
The goal of this paper is to study the Donaldson–Thomas type invariant of Hilbαi (A). It is
defined as a certain weighted Euler number (see e.g. [1]). We will first develop certain techniques to compute the usual Euler number of this Hilbert scheme and then prove in Section 7
that its DT-invariant differs from the Euler number just by sign (in the case of quiver potentials
induced by brane tilings). This should be compared with the dimension zero MNOP conjecture
[1, Theorem 4.12], [14]. We define a partition function
Z i (A) =

χc Hilbαi (A) x α ∈ Q[[xj | j ∈ Q0 ]],
α∈NQ0

where χc means the Euler number of cohomology with compact support.
Let wt : Q1 → Λ be a map, called a weight function, to a free abelian finitely generated
group Λ. The path algebra CQ is then automatically a Λ-graded algebra. We assume that I ⊂
CQ is a Λ-homogeneous ideal. The quotient algebra A = CQ/I is again a Λ-graded algebra.
We define the action of the torus T = HomZ (Λ, C∗ ) on the Hilbert scheme Hilbαi (A) of
i-cyclic A-modules as follows. For any t ∈ T and any i-cyclic A-module (M, m), we define
(M , m ) = t (M, m) by Mi = Mi for i ∈ Q0 , m = m and
Ma = t a Ma ,
where ta := t (wt(a)). By localization, we have

for a ∈ Q1 ,

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1525

χc Hilbαi (A) = χc Hilbαi (A)T ,
where Hilbαi (A)T is the subvariety of T -fixed points.
Theorem 2.4. An i-cyclic A-module (M, m) in Hilbαi (A) is T -fixed if and only if M possesses a
Λ-grading as an A-module such that m has degree zero (such a grading is unique as m generates M).
Proof. Let (M, m) be some T -fixed point of Hilbαi0 (A), i0 ∈ Q0 . For any t ∈ T there exists
g = (gi )i∈Q0 ∈ GLα such that for any arrow a : i → j , we have (recall that ta = t (wt(a)))
ta Ma = gj Ma gi−1
and gi0 m = m. Consider the subgroup H ⊂ T × GLα of all pairs (t, g) that satisfy this condition.
Then p1 : H → T is surjective. But its kernel is trivial. It consists of pairs (1, g), where g is
an automorphism of M that fixes m. It follows that g acts trivially on M, as m generates M.
Consider the composition
ψ = p2 ◦ p1−1 : T → GLα
and split it to components ψi : T → GL(Mi ), i ∈ Q0 . Then for any arrow a : i → j , we have
ta Ma = ψj (ta )Ma ψi (ta )−1
and ψi0 (t)m = m for any t ∈ T . Using the action of T on Mi defined by ψi , we can decompose
Mi with respect to the character group X(T ) Λ of T
Mi =

Mi,λ .
λ∈Λ

Then the above condition implies that for any arrow a : i → j
Ma (Mi,λ ) ⊂ Mj,λ+wt(a)
and m ∈ Mi0 ,0 . This means that M is a Λ-graded A-module and m has degree zero. The converse
statement is easy. ✷
An i-cyclic A-module (M, m) as in the above theorem, will be called a Λ-graded i-cyclic
A-module. Given a path u in Q, let us define its weight wt(u) ∈ Λ to be the sum of the weights
of arrows from u. We assume that:
(1) Any two paths in Q having the same startpoint and the same weight are proportional in A.
(2) The weight of any nontrivial path is nonzero.
The first assumption implies that the Λ-graded module Pi has dimension at most one at every
degree. It follows that any Λ-graded quotient of Pi is determined by the set of weights from its
support. We define Δ = Δi to be the set of paths starting at i modulo an equivalence relation

1526

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

u ∼ v if wt(u) = wt(v). It follows from our assumptions that there is a poset structure on Δ,
given by the rule u v if there exists some path w with wu ∼ v. There is a bijection between Δ
and the set of weights λ ∈ Λ such that Pi,λ = 0.
Definition 2.5. Let Δ be a poset. A subset Ω ⊂ Δ is called an ideal of Δ if whenever x
Δ and y ∈ Ω, we have x ∈ Ω.

y in

Lemma 2.6. There is a bijection between the set of isomorphism classes of Λ-graded i-cyclic
A-modules and the set of finite ideals of Δi given by the rule
(M, m) → {u ∈ Δi | Mwt(u) = 0}.
In the next sections we will construct the weight functions for the quivers induced by brane
tilings and investigate when the above assumptions are satisfied.
3. Brane tilings and quiver potentials
−
+
−
Definition 3.1. A bipartite graph G = (G+
0 , G0 , G1 ) consists of two sets of vertices G0 , G0 ,
called the sets of white and black vertices respectively, a set of edges G1 and a map G1 →
−
G+
0 ×G0 . The corresponding CW-complex is also denoted by G. We denote the set of all vertices
−
of G by G0 = G+
0 ∪ G0 .

Definition 3.2. A brane tiling is a bipartite graph G together with an embedding of the corresponding CW-complex into the real two-dimensional torus T so that the complement T \G
consists of simply-connected components. We identify any two homotopy equivalent embeddings. The set of connected components of T \G is denoted by G2 and is called the set of faces
of G.
We will always assume that the connected components of T \G are convex polygons. We
define a quiver Q = (Q0 , Q1 ) dual to the brane tiling Gas follows. The set of vertices Q0 is G2 ,
the set of arrows Q1 is G1 . For any arrow a ∈ Q1 we define its endpoints to be the polygons
in G2 adjacent to a. The direction of a is chosen in such a way that the white vertex is on the
right of a. The CW-complex corresponding to Q is automatically embedded in T . The set of
connected components of the complement, called the set of faces of Q, will be denoted by Q2 .
−
It can be identified with G0 . There is a decomposition Q2 = Q+
2 ∪ Q2 corresponding to the
−
decomposition G0 = G+
0 ∪ G0 . It follows from our definition that the arrows of the face from
+
Q2 go clockwise and the arrows of the face from Q−
2 go anti-clockwise.
For any face F ∈ Q2 , we will denote by wF the necklace (equivalence class of cycles in Q
up to shift) obtained by going along the arrows of F . We define the potential of Q (see e.g. [7,2]
for the relevant definitions) by
W=

wF −
F ∈Q+
2

wF .
F ∈Q−
2

We want to apply the results of Section 2 to the algebra CQ/(∂W ), which we call a quiver
potential algebra.

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1527

Consider the complex
d

d

2
1
ZQ2 −→
ZQ1 −→
Z Q0 ,

where d2 (F ) = a∈F a for F ∈ Q2 and d1 (a) = s(a) − t (a) for a ∈ Q1 . Its homology groups
are isomorphic to H∗ (T , Z). We define the group Λ as
Λ = ZQ1 / d2 (F ) − d2 F

F, F ∈ Q2

and define the weight function wt : ZQ1 → Λ to be the projection. It is clear that the ideal (∂W ) ⊂
CQ is automatically Λ-homogeneous. For any path u in Q, we define its content |u| ∈ ZQ1 by
counting the multiplicities of arrows in u. We define the weight of the path u by wt(u) := wt(|u|).
Let ω := wt(d2 (F )) for some (any) F ∈ Q2 . The weight of an arrow a ∈ Q1 will also usually be
denoted by a.
Lemma 3.3. Assume that one of the following conditions is satisfied:
(1) There exists at least one perfect matching of G.
(2) All faces of Q contain the same number of arrows.
Then the group Λ is free.
Proof. Let us show first that coker d2 = ZQ1 / im d2 is free. Let λ ∈ ZQ1 be such that kλ ∈ im d2
for some k 1. We have to show that λ ∈ im d2 . We have d1 (kλ) = 0 and therefore d1 (λ) = 0.
Let π : T → T be the universal covering of the torus T and let Q be the corresponding periodic
quiver, which is the inverse image of Q in T . We will consider paths in Q and Q, consisting of
arrows and their inverses (we call them weak paths). The condition d1 (λ) = 0 implies that we
can construct a weak cycle (i.e. a weak path with equal source and target) u in Q with content λ
(every arrow is counted with a plus sign and its inverse with a minus sign). We can lift u to some
weak path u in Q. The condition kλ ∈ im d2 implies that u is actually a weak cycle. Its content λ
can be represented as a sum of ±d2 (F ) for faces F contained inside the cycle. This means that
λ ∈ im d2 .
We note that there is an exact sequence
Z → Λ → coker d2 → 0,
where Z → Λ is given by 1 → ω = wt(d2 (F )) for some F ∈ Q2 . To show that Λ is free we
need to show that the first map is injective. Assume that kω = 0 in Λ for some k 1. Then
kd2 (F0 ) = F ∈Q2 yF d2 (F ) for some F0 ∈ Q2 and integers yF , F ∈ Q2 , with F ∈Q2 yF = 0.
Let kd2 (F ) = a∈Q1 xa a ∈ ZQ1 . Then all xa , a ∈ Q1 , are nonnegative.
If there exists some perfect matching I of G then a∈I xa = F ∈Q2 yF . For a ∈ F0 ∩ I , we
have xa > 0 and therefore F ∈Q2 yF > 0, contradicting our assumption.
If all faces of Q contain the same number of arrows, say r, then r a∈Q1 xa = F ∈Q2 yF .
For any a ∈ F0 , we have xa > 0 and therefore F ∈Q2 yF > 0, contradicting our assumption. ✷
Definition 3.4. A bipartite graph (dimer model) is called nondegenerate if all of its edges belong
to some perfect matching.

1528

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

The following result ensures that the second assumption of Section 2 is satisfied.
Lemma 3.5. Assume that one of the following conditions is satisfied:
(1) The bipartite graph G is nondegenerate.
(2) All faces of Q contain the same number of arrows.
Then for any (xa )a∈Q1 ∈ NQ1 \{0}, we have
Proof. Assume that
nonzero. This means

a∈Q1 xa a

a∈Q1 xa a

= 0 in Λ.

∈ ZQ1 is zero in Λ, where all xa

xa a =

0 and some of them are

λF d2 (F ),
F ∈Q2

for some λF ∈ Z with λF = 0.
If G is nondegenerate, then for any b ∈ Q1 with xb > 0 we can find a perfect matching I of
G containing b. Then a∈I xa = F ∈Q2 λF and the left-hand side is strictly positive, as xb > 0
and b ∈ I . This contradicts the assumption F ∈Q2 λF = 0.
If all faces of Q contain the same number of arrows, say r, then r a∈Q1 xa = F ∈Q2 λF .
But the left-hand side of this equation is nonzero and this contradicts the assumption
F ∈Q2 λF = 0. ✷
It follows that the arrows of Q generate a strongly convex cone in ΛR = Λ ⊗Z R. From now
on we will always assume that the bipartite graph is nondegenerate.
Remark 3.6. The main result of Ishii and Ueda [11] relies on the existence of some map
R : Q1 → R>0 , such that for any face F ∈ Q2 , we have a∈F R(a) = 2. If the bipartite graph G
is nondegenerate, then the above lemma allows us to construct a linear map R : ΛR → R such
that R(a) > 0 for every arrow a and R(ω) = 2. This gives a map required in [11].
4. Path groupoid of a quiver potential
By a weak path in a quiver Q we will mean a path consisting of arrows of a quiver and their
inverses (for any arrow a we identify aa −1 and a −1 a with trivial paths). The usual paths will be
sometimes called strict paths. We define a cycle (resp. a weak cycle) to be a path (resp. a weak
path) with equal endpoints. We will show that the potential W from the previous section defines
an equivalence relation on the set of strict paths (it will also be called the strict equivalence
relation) and on the set of weak paths (it will also be called the weak equivalence relation). It is
possible that strict paths are weakly equivalent but not strictly equivalent. The goal of this section
is to prove Proposition 4.8 stating that two paths with the same startpoints are weakly equivalent
if and only if their weights are equal. In Lemma 4.11 we investigate when the weak equivalence
of paths implies the strict equivalence. This is needed in order to satisfy the first assumption of
Section 2.
Let PQ be the category of paths of a quiver Q (objects are vertices of Q and morphisms are
paths in Q) and let Pw Q be the groupoid of weak paths of Q.

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1529

For any arrow a ∈ Q1 we have ∂W/∂a = u − v for some paths u, v. We denote the pair (u, v)
also by ∂W/∂a and consider it as a relation on the set of paths. We denote by ∂W the set of all
relations obtained in this way.
Let PQ/(∂W ) (resp. Pw Q/(∂W )) be the factor category (resp. factor groupoid) with respect
to the equivalence relation (∂W ) generated by ∂W (this is the minimal equivalence relation
containing ∂W and such that (u, v) ∈ (∂W ) implies (xuy, xvy) ∈ (∂W ) for any morphisms x, y
of PQ (resp. Pw Q) with t (y) = s(u) = s(v), s(x) = t (u) = t (v)).
Remark 4.1 (Quotients of groupoids). We can formalize the operation of taking the quotient by
an equivalence relation in a groupoid with the help of quotients by normal subgroupoids. Let G
be a groupoid. We call the set of groups H = (Hi ⊂ G(i, i))i∈Ob G a normal subgroupoid of G
if for any h ∈ Hi and x ∈ G(i, j ), the element xhx −1 belongs to Hj . One can then construct
the quotient groupoid G/H in the usual way, namely x, y ∈ G(i, j ) are equivalent if and only if
x −1 y ∈ Hi . In the above example, for any arrow a ∈ Q1 , there is a pair of cycles (au, av) in W ,
and we take the minimal normal subgroupoid generated by the elements u−1 v = (au)−1 (av).
Lemma 4.2. Any two cycles along the faces of Q with the same endpoints are equal in PQ/(∂W )
and Pw Q/(∂W ).
Proof. Two cycles as above starting at i ∈ Q0 correspond to some faces incident to i. We may
assume that these two faces have a common arrow incident to i. This means that the corresponding cycles have either equal first arrows or equal last arrows. Let us assume that they have the
same first arrow a. Then they are of the form ua and va. The set of relations ∂W contains the
pair (u, v). Therefore (ua, va) ∈ (∂W ). ✷
Remark 4.3. The groupoid Pw Q/(∂W ) can be also constructed as a quotient of Pw Q modulo
the relation u ∼ v for any two cycles u, v of W with the same endpoints.
Let π : T → T be the universal covering of a torus and let Q be the inverse image of Q, called
a periodic quiver. For any point i ∈ Q0 and any path u in Q with s(u) = π(i) there is a unique
lifting u of u in Q with s(u ) = i. Analogously to the weak equivalence in Q, we introduce an
equivalence relation on the set of weak paths in Q. It is generated by the pairs (u, v), where u, v
are the cycles along the faces of Q having the same endpoints. An equivalence class of the cycles
along the faces with the endpoint i will be denoted by ωi . We will write just ω if we do not want
to specify the endpoint of the cycle.
Lemma 4.4. For any weak path u : i → j we have uωi ∼ ωj u.
Proof. We have to prove the claim just when u = a, where a : i → j is an arrow. Let wa be some
cycle along the face of Q. Then wa ∼ ωi and aw ∼ ωj . It follows that aωi ∼ awa ∼ ωj a. ✷
Lemma 4.5. Let u, v be two weak paths in Q. Then u ∼ v if and only if they are equivalent in Q
(that is, π(u) ∼ π(v)) and have the same startpoints.
Lemma 4.6. Any weak cycle in Q is equivalent to ωk for some k ∈ Z.
Proof. Assume that u is a weak cycle without self-intersections. Then it can be written as a
product of cycles (taken in right direction) along the faces contained in u. But this product is a

1530

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

power of ω. In the general case, we can find a subcycle without self-intersections, represent it
as a power of ω, and move it to the end of the cycle using the fact that ω commutes with paths.
Then we repeat our procedure. ✷
For any weak path u in Q we define its content |u| ∈ ZQ1 by counting every arrow with a plus
sign and its inverse with a minus sign. As for strict paths, we define wt(u) := wt(|u|). For any
weak path u in Q, we define its weight by wt(u) := wt(π(u)) ∈ ZQ1 . Recall that wt(ω) = ω.
Lemma 4.7. Assume that u is a weak path in Q such that wt(u) = 0. Then u is a weak cycle and
it is equivalent to the trivial path.
Proof. Any arrow in Q defines a vector in the plane, and two arrows a, b define the same vector
if π(a) = π(b). It follows that the vector between s(u) and t (u) is determined by π(u), or just
|π(u)|. We can write |π(u)| = F ∈Q2 λF d2 (F ) ∈ ZQ1 , where λF = 0. Any d2 (F ) determines
the zero vector in the plane. It follows that |π(u)| determines the zero vector in the plane and
therefore u is a cycle. According to Lemma 4.6, u ∼ ωk for some k ∈ Z. Then wt(u) = wt(ωk ) =
kω = 0 and by the proof of Lemma 3.3, we have k = 0. ✷
Proposition 4.8. Weak paths in Q (or in Q) having the same startpoints are equivalent if and
only if their weights are equal.
Proof. It follows immediately from the previous lemma.

✷

Remark 4.9. The above result is very similar to the first assumption of Section 2. The only difference is that paths in Q having the same weight and the same startpoint are weakly equivalent
but not necessarily strictly equivalent.
Remark 4.10. For any two nodes i, j ∈ Q0 and any two weak paths u, v between them we have
v ∼ uωk for some k ∈ Z. It follows that there exists a shortest strict path vij between i and j ,
i.e. a path such that any other strict path between i and j is weakly equivalent to vij ωk , k 0.
It follows that the set of weak equivalence classes of strict paths starting at some fixed point
i0 ∈ Q0 can be identified with Q × N, and the set of weak equivalence classes of weak paths
starting at i0 can be identified with Q × Z.
Lemma 4.11. The following conditions are equivalent:
(1) Given two paths u, v with the same endpoints and an arrow a with s(a) = t (u), if au is
strictly equivalent to av then u is strictly equivalent to v.
(2) Given two paths u, v with the same endpoints and an arrow a with t (a) = s(u), if ua is
strictly equivalent to va then u is strictly equivalent to v.
(3) The map PQ/(∂W ) → Pw Q/(∂W ) is injective.
(4) Two paths in Q with the same startpoints are strictly equivalent if and only if their weights
are equal.
Proof. (1) ⇒ (2). Assume that two paths u, v have the same endpoints i, j and ua ∼ va for
some arrow a : k → i. We can find a path w such that aw ∼ ωi . Then

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1531

ωj u ∼ uωi ∼ uaw ∼ vaw ∼ vωi ∼ ωj v.
Using condition (1) we obtain u ∼ v.
(2) ⇒ (3). Let us give a new description of the groupoid Pw Q/(∂W ). It is obtained from
the category PQ by adding morphisms ti : i → i, i ∈ Q0 , such that ati = tj a for any arrow
a : i → j and ti w = 1 for any cycle w along a face starting at i ∈ Q0 . It follows that two strict
paths u, v with the same endpoints are weakly equivalent if and only if v is obtained from u by
first inserting words of the form ti w in u (say r times), then moving the ti ’s inside the obtained
word, and finally deleting r words of the form ti w. Equivalently, we can insert r cycles along
faces into u and v so that we obtain equal words. This implies that uωr and vωr are strictly
equivalent. Condition (2) now implies that u and v are strictly equivalent.
(3) ⇒ (4). This follows from Proposition 4.8.
(4) ⇒ (1). Clear. ✷
We will call the following condition the first consistency condition and we will assume it
throughout the paper.
Condition 4.12. The equivalent conditions of Lemma 4.11 are satisfied.
Remark 4.13. It follows from [8, Lemma 5.3.1] that the condition (4) of Lemma 4.11 is satisfied
if there exists an R-charge on the brane tiling. An R-charge is a collection (Ra )a∈Q1 ∈ (0, 1)Q1
such that for every face F ∈ Q2 we have
Ra = 2
a∈F

and for every node i ∈ Q0 we have
(1 − Ra ) = 2.
a i

An easily verified criterion for the existence of R-charges is given in [12]. We thank Alastair
King for this remark.
Under the above condition and the nondegeneracy of the brane tiling, all the assumptions of
Section 2 are satisfied. Then Lemma 2.6 implies
Proposition 4.14. We have
Z i (A) =

xt (u) ∈ Q[[xj | j ∈ Q0 ]].
Ω⊂Δi u∈Ω
fin. ideal

This formula allows the computation of Z i (A) with the help of a computer. Let us discuss
some examples that were considered earlier in the literature.

1532

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

Fig. 1. The periodic quiver and a fundamental domain for C3 .

Fig. 2. The periodic quiver and a fundamental domain for the conifold.

Example 4.15. The simplest example is C3 . (See Fig. 1.) It corresponds to the quiver with
one node 0, three loops x, y, z, and potential W = xyz − xzy. The quiver potential algebra is
A = CQ/(∂W ) C[x, y, z]. Every path in Q is equivalent to x k y l zm for some (k, l, m) ∈ N3
and therefore the poset of paths Δ0 can be identified with N3 . Ideals in Δ0 correspond to the
3-dimensional Young diagrams. The generating function Z 0 (A) is given by the MacMahon function
M(1, x0 ) =
n 1

1
1 − x0n

n

.

Example 4.16. Szendr˝oi [18] considered the case of the conifold. (See Fig. 2.) It corresponds to
the quiver with nodes 0, 1 ∈ Z2 and arrows xi : i → i + 1, yi : i + 1 → i, i = 0, 1. The potential
is given by
W = x0 x1 y1 y0 − x1 x0 y0 y1 .
The poset Δ0 corresponds to the pyramid arrangement from [18]. Ideals in Δ0 correspond to the
pyramid partitions from [18]. A nice closed formula for Z i (A) was conjectured by Szendr˝oi [18,
Theorem 2.7.2] and proved by Young [19].
Example 4.17. The orbifold C3 /Zn with a group action
sponding McKay quiver is given by

1
n (1, 0, −1).

(See Fig. 3.) The corre-

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1533

Fig. 3. The periodic quiver and a fundamental domain for C3 /Z4 .

Fig. 4. The right picture is obtained from the left by drawing the shortest diagonals of the small parallelograms in green.
(For interpretation of the reference to color in this figure legend, the reader is referred to the web version of this article.)
z0

z1

0

y0

zn−1

z2

x0

x1

1

y1

xn−2

x2

2

y2

...

yn−2

n−1

xn−1 ,yn−1

The potential is given by
n

(xi yi zi+1 − zi yi xi ).

W=
i=1

The poset of paths Δ0 can be identified with the lattice N3 . New arrow x means increasing of
x-coordinate, y – increasing of y-coordinate, z – increasing of z-coordinate. The ideals in Δ0
correspond to 3-dimensional Young diagrams. The partition function Z 0 (A) is now an element
of Z[[x0 , . . . , xn−1 ]]. A simple formula for Z 0 (A) was also found by Young [19].
5. Path poset and perfect matchings
Let us first recall the nice correspondence between 3-dimensional Young diagrams and perfect
matchings of the plane tiling by equilateral triangles (we use the dual point of view and call the set
of edges a perfect matching if every face contains exactly one edge from this set). The following
picture should explain this correspondence. (See Fig. 4.)

1534

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

As we have seen in the last section, the 3-dimensional Young diagrams correspond to the
ideals of the poset Δ0 in the case of a quiver Q with one node 0, three arrows x, y, z and potential
W = xyz − zyx. The quiver Q is embedded in the torus and the corresponding periodic quiver
Q is embedded in the plane and defines there precisely the plane tiling by triangles discussed
above.
We have thus all ingredients to generalize the above correspondence to arbitrary brane tilings.
On the one hand we have ideals in the poset of equivalence classes of paths, and on the other
hand we have perfect matchings of the plane tiling defined by the periodic quiver. The goal of
this section is to construct such a correspondence.
So, let (Q, W ) be a quiver potential arising from a brane tiling satisfying the conditions of the
previous section. We fix some i0 ∈ Q0 . Let Δ = Δi0 be the poset of equivalence classes of paths
in Q starting at i0 and let Δ be the poset of equivalence classes of weak paths starting at i0 .
Remark 5.1. We can identify Δ with the set of equivalence classes of paths in Q starting at
π(i0 ).
For any i ∈ Q0 and any subset Ω ⊂ Δ , we define Ωi ⊂ Ω to be the set of all weak paths
ending at i. For any point i ∈ Q0 , we denote by vi ∈ Δi the shortest path between i0 and i (see
Remark 4.10). Then any weak path in Δi is equivalent to ωk vi for some k ∈ Z. Therefore we can
identify Δ with Q0 × Z and identify Δ with Q0 × N. For any ideal Ω ⊂ Δ, we define an ideal
Ω := Ω ∪ (Q0 × Z<0 ) in Δ .
Proposition 5.2. For any finite ideal Ω ⊂ Δ the set
I (Ω) := a : i → j ∃u ∈ Ωi , au ∈
/ Ωj ⊂ Q1
is a perfect matching of the plane tiling defined by Q (i.e. of the dual bipartite graph).
Proof. Let F be some face in Q. We will show that some of its arrows are contained in I (Ω).
If not, then for any arrow a : i → j and any path u ∈ Ωi , we have au ∈ Ωj . Going along the
face F , we get ωu ∈ Ωi and therefore ωk u ∈ Ωi for any k 0. It follows that Ωi is infinite.
Assume that there are two arrows a1 , a2 ∈ F contained in I (Ω). Let w2 a2 w1 a1 be the cycle
along the face F . Let ui ∈ Ωs(ai ) be such that ai ui ∈
/ Ωt (ai ) , i = 1, 2. Then w1 a1 u1 ∈
/ Ωs(a2 ) .
This implies that ωu2 w1 a1 u1 and w2 a2 u2 u1 . Analogously ωu1 w2 a2 u2 . This means
that ωu1 u1 , a contradiction. ✷
We call the perfect matching I0 = I (∅) the canonical perfect matching. We have
I0 = {a : i → j | avi > vj }.
A perfect matching I will be called congruent to I0 if the symmetric difference (I \I0 ) ∪ (I0 \I )
is finite. It is clear that any I (Ω) is congruent to I0 .
The following condition will be called the second consistency condition and will be assumed
throughout the paper.

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1535

Condition 5.3. For any two vertices i, j ∈ Q0 , there exists an arrow a : j → k such that avij is the
shortest path between i and k (here vij is the shortest paths between i and j , see Remark 4.10).
Also the dual condition is satisfied.
Remark 5.4. It was proved by Davison [4] that Condition 5.3 follows from our first consistency
condition. Earlier it was proved by Broomhead [3] that Condition 5.3 follows from the existence
of an R-charge on the brane tiling (see Remark 4.13).
In the next theorem we will actually need the above condition just for i = i0 . We will see in
the next section that the same condition is needed in order to ensure that the quiver potential
algebra CQ/(∂W ) is a 3-Calabi–Yau algebra.
Theorem 5.5. For any perfect matching I congruent to I0 , there exists a unique finite ideal Ω
of Δ such that I (Ω) = I . This ideal is defined as Ω ∩ Δ, where Ω is the minimal ideal in Δ ,
/ I and any u ∈ Ωs(a) , we have au ∈ Ωt (a) .
containing Q0 × Z<0 and such that for any arrow a ∈
Proof. Let Ω be the ideal in Δ described above and let Ω = Ω ∩ Δ. Let us show that Ω is
finite. The union I ∪ I0 considered on the bipartite graph G consists of coinciding arrows and
a finite number of cycles. On the periodic quiver Q these cycles go through a finite number of
faces and intersect them alternatingly in arrows from I and I0 . We will call such a cycle in Q a
trap. Every trap is determined by a sequence S of arrows in I and I0 that it intersects.
We claim that every trap contains i0 . Assume that i0 is outside of a trap. Let au ∈ Δ be one of
the shortest paths among all paths to the points inside the trap. Then s(a) is outside of the trap and
a ∈ S. We have vt (a) = avs(a) , so a ∈
/ I0 . This implies that all arrows from S ∩ I0 point outside
the trap and all arrows from S ∩ I point inside the trap. It follows that there exists some point i in
the trap such that for any arrow a : i → j , we have avi > vj , which contradicts our assumption.
Indeed, if this is not the case then using the fact that the number of points in the trap is finite, we
can find a cycle ar . . . a1 such that ai vs(ai ) ∼ vt (ai ) for all i and therefore ar . . . a1 vs(a1 ) ∼ vs(a1 ) ,
a contradiction. So, the point i0 is in the trap.
We claim that all arrows from S ∩ I0 point inside the trap. Let au ∈ Δ be one of the shortest
paths among all paths to the points outside the trap. Then avs(a) = vt (a) , so a ∈
/ I0 . It follows that
a ∈ I and all arrows from S ∩ I point outside the trap.
Starting with some path u = (i, −1) ∈ Ω , we apply to it all compatible arrows from Q1 \I . It
follows that either we stay in the same plane, or we apply some arrow from I0 \I increasing the
plane number by one and get automatically to some trap. Applying again the arrows from Q1 \I ,
we cannot get outside of the trap (all arrows pointing outside the trap are contained in I ). The
only possibility to get outside of the trap is to use the property that Ω is an ideal. So, we can
move outside of the trap along (the inverse of) some arrow from I0 , but then the plane number
will decrease by one.
We get an alternative description of Ω. The point (i, k) ∈ Q0 × N is contained in Ω if and
only if i is contained in more than k traps. From this description, it follows that Ω is finite.
Let us show that I (Ω) = I . We have to check two properties:
(1) If a : i → j is in I then there exists u ∈ Ωi such that au ∈
/ Ωj .
(2) If a : i → j is not in I then for all u ∈ Ωi , we have au ∈ Ωj .

1536

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

The second property follows from our construction. Consider some a : i → j in I . Let aw be a
cycle along the face in Q. Then no arrow from w is contained in I . It follows that for any u ∈ Ωj ,
we have wu ∈ Ωi . Let u = (j, k) ∈ Ωj be the path with the maximal k −1. Then wu ∈ Ωi , but
awu = (j, k + 1) ∈
/ Ωj . This proves the first property.
Let us show that Ω is uniquely determined. Assume that there exists some other finite ideal
Ω ⊃ Ω with I (Ω) = I . Let
A = {i ∈ Q0 | there exists u ∈ Ωi \Ωi }.
We claim that for any arrow a : i → j not in I , we have i ∈ A if and only if j ∈ A. If i ∈ A
then there exists some u ∈ Ωi \Ωi . It follows that au ∈ Ωj \Ωj and j ∈ A. Conversely, assume
that j ∈ A, so there exists some k 0 with (j, k) ∈ Ωj \Ωj . If a ∈
/ I0 then a(i, k) = (j, k) and
(i, k) ∈ Ωi \Ωi , so i ∈ A. If a ∈ I0 then (j, k) is in some trap, so (j, 0) ∈ Ωj and therefore k > 0.
It follows that (i, k − 1) = a −1 (j, k) ∈ Ωi \Ωi and i ∈ A.
The set Q1 \I connects all the nodes of Q, so A = Q0 . This contradicts the assumption that
Ω is finite. ✷
For any perfect matching I of Q, consider its characteristic function χI : Q1 → Z. If I is
congruent to I0 then there exists a unique function hI : Q0 → Z, called the height function, such
that for every arrow a : i → j , we have
hI (i) − hI (j ) = χI (a) − χI0 (a),
and hI (i) = 0 for i far enough from i0 . It is clear that hI (i) equals the number of traps (introduced in the theorem) containing i. In the course of the proof of the theorem, we have found an
alternative description of the finite ideal Ω satisfying I (Ω) = I . Namely,
Ω = (i, k) 0

k

hI (i) − 1 .

Corollary 5.6. We have
hI (i)
xπ(i)
.

Z i0 (A) =
I -perf . mat. i∈Q0

6. Calabi–Yau property
Let us study Condition 5.3 in more detail. We use the dual formulation.
Lemma 6.1. The following conditions are equivalent:
(1) If u is the shortest path in Q (between its endpoints), then there exists some arrow a with
t (a) = s(u) such that ua is also the shortest path.
(2) If w is a weak path in Q (or in Q) such that wa is equivalent to a strict path for any arrow
a with t (a) = s(w) then w is equivalent to a strict path.

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1537

Proof. Assume that the first condition is satisfied and let w be as in the second condition. We
can write w = ωk u, where u is the shortest path. To show that w is equivalent to a strict path,
we have to prove that k 0. Assume that k < 0. By the first condition there exists some arrow
a with t (a) = s(u) such that ua is the shortest path. But this implies that wa = ωk ua is not the
strict path, as k < 0. This contradicts our assumption on w.
Assume that the second condition is true and let u be as in the first condition. We consider
the weak path w = ω−1 u. If ua is not the shortest path for some arrow a, then ω−1 ua = wa is
equivalent to a strict path. It follows from the second condition that w = ω−1 u is equivalent to a
strict path, and therefore u is not the shortest one, a contradiction. ✷
For any Λ-graded A-module M and for any λ ∈ Λ, we denote by M[λ] a new Λ-graded
A-module with M[λ]μ = Mμ+λ . For any point i ∈ Q0 we denote by Si the one-dimensional
A-module concentrated at i. We endow Si with a Λ-grading so that all its elements have degree
zero.
Proposition 6.2. Assume that all consistency conditions are satisfied. Then for any i ∈ Q0 there
exists an exact sequence of Λ-graded A-modules
· ∂W a −1

·b
0 → Pi [−ω] −
→

·a
Pj [−a] −
→ Pi → Si → 0.

Pk [b − ω] −−∂b−−−→
b:k→i

a:i→j

Proof. Exactness of
· ∂W a −1

·a
Pj [−a] −
→ Pi → Si → 0

Pk [b − ω] −−∂b−−−→
b:k→i

a:i→j

is known (see e.g. [2]). We just have to prove the exactness in the term
Pk [b − ω]. A basis of
Pk is given by the set Δk of equivalence classes of paths starting at k. So a general element of
b:k→i Pk [b − ω] can be uniquely written in the form
xb,u u ⊗ b∗ ,

f=
t (b)=i u∈Δs(b)

where xb,u ∈ C, and we use the symbol b∗ to denote the appropriate direct summand. Let us
analyze the condition that for a : i → j , the image of f in Pj [−a] is zero. Let the terms of W
that contain a be abv and acw. Then we have
xb,u uv =
u∈Δs(b)

xc,u uw,
u ∈Δs(c)

or, equivalently
xb,u ub−1 =
u∈Δs(b)

xc,u u c−1 .
u ∈Δs(c)

1538

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

It follows that if xb,u = 0 then ub−1 = u c−1 for some path u ∈ Δs(c) and xc,u = xb,u . We have
shown this for two arrows b, c with t (b) = t (c) = i that belong to adjacent faces. If f is mapped
to zero, then this is true for two arbitrary arrows b, c with t (b) = t (c) = i. If xb,u = 0, then the
weak path γ = ub−1 satisfies the condition that for any arrow c with t (c) = s(γ ) = t (b) = i, the
weak path γ c is a strict path. From Lemma 6.1 it follows that γ is a strict path. Then xb,u γ ∈
Pi [−ω] is mapped to xb,u u ⊗ b∗ in Pk [b − ω]. This shows the exactness of the sequence in the
second term. ✷
Theorem 6.3. Assume that all consistency conditions are satisfied. Then the quiver potential
algebra CQ/(∂W ) is a 3-Calabi–Yau algebra.
Proof. We have to show the exactness of the sequence [7, Proposition 5.1.9, Corollary 5.3.3]
j

0→

ei A ⊗ Aei −
→
i

Aek ⊗ ei A →
b:k→i

Aej ⊗ ei A →
a:i→j

Aei ⊗ ei A → A → 0.
i

The exactness should be actually shown just in the first and the second terms.
Let us show that j is injective. The map j is given by [7]
x ⊗y →

yb ⊗ x − y ⊗ bx.
b:k→i

A general element in

i ei A ⊗ Aei

can be written in the form
xu ⊗ u,
i∈Q0 u∈Δi

where xu ∈ ei A for u ∈ Δi . If this element maps to zero then for any arrow b : k → i, we have
ub ⊗ xu =
u∈Δi

u ⊗ bxu ,
u∈Δk

and therefore xu = bxub for any u ∈ Δi . This easily implies that all xu are zero.
To prove the exactness in the second term, we just have to show that the character of the
complex of Λ-graded modules is zero. The character is defined as follows. For any Λ-graded
vector space V that is finite-dimensional in any degree, we define ch V = λ∈Λ dim Vλ t λ . For
any finite complex V· of Λ-graded vector spaces, we define ch(V· ) = k∈Z (−1)k ch(Vk ). For
a fixed i ∈ Q0 the corresponding summand of every component of the complex is obtained by
tensoring the component of the previous proposition with ei A. As the complex in the proposition
is exact, the character of the i-th component is zero. ✷
Remark 6.4. For any finite-dimensional modules M, N over CQ/(∂W ), we have
Extk (M, N )

Ext3−k (N, M)∨ ,

k = 0, 1, 2, 3.

If M and N are Λ-graded modules, then we have an isomorphism of Λ-graded vector spaces
Extk (M, N )

∨

Ext3−k N, M[−ω] ,

k = 0, 1, 2, 3.

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1539

7. Donaldson–Thomas invariants
Let (Q, W ) be a quiver potential arising from a brain tiling satisfying all consistency conditions and let A = CQ/(∂W ). Let i0 ∈ Q0 and α ∈ NQ0 . We put X = Hilbαi0 (A). It is known that
X has an (equivariant) symmetric obstruction theory [18, Theorem 1.3.1]. According to Behrend
and Fantechi [1, Theorem 3.4], the DT type invariant of X can be computed by the formula
#vir X =

(−1)dim T(M,m) X ,
(M,m)∈X T

where T(M,m) X is the tangent space at the T -fixed point (M, m). For any finite ideal Ω ⊂ Δi0 ,
let (M, m) be the corresponding T -fixed i0 -cyclic A-module and let dΩ be the dimension of the
tangent space at this point. Then we have
i

0
ZDT
(A) =

(−1)dΩ x Ω ,
Ω⊂Δi0

where Ω = (#Ωi )i∈Q0 ∈ NQ0 and Ωi is the set of paths in Ω with endpoint i ∈ Q0 .
Theorem 7.1. For any finite ideal Ω, we have
dΩ ≡ Ω i0 + Ω, Ω

(mod 2),

where −,− is the Ringel form of the quiver Q, given, for α, β ∈ ZQ0 , by
α, β =

αi βi −
i∈Q0

αi βj .
a:i→j

Proof. Let (M, m) be an i0 -cyclic A-module corresponding to Ω. Consider an exact sequence
0 → I → Pi0 → M → 0.
Note that all the modules in this sequence are Λ-graded. One can show, in the same way as for
Quot-schemes (see e.g. [10, Proposition 2.2.7]) that the tangent space T(M,m) X is isomorphic to
Hom(I, M). Consider the exact sequence
0 → Hom(M, M) → Hom(Pi0 , M) → Hom(I, M) → Ext1 (M, M) → 0.
The second map is actually zero, because any morphism f : Pi0 → M maps I to zero by degree
reasons. It follows that
dΩ = dim Hom(I, M) = dim Ext1 (M, M).
In order to find dim Ext1 (M, M), we will study the Euler characteristic χ(M, M). Usually it
is defined as an alternating sum of dimensions of Ext-groups, but this gives a rather unsatisfactory output in the case of Calabi–Yau algebras. Therefore, for any finite-dimensional Λ-graded
A-modules L, N , we define

1540

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

χ(L, N) =

(−1)k Extk (L, N ),
k 0

considered as an element of the Grothendieck group KΛ of Λ-graded vector spaces. It follows
from the results of the previous section that for any such modules L, N we have
Extk (L, N ) = Ext3−k N, L[−ω]

∨

= Ext3−k (N, L)∨ [ω]

in KΛ . For any λ ∈ Λ, we define t λ ∈ KΛ to be the element corresponding to the one-dimensional
vector space concentrated in degree λ. We define a homomorphism D : KΛ → KΛ by the formula
t λ → t −λ−ω . Then
Extk (L, N ) = D Ext3−k (N, L).
It follows from Proposition 6.2 that for any i, j ∈ Q0 we have
t −a +

χ(Si , Sj ) = δi,j −
a:i→j

t b−ω − δi,j t −ω .
b:j →i

This implies for the module M:
χ(M, M) =

t wt(v)−wt(u) −
u,v∈Ω
t (u)=t (v)

t wt(v)−wt(u)−a
u,v∈Ω
a:t (u)→t (v)

+

t wt(v)−wt(u)+b−ω −
u,v∈Ω
b:t (u)→t (v)

t wt(v)−wt(u)−ω .
u,v∈Ω
t (u)=t (v)

Therefore, for
A :=

t wt(v)−wt(u) −
u,v∈Ω
t (u)=t (v)

t wt(v)−wt(u)−a
u,v∈Ω
a:t (u)→t (v)

we have χ(M, M) = A − DA. Let us define
B := Hom(M, M) − Ext1 (M, M).
Then we have χ(M, M) = B − DB. Therefore
A − B = D(A − B).
If t λ has coefficient n in A − B then also t −λ−ω has coefficient n in A − B. Note that λ = −λ − ω
for any λ ∈ Λ. Indeed, if ω = −2λ then it follows from the exact sequence (see Section 3)
1→ω
0→Z−
−−→ Λ → coker d2 → 0

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1541

that coker d2 has torsion, contradicting Lemma 3.3. This implies that the dimension of A − B is
even. Now we compute
dim A =

Ω 2i −
i∈Q0

Ω i Ω j = Ω, Ω ,
a:i→j

dim Hom(M, M) = dim Hom(Pi0 , M) = Ω i0 ,
and
dim Ext1 (M, M) ≡ dim Hom(M, M) − dim A ≡ Ω i0 + Ω, Ω

(mod 2).

✷

Remark 7.2. Our result immediately implies [19, Theorem A.3] on the signs in the cases C3 /Zn
and C3 /(Z2 × Z2 ) and [18, Theorem 2.7.1] on the signs in the case of conifold.
Corollary 7.3. Let Z i0 (A) =

α∈NI

Z i0 (A)α x α . Then
(−1)αi0 + α,α Z i0 (A)α x α .

i

0
(A) =
ZDT

α∈NI

8. Rationality conjecture
In the last section we are going to discuss the structure of the generating function Z i (A) ∈
Q[[xj | j ∈ Q0 ]], where A = CQ/(∂W ) and i ∈ Q0 .
Let R = Q[[x1 , . . . , xr ]] and R + be its maximal ideal. We endow R with the structure of a
λ-ring (see [6] or [15, Appendix]) by defining the Adams operations ψn : R → R, n 1
ψn f (x1 , . . . , xr ) := f x1n , . . . , xrn .
We define a plethystic exponent Exp : R + → 1 + R + by the formula
Exp(f ) = exp
n 1

1
ψn (f ) .
n

Its inverse, plethystic logarithm Log : 1 + R + → R + , is given by
Log(f ) =
n 1

μ(n)
ψn log(f ) .
n

For example, the MacMahon function
M(x, z) =
n 1

1
1 − xzn

n

=

Exp xzn
n 1

n

nxzn = Exp

= Exp
n 1

xz
.
(1 − z)2

In [19] it was proved that the generating function Z i (A) in the cases of the orbifolds C3 /Zn
(with a group action n1 (1, 0, −1)) and C3 /(Z2 × Z2 ) (with a group action 12 (1, 0, 1) × 12 (0, 1, 1))

1542

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

and in the case of the conifold can be represented as a product of MacMahon functions. This
allows us to formulate
Conjecture 8.1. Let G be a consistent brane tiling, (Q, W ) be the corresponding quiver potential, A = CQ/(∂W ) be the quiver potential algebra and i ∈ Q0 be some vertex. Let r = #Q0 .
Then the power series
Log Z i (A)

x1 =···=xr =x

∈ Q[[x]]

is a rational function.
Remark 8.2. It is not true in general that the function Log(Z i (A)) is a rational function. This
can be seen already in the case of the orbifold C3 /Z3 with the group action 13 (1, 1, 1). We thank
Tom Bridgeland for this remark.
We have tested this conjecture using a computer in the case of a suspended pinch point (see
e.g. [5]), which is given by the quiver

1

3

2

with potential
W = x21 x12 x23 x32 − x32 x23 x31 x13 + x13 x31 x11 − x12 x21 x11 ,
where xij is an arrow between the points i and j . Then
Log Z 1 (A)
=

x 11

+ 2x 10 + 3x 9 + 2x 8 + 5x 7 + 6x 6 + 5x 5 + 2x 4 + 3x 3 + 2x 2 + x
,
(1 − x 6 )2

Log Z 2 (A)
=

x 11

x1 =x2 =x3 =x

x1 =x2 =x3 =x

+ x 10

+ 3x 9 + 3x 8 + 5x 7 + 6x 6 + 5x 5 + 3x 4 + 3x 3 + x 2 + x
.
(1 − x 6 )2

We have also tested Model I of dP 3 (see e.g. [5]), which is given by the quiver

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

1543

1

6

2

5

3

4
with potential
W = x12 x23 x34 x45 x56 x61 + x13 x35 x51 + x24 x46 x62
− x23 x35 x56 x62 − x13 x34 x46 x61 − x12 x24 x45 x51 .
In this case we have
Log Z 1 (A)
=

x 11

x1 =···=x6 =x

+ x 10

+ 2x 9 + 2x 8 + 5x 7 + 6x 6 + 5x 5 + 2x 4 + 2x 3 + x 2 + x
.
(1 − x 6 )2

Of course it would be nice to be able to write down the rational function predicted by the
conjecture just from the brane tiling data. At the moment we do not have such a construction.
References
[1] Kai Behrend, Barbara Fantechi, Symmetric obstruction theories and Hilbert schemes of points on threefolds, Algebra Number Theory 2 (3) (2008) 313–345, arXiv:math.AG/0512556.
[2] Raf Bocklandt, Graded Calabi–Yau algebras of dimension 3, J. Pure Appl. Algebra 212 (1) (2008) 14–32, arXiv:
math.RA/0603558.
[3] Nathan Broomhead, Dimer models and Calabi–Yau algebras, arXiv:0901.4662, PhD Thesis.
[4] Ben Davison, Consistency conditions for brane tilings, arXiv:0812.4185.
[5] Sebastián Franco, Amihay Hanany, David Vegh, Brian Wecht, Kristian D. Kennaway, Brane dimers and quiver
gauge theories, J. High Energy Phys. 0601 (2006) 096, 48 pp. (electronic), arXiv:hep-th/0504110.
[6] Ezra Getzler, Mixed Hodge structures of configuration spaces, Preprint 96-61, Max-Planck-Institut f. Mathematik,
Bonn, arXiv:alg-geom/9510018.
[7] Victor Ginzburg, Calabi–Yau algebras, arXiv:math.AG/0612139.
[8] Amihay Hanany, Christopher P. Herzog, David Vegh, Brane tilings and exceptional collections, J. High Energy
Phys. 0607 (2006) 001, 44 pp. (electronic), arXiv:hep-th/0602041v2.
[9] Amihay Hanany, David Vegh, Quivers, tilings, branes and rhombi, J. High Energy Phys. 0710 (2007) 029, 35 pp.,
arXiv:hep-th/0511063.
[10] Daniel Huybrechts, Manfred Lehn, The Geometry of Moduli Spaces of Sheaves, Aspects Math., vol. E31, Friedr.
Vieweg & Sohn, Braunschweig, 1997.
[11] Akira Ishii, Kazushi Ueda, On moduli spaces of quiver representations associated with brane tilings, arXiv:
0710.1898.
[12] Richard Kenyon, Jean-Marc Schlenker, Rhombic embeddings of planar quad-graphs, Trans. Amer. Math.
Soc. 357 (9) (2005) 3443–3458 (electronic), arXiv:math-ph/0305057v1.

1544

S. Mozgovoy, M. Reineke / Advances in Mathematics 223 (2010) 1521–1544

[13] A.D. King, Moduli of representations of finite-dimensional algebras, Q. J. Math. Oxford Ser. (2) 45 (180) (1994)
515–530.
[14] D. Maulik, N. Nekrasov, A. Okounkov, R. Pandharipande, Gromov–Witten theory and Donaldson–Thomas theory.
I, Compos. Math. 142 (5) (2006) 1263–1285, arXiv:math.AG/0312059.
[15] Sergey Mozgovoy, A computational criterion for the Kac conjecture, J. Algebra 318 (2) (2007) 669–679, arXiv:
math.RT/0608321.
[16] Kentaro Nagao, Derived categories of small toric Calabi–Yau 3-folds and counting invariants, arXiv:0809.2994.
[17] Kentaro Nagao, Hiraku Nakajima, Counting invariants of perverse coherent sheaves and its wall-crossing, arXiv:
0809.2992.
[18] Balázs Szendr˝oi, Non-commutative Donaldson–Thomas invariants and the conifold, Geom. Topol. 12 (2) (2008)
1171–1202, arXiv:0705.3419.
[19] Benjamin Young, Generating functions for colored 3D Young diagrams and the Donaldson–Thomas invariants of
orbifolds, arXiv:0802.3948, with an appendix by Jim Bryan.

